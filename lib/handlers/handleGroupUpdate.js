function a0_0x39a6(){const _0x3d721b=['profilePictureUrl','4907516UpZaFZ','length','968291ZsNlWW','utf8','5RLsPfS','{{user}}\x20has\x20been\x20demoted\x20from\x20admin.','groupID','Welcome\x20{{user}}\x20to\x20{{groupName}},\x20You\x20are\x20member\x20number\x20{{memberNumber}}.','image','../..','93289pwVDrr','215718rHEyef','readFileSync','demote','138yAgGQJ','Goodbye!\x20{{user}}\x20has\x20left\x20the\x20group.','8655504oTzAeB','2923716aOuWZT','Group\x20Name','database','groupMetadata','writeFileSync','sendMessage','autoLeave','trim','.png','participants','temp','split','welcomeMessage','leaveMessage','toLowerCase','promote','get','mkdirSync','1630431jVDuGI','set','join','existsSync','../../utils/lidToJid','add','../../settings','desc','../../utils/banner','subject','find'];a0_0x39a6=function(){return _0x3d721b;};return a0_0x39a6();}function a0_0x2104(_0x2b4ae7,_0x5d682e){const _0x39a64f=a0_0x39a6();return a0_0x2104=function(_0x2104c5,_0x43f7cb){_0x2104c5=_0x2104c5-0x13d;let _0x828490=_0x39a64f[_0x2104c5];return _0x828490;},a0_0x2104(_0x2b4ae7,_0x5d682e);}const a0_0x1a97fe=a0_0x2104;(function(_0xd9a2d6,_0x10c3e9){const _0x4019ec=a0_0x2104,_0xc046d9=_0xd9a2d6();while(!![]){try{const _0x19566c=parseInt(_0x4019ec(0x15e))/0x1+parseInt(_0x4019ec(0x167))/0x2+-parseInt(_0x4019ec(0x13e))/0x3+-parseInt(_0x4019ec(0x15c))/0x4*(-parseInt(_0x4019ec(0x160))/0x5)+parseInt(_0x4019ec(0x16a))/0x6*(parseInt(_0x4019ec(0x166))/0x7)+-parseInt(_0x4019ec(0x13d))/0x8+parseInt(_0x4019ec(0x150))/0x9;if(_0x19566c===_0x10c3e9)break;else _0xc046d9['push'](_0xc046d9['shift']());}catch(_0x170614){_0xc046d9['push'](_0xc046d9['shift']());}}}(a0_0x39a6,0xb33f7));const path=require('path'),fs=require('fs'),createWelcomeBanner=require(a0_0x1a97fe(0x158)),{settings}=require(a0_0x1a97fe(0x156)),lidToJid=require(a0_0x1a97fe(0x154)),groupActionsPath=path[a0_0x1a97fe(0x152)](__dirname,a0_0x1a97fe(0x165),a0_0x1a97fe(0x140),'groupActions.json');function loadGroupActions(){const _0x216db0=a0_0x1a97fe;if(!fs[_0x216db0(0x153)](groupActionsPath))return[];return JSON['parse'](fs[_0x216db0(0x168)](groupActionsPath,_0x216db0(0x15f)));}function replacePlaceholders(_0x18c1b5,_0x5ddf26){return _0x18c1b5['replace'](/\{\{(.*?)\}\}/gi,(_0x46a2f9,_0x1bb863)=>{const _0x38182d=a0_0x2104,_0x384490=_0x1bb863[_0x38182d(0x145)]()[_0x38182d(0x14c)]();return _0x5ddf26[_0x384490]??'';});}const handleGroupUpdate=async(_0x4962eb,_0x589008,_0x5566b6)=>{const _0x108ced=a0_0x1a97fe,{id:_0x2125b2,action:_0x44648b,participants:_0x19181f}=_0x4962eb;let _0x213ab0=_0x5566b6[_0x108ced(0x14e)](_0x2125b2);if(!_0x213ab0)try{_0x213ab0=await _0x589008[_0x108ced(0x141)](_0x2125b2),_0x5566b6[_0x108ced(0x151)](_0x2125b2,_0x213ab0);}catch{return;}const _0x3a4d73=loadGroupActions(),_0x1fc2ea=_0x3a4d73[_0x108ced(0x15a)](_0x5858e1=>_0x5858e1[_0x108ced(0x162)]===_0x2125b2);if(!_0x1fc2ea)return;const _0x49f767=async(_0x280e83,_0x765d66,_0xadca73,_0x2bee0e=![])=>{const _0x91f36c=_0x108ced,_0x2f9dbf=lidToJid(_0x280e83,_0x213ab0),_0xe09f2a=_0x2f9dbf[_0x91f36c(0x149)]('@')[0x0],_0x4efae1=_0x213ab0[_0x91f36c(0x147)][_0x91f36c(0x15d)],_0x4bee02=await _0x589008[_0x91f36c(0x15b)](_0x2f9dbf,_0x91f36c(0x164)),_0x28b52a={'user':'@'+_0xe09f2a,'groupname':_0x213ab0['subject']||_0x91f36c(0x13f),'membernumber':_0x4efae1,'desc':_0x213ab0[_0x91f36c(0x157)]||'No\x20description\x20available.'},_0x2ec7ea=replacePlaceholders(_0x765d66||_0xadca73,_0x28b52a);if(_0x2bee0e){const _0x2ad549=await createWelcomeBanner({'avatarUrl':_0x4bee02,'groupName':_0x213ab0[_0x91f36c(0x159)]||_0x91f36c(0x13f),'memberNumber':_0x4efae1}),_0xab11e=path['join'](__dirname,'..','..',_0x91f36c(0x148));!fs[_0x91f36c(0x153)](_0xab11e)&&fs[_0x91f36c(0x14f)](_0xab11e,{'recursive':!![]});const _0x74ea2d='welcome_'+_0xe09f2a+_0x91f36c(0x146),_0x47ce7b=path[_0x91f36c(0x152)](_0xab11e,_0x74ea2d);fs[_0x91f36c(0x142)](_0x47ce7b,_0x2ad549),await _0x589008[_0x91f36c(0x143)](_0x2125b2,{'image':fs[_0x91f36c(0x168)](_0x47ce7b),'caption':_0x2ec7ea,'mentions':[_0x2f9dbf]}),fs['unlinkSync'](_0x47ce7b);}else await _0x589008['sendMessage'](_0x2125b2,{'text':_0x2ec7ea,'mentions':[_0x2f9dbf]});};if(_0x44648b===_0x108ced(0x155)&&_0x19181f[_0x108ced(0x15d)]>0x0&&settings['autoWelcome'])for(const _0x182c8f of _0x19181f){await _0x49f767(_0x182c8f,_0x1fc2ea[_0x108ced(0x14a)],_0x108ced(0x163),_0x1fc2ea['welcomeBanner']);}if(_0x44648b==='remove'&&_0x19181f[_0x108ced(0x15d)]>0x0&&settings[_0x108ced(0x144)])for(const _0x50f4df of _0x19181f){await _0x49f767(_0x50f4df,_0x1fc2ea[_0x108ced(0x14b)],_0x108ced(0x16b));}if(_0x44648b===_0x108ced(0x14d)&&_0x19181f[_0x108ced(0x15d)]>0x0&&settings['autoPromote'])for(const _0x3af6e2 of _0x19181f){await _0x49f767(_0x3af6e2,_0x1fc2ea['promoteMessage'],'{{user}}\x20has\x20been\x20promoted\x20to\x20admin.');}if(_0x44648b===_0x108ced(0x169)&&_0x19181f['length']>0x0&&settings['autoDemote'])for(const _0x49ac25 of _0x19181f){await _0x49f767(_0x49ac25,_0x1fc2ea['demoteMessage'],_0x108ced(0x161));}};module['exports']=handleGroupUpdate;