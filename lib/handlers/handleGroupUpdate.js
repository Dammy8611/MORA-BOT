const a0_0x59f35d=a0_0x5d34;(function(_0x463ec8,_0x59ed4b){const _0x32b507=a0_0x5d34,_0x338bf2=_0x463ec8();while(!![]){try{const _0x5403df=-parseInt(_0x32b507(0x1b7))/0x1*(-parseInt(_0x32b507(0x19e))/0x2)+-parseInt(_0x32b507(0x19d))/0x3*(parseInt(_0x32b507(0x198))/0x4)+parseInt(_0x32b507(0x1b0))/0x5*(-parseInt(_0x32b507(0x197))/0x6)+-parseInt(_0x32b507(0x1ab))/0x7+parseInt(_0x32b507(0x187))/0x8+-parseInt(_0x32b507(0x1a3))/0x9*(parseInt(_0x32b507(0x196))/0xa)+parseInt(_0x32b507(0x189))/0xb*(parseInt(_0x32b507(0x192))/0xc);if(_0x5403df===_0x59ed4b)break;else _0x338bf2['push'](_0x338bf2['shift']());}catch(_0x4489c4){_0x338bf2['push'](_0x338bf2['shift']());}}}(a0_0x1b88,0xa397c));function a0_0x1b88(){const _0x5cbd9d=['../..','path','replace','.png','image','demoteMessage','welcomeBanner','find','21480qeTqGx','temp','welcomeMessage','promote','50CyQUgX','108WzRpVZ','28696PUTTtz','join','autoLeave','../../utils/banner','welcome_','471zpAfHj','6410UgjBkH','toLowerCase','{{user}}\x20has\x20been\x20promoted\x20to\x20admin.','existsSync','profilePictureUrl','1145772rZojhW','groupMetadata','remove','unlinkSync','Goodbye!\x20{{user}}\x20has\x20left\x20the\x20group.','Welcome\x20{{user}}\x20to\x20{{groupName}},\x20You\x20are\x20member\x20number\x20{{memberNumber}}.','Group\x20Name','subject','2443707dQkHmL','promoteMessage','demote','sendMessage','set','65545nozWxL','add','readFileSync','participants','trim','writeFileSync','mkdirSync','238aINDWc','database','groupActions.json','length','autoDemote','10666856eJIIqM','get','5665awBQng'];a0_0x1b88=function(){return _0x5cbd9d;};return a0_0x1b88();}const path=require(a0_0x59f35d(0x18b)),fs=require('fs'),createWelcomeBanner=require(a0_0x59f35d(0x19b)),{settings}=require('../../settings'),lidToJid=require('../../utils/lidToJid'),groupActionsPath=path[a0_0x59f35d(0x199)](__dirname,a0_0x59f35d(0x18a),a0_0x59f35d(0x1b8),a0_0x59f35d(0x1b9));function a0_0x5d34(_0x33707f,_0x4421d3){const _0x1b88a7=a0_0x1b88();return a0_0x5d34=function(_0x5d340c,_0x1fe510){_0x5d340c=_0x5d340c-0x185;let _0x2befa9=_0x1b88a7[_0x5d340c];return _0x2befa9;},a0_0x5d34(_0x33707f,_0x4421d3);}function loadGroupActions(){const _0x5c1f1c=a0_0x59f35d;if(!fs[_0x5c1f1c(0x1a1)](groupActionsPath))return[];return JSON['parse'](fs[_0x5c1f1c(0x1b2)](groupActionsPath,'utf8'));}function replacePlaceholders(_0x13085e,_0x25c7cd){const _0x5179a3=a0_0x59f35d;return _0x13085e[_0x5179a3(0x18c)](/\{\{(.*?)\}\}/gi,(_0x555fc3,_0x3fba05)=>{const _0x299bc9=_0x5179a3,_0x391c2f=_0x3fba05[_0x299bc9(0x1b4)]()[_0x299bc9(0x19f)]();return _0x25c7cd[_0x391c2f]??'';});}const handleGroupUpdate=async(_0x317cdd,_0x413af2,_0x297866)=>{const _0x52715b=a0_0x59f35d,{id:_0x2f3a01,action:_0x56cc1c,participants:_0x37287d}=_0x317cdd;let _0x58456b=_0x297866[_0x52715b(0x188)](_0x2f3a01);if(!_0x58456b)try{_0x58456b=await _0x413af2[_0x52715b(0x1a4)](_0x2f3a01),_0x297866[_0x52715b(0x1af)](_0x2f3a01,_0x58456b);}catch{return;}const _0xce69f=loadGroupActions(),_0x5709f3=_0xce69f[_0x52715b(0x191)](_0x31a319=>_0x31a319['groupID']===_0x2f3a01);if(!_0x5709f3)return;const _0x345462=async(_0x5b6a68,_0x29e5b4,_0x18d3b1,_0x32186a=![])=>{const _0xfc1cd2=_0x52715b,_0x4de40e=lidToJid(_0x5b6a68,_0x58456b),_0xd67d65=_0x4de40e['split']('@')[0x0],_0x5fbec7=_0x58456b[_0xfc1cd2(0x1b3)][_0xfc1cd2(0x185)],_0x403734=await _0x413af2[_0xfc1cd2(0x1a2)](_0x4de40e,_0xfc1cd2(0x18e)),_0x3ccf45={'user':'@'+_0xd67d65,'groupname':_0x58456b[_0xfc1cd2(0x1aa)]||_0xfc1cd2(0x1a9),'membernumber':_0x5fbec7,'desc':_0x58456b['desc']||'No\x20description\x20available.'},_0x238b0f=replacePlaceholders(_0x29e5b4||_0x18d3b1,_0x3ccf45);if(_0x32186a){const _0x4533c9=await createWelcomeBanner({'avatarUrl':_0x403734,'groupName':_0x58456b[_0xfc1cd2(0x1aa)]||_0xfc1cd2(0x1a9),'memberNumber':_0x5fbec7}),_0x331fc6=path[_0xfc1cd2(0x199)](__dirname,'..','..',_0xfc1cd2(0x193));!fs[_0xfc1cd2(0x1a1)](_0x331fc6)&&fs[_0xfc1cd2(0x1b6)](_0x331fc6,{'recursive':!![]});const _0x3ee800=_0xfc1cd2(0x19c)+_0xd67d65+_0xfc1cd2(0x18d),_0x26b0e6=path[_0xfc1cd2(0x199)](_0x331fc6,_0x3ee800);fs[_0xfc1cd2(0x1b5)](_0x26b0e6,_0x4533c9),await _0x413af2['sendMessage'](_0x2f3a01,{'image':fs[_0xfc1cd2(0x1b2)](_0x26b0e6),'caption':_0x238b0f,'mentions':[_0x4de40e]}),fs[_0xfc1cd2(0x1a6)](_0x26b0e6);}else await _0x413af2[_0xfc1cd2(0x1ae)](_0x2f3a01,{'text':_0x238b0f,'mentions':[_0x4de40e]});};if(_0x56cc1c===_0x52715b(0x1b1)&&_0x37287d[_0x52715b(0x185)]>0x0&&settings['autoWelcome'])for(const _0x3f90ae of _0x37287d){await _0x345462(_0x3f90ae,_0x5709f3[_0x52715b(0x194)],_0x52715b(0x1a8),_0x5709f3[_0x52715b(0x190)]);}if(_0x56cc1c===_0x52715b(0x1a5)&&_0x37287d[_0x52715b(0x185)]>0x0&&settings[_0x52715b(0x19a)])for(const _0x36d964 of _0x37287d){await _0x345462(_0x36d964,_0x5709f3['leaveMessage'],_0x52715b(0x1a7));}if(_0x56cc1c===_0x52715b(0x195)&&_0x37287d[_0x52715b(0x185)]>0x0&&settings['autoPromote'])for(const _0x4e1b33 of _0x37287d){await _0x345462(_0x4e1b33,_0x5709f3[_0x52715b(0x1ac)],_0x52715b(0x1a0));}if(_0x56cc1c===_0x52715b(0x1ad)&&_0x37287d[_0x52715b(0x185)]>0x0&&settings[_0x52715b(0x186)])for(const _0x1e63ac of _0x37287d){await _0x345462(_0x1e63ac,_0x5709f3[_0x52715b(0x18f)],'{{user}}\x20has\x20been\x20demoted\x20from\x20admin.');}};module['exports']=handleGroupUpdate;