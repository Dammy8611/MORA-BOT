const a0_0x3698ea=a0_0xe377;function a0_0xe377(_0x5d3438,_0x431fb9){const _0x17c1b3=a0_0x17c1();return a0_0xe377=function(_0xe37735,_0x1c847b){_0xe37735=_0xe37735-0x17e;let _0x8f439d=_0x17c1b3[_0xe37735];return _0x8f439d;},a0_0xe377(_0x5d3438,_0x431fb9);}(function(_0x159df1,_0x52de82){const _0x16cf05=a0_0xe377,_0x360798=_0x159df1();while(!![]){try{const _0x31e9cf=parseInt(_0x16cf05(0x1ad))/0x1+parseInt(_0x16cf05(0x18b))/0x2+parseInt(_0x16cf05(0x1a9))/0x3+parseInt(_0x16cf05(0x19d))/0x4+parseInt(_0x16cf05(0x196))/0x5*(-parseInt(_0x16cf05(0x185))/0x6)+parseInt(_0x16cf05(0x192))/0x7+parseInt(_0x16cf05(0x180))/0x8*(-parseInt(_0x16cf05(0x19a))/0x9);if(_0x31e9cf===_0x52de82)break;else _0x360798['push'](_0x360798['shift']());}catch(_0x3accd3){_0x360798['push'](_0x360798['shift']());}}}(a0_0x17c1,0x524d1));const path=require('path'),fs=require('fs'),createWelcomeBanner=require('../../utils/banner'),{settings}=require('../../settings'),lidToJid=require('../../utils/lidToJid'),groupActionsPath=path['join'](__dirname,'../..',a0_0x3698ea(0x1ac),a0_0x3698ea(0x1a7));function loadGroupActions(){const _0x3d2159=a0_0x3698ea;if(!fs[_0x3d2159(0x197)](groupActionsPath))return[];return JSON['parse'](fs[_0x3d2159(0x1ab)](groupActionsPath,'utf8'));}function replacePlaceholders(_0x3fd98e,_0xa1cb26){return _0x3fd98e['replace'](/\{\{(.*?)\}\}/gi,(_0x570fa9,_0x581151)=>{const _0xd32425=a0_0xe377,_0x4d1df8=_0x581151[_0xd32425(0x17f)]()[_0xd32425(0x199)]();return _0xa1cb26[_0x4d1df8]??'';});}const handleGroupUpdate=async(_0x267251,_0x7b659e,_0x1768af)=>{const _0x232188=a0_0x3698ea,{id:_0x5446e1,action:_0x31f81c,participants:_0x36930b}=_0x267251;let _0xf34d4a=_0x1768af[_0x232188(0x190)](_0x5446e1);if(!_0xf34d4a)try{_0xf34d4a=await _0x7b659e[_0x232188(0x195)](_0x5446e1),_0x1768af[_0x232188(0x18a)](_0x5446e1,_0xf34d4a);}catch{return;}const _0xde89b5=loadGroupActions(),_0x99c1e=_0xde89b5['find'](_0x437dc6=>_0x437dc6['groupID']===_0x5446e1);if(!_0x99c1e)return;const _0x39eddd=async(_0x19ead9,_0x2d38aa,_0x24224e,_0x2a2190=![])=>{const _0x2d4075=_0x232188,_0x2d4ea4=lidToJid(_0x19ead9,_0xf34d4a),_0x44bf4a=_0x2d4ea4[_0x2d4075(0x184)]('@')[0x0],_0x4c25ad=_0xf34d4a[_0x2d4075(0x189)][_0x2d4075(0x19c)],_0x1bb936=await _0x7b659e[_0x2d4075(0x1aa)](_0x2d4ea4,_0x2d4075(0x181)),_0x3deef7={'user':'@'+_0x44bf4a,'groupname':_0xf34d4a[_0x2d4075(0x1a0)]||_0x2d4075(0x19e),'membernumber':_0x4c25ad,'desc':_0xf34d4a[_0x2d4075(0x18f)]||_0x2d4075(0x194)},_0x3ea896=replacePlaceholders(_0x2d38aa||_0x24224e,_0x3deef7);if(_0x2a2190){const _0x320e20=await createWelcomeBanner({'avatarUrl':_0x1bb936,'groupName':_0xf34d4a[_0x2d4075(0x1a0)]||_0x2d4075(0x19e),'memberNumber':_0x4c25ad}),_0x571786=path[_0x2d4075(0x1a6)](__dirname,'..','..',_0x2d4075(0x18c));!fs[_0x2d4075(0x197)](_0x571786)&&fs[_0x2d4075(0x182)](_0x571786,{'recursive':!![]});const _0x2a2624=_0x2d4075(0x1a8)+_0x44bf4a+_0x2d4075(0x19b),_0x7f2f23=path[_0x2d4075(0x1a6)](_0x571786,_0x2a2624);fs[_0x2d4075(0x1a4)](_0x7f2f23,_0x320e20),await _0x7b659e[_0x2d4075(0x18e)](_0x5446e1,{'image':fs[_0x2d4075(0x1ab)](_0x7f2f23),'caption':_0x3ea896,'mentions':[_0x2d4ea4]}),fs['unlinkSync'](_0x7f2f23);}else await _0x7b659e[_0x2d4075(0x18e)](_0x5446e1,{'text':_0x3ea896,'mentions':[_0x2d4ea4]});};if(_0x31f81c===_0x232188(0x191)&&_0x36930b['length']>0x0&&settings[_0x232188(0x18d)])for(const _0x19090f of _0x36930b){await _0x39eddd(_0x19090f,_0x99c1e[_0x232188(0x183)],_0x232188(0x186),_0x99c1e[_0x232188(0x17e)]);}if(_0x31f81c===_0x232188(0x1a5)&&_0x36930b[_0x232188(0x19c)]>0x0&&settings[_0x232188(0x1a1)])for(const _0x5af02e of _0x36930b){await _0x39eddd(_0x5af02e,_0x99c1e[_0x232188(0x188)],'Goodbye!\x20{{user}}\x20has\x20left\x20the\x20group.');}if(_0x31f81c===_0x232188(0x193)&&_0x36930b[_0x232188(0x19c)]>0x0&&settings['autoPromote'])for(const _0x247b7c of _0x36930b){await _0x39eddd(_0x247b7c,_0x99c1e[_0x232188(0x1a3)],_0x232188(0x198));}if(_0x31f81c===_0x232188(0x1a2)&&_0x36930b[_0x232188(0x19c)]>0x0&&settings['autoDemote'])for(const _0x4bc01e of _0x36930b){await _0x39eddd(_0x4bc01e,_0x99c1e['demoteMessage'],_0x232188(0x19f));}};module[a0_0x3698ea(0x187)]=handleGroupUpdate;function a0_0x17c1(){const _0x474ece=['set','742156SxZkSX','temp','autoWelcome','sendMessage','desc','get','add','3279227NFmYqy','promote','No\x20description\x20available.','groupMetadata','2325ASWbRU','existsSync','{{user}}\x20has\x20been\x20promoted\x20to\x20admin.','toLowerCase','192366QbdhwJ','.png','length','1519308mWhAUx','Group\x20Name','{{user}}\x20has\x20been\x20demoted\x20from\x20admin.','subject','autoLeave','demote','promoteMessage','writeFileSync','remove','join','groupActions.json','welcome_','502584NatbuC','profilePictureUrl','readFileSync','database','474740KHZGar','welcomeBanner','trim','568hNXVXT','image','mkdirSync','welcomeMessage','split','90ypzwgU','Welcome\x20{{user}}\x20to\x20{{groupName}},\x20You\x20are\x20member\x20number\x20{{memberNumber}}.','exports','leaveMessage','participants'];a0_0x17c1=function(){return _0x474ece;};return a0_0x17c1();}