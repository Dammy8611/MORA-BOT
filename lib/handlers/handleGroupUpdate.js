const a0_0x4b4705=a0_0x5c41;(function(_0x3540df,_0x101816){const _0x549bd4=a0_0x5c41,_0x51e412=_0x3540df();while(!![]){try{const _0x149de3=-parseInt(_0x549bd4(0x1a8))/0x1+-parseInt(_0x549bd4(0x1b6))/0x2*(parseInt(_0x549bd4(0x1c4))/0x3)+-parseInt(_0x549bd4(0x1ca))/0x4+parseInt(_0x549bd4(0x1b9))/0x5*(parseInt(_0x549bd4(0x1c0))/0x6)+-parseInt(_0x549bd4(0x1b2))/0x7+-parseInt(_0x549bd4(0x1d2))/0x8+parseInt(_0x549bd4(0x1b1))/0x9;if(_0x149de3===_0x101816)break;else _0x51e412['push'](_0x51e412['shift']());}catch(_0x1925d6){_0x51e412['push'](_0x51e412['shift']());}}}(a0_0x4fa6,0x890fa));const path=require(a0_0x4b4705(0x1a7)),fs=require('fs'),createWelcomeBanner=require(a0_0x4b4705(0x1aa)),{settings}=require(a0_0x4b4705(0x1a4)),lidToJid=require('../../utils/lidToJid'),groupActionsPath=path[a0_0x4b4705(0x1cc)](__dirname,a0_0x4b4705(0x1be),'database',a0_0x4b4705(0x1a6));function a0_0x5c41(_0x59daca,_0x1ce2a7){const _0x4fa6d3=a0_0x4fa6();return a0_0x5c41=function(_0x5c4193,_0xd58b36){_0x5c4193=_0x5c4193-0x1a2;let _0x5cfab2=_0x4fa6d3[_0x5c4193];return _0x5cfab2;},a0_0x5c41(_0x59daca,_0x1ce2a7);}function loadGroupActions(){const _0x311e9d=a0_0x4b4705;if(!fs[_0x311e9d(0x1d0)](groupActionsPath))return[];return JSON[_0x311e9d(0x1b0)](fs[_0x311e9d(0x1ac)](groupActionsPath,_0x311e9d(0x1a9)));}function replacePlaceholders(_0x4441f3,_0x30d5ea){const _0x395cd5=a0_0x4b4705;return _0x4441f3[_0x395cd5(0x1c9)](/\{\{(.*?)\}\}/gi,(_0x495646,_0x3af6f4)=>{const _0x5d006e=_0x395cd5,_0x581e17=_0x3af6f4[_0x5d006e(0x1bd)]()['toLowerCase']();return _0x30d5ea[_0x581e17]??'';});}const handleGroupUpdate=async(_0x5e0015,_0x45d3be,_0x397335)=>{const _0x5e0812=a0_0x4b4705,{id:_0x1e3411,action:_0x5be200,participants:_0xcff27e}=_0x5e0015;let _0x4dba5f=_0x397335[_0x5e0812(0x1bb)](_0x1e3411);if(!_0x4dba5f)try{_0x4dba5f=await _0x45d3be[_0x5e0812(0x1c2)](_0x1e3411),_0x397335[_0x5e0812(0x1b8)](_0x1e3411,_0x4dba5f);}catch{return;}const _0x223e5a=loadGroupActions(),_0x3c5b5d=_0x223e5a[_0x5e0812(0x1b3)](_0x4434bb=>_0x4434bb[_0x5e0812(0x1c3)]===_0x1e3411);if(!_0x3c5b5d)return;const _0x2d9e7b=async(_0x1631f3,_0x342386,_0x16b8e8,_0x27164f=![])=>{const _0x3566c6=_0x5e0812,_0xac8b51=lidToJid(_0x1631f3,_0x4dba5f),_0x3a33cf=_0xac8b51[_0x3566c6(0x1ae)]('@')[0x0],_0xd3a76b=_0x4dba5f['participants'][_0x3566c6(0x1ab)],_0x385b39=await _0x45d3be[_0x3566c6(0x1bc)](_0xac8b51,_0x3566c6(0x1d5)),_0x3619e3={'user':'@'+_0x3a33cf,'groupname':_0x4dba5f[_0x3566c6(0x1ad)]||_0x3566c6(0x1ce),'membernumber':_0xd3a76b,'desc':_0x4dba5f[_0x3566c6(0x1d1)]||_0x3566c6(0x1d3)},_0x504abd=replacePlaceholders(_0x342386||_0x16b8e8,_0x3619e3);if(_0x27164f){const _0x6978fb=await createWelcomeBanner({'avatarUrl':_0x385b39,'groupName':_0x4dba5f['subject']||_0x3566c6(0x1ce),'memberNumber':_0xd3a76b}),_0x4fdecd=path[_0x3566c6(0x1cc)](__dirname,'..','..',_0x3566c6(0x1ba));!fs[_0x3566c6(0x1d0)](_0x4fdecd)&&fs['mkdirSync'](_0x4fdecd,{'recursive':!![]});const _0x101960=_0x3566c6(0x1c6)+_0x3a33cf+_0x3566c6(0x1d4),_0x520058=path[_0x3566c6(0x1cc)](_0x4fdecd,_0x101960);fs[_0x3566c6(0x1c7)](_0x520058,_0x6978fb),await _0x45d3be['sendMessage'](_0x1e3411,{'image':fs[_0x3566c6(0x1ac)](_0x520058),'caption':_0x504abd,'mentions':[_0xac8b51]}),fs[_0x3566c6(0x1c1)](_0x520058);}else await _0x45d3be['sendMessage'](_0x1e3411,{'text':_0x504abd,'mentions':[_0xac8b51]});};if(_0x5be200===_0x5e0812(0x1b7)&&_0xcff27e['length']>0x0&&settings['autoWelcome'])for(const _0x3b3e2a of _0xcff27e){await _0x2d9e7b(_0x3b3e2a,_0x3c5b5d[_0x5e0812(0x1cb)],_0x5e0812(0x1c8),_0x3c5b5d[_0x5e0812(0x1a3)]);}if(_0x5be200===_0x5e0812(0x1a2)&&_0xcff27e['length']>0x0&&settings[_0x5e0812(0x1af)])for(const _0x3a4018 of _0xcff27e){await _0x2d9e7b(_0x3a4018,_0x3c5b5d['leaveMessage'],_0x5e0812(0x1a5));}if(_0x5be200===_0x5e0812(0x1bf)&&_0xcff27e[_0x5e0812(0x1ab)]>0x0&&settings[_0x5e0812(0x1cf)])for(const _0xcc9b0f of _0xcff27e){await _0x2d9e7b(_0xcc9b0f,_0x3c5b5d['promoteMessage'],'{{user}}\x20has\x20been\x20promoted\x20to\x20admin.');}if(_0x5be200===_0x5e0812(0x1c5)&&_0xcff27e[_0x5e0812(0x1ab)]>0x0&&settings[_0x5e0812(0x1b5)])for(const _0x33dcd7 of _0xcff27e){await _0x2d9e7b(_0x33dcd7,_0x3c5b5d[_0x5e0812(0x1cd)],'{{user}}\x20has\x20been\x20demoted\x20from\x20admin.');}};function a0_0x4fa6(){const _0x2d6bfc=['utf8','../../utils/banner','length','readFileSync','subject','split','autoLeave','parse','22534992MJsQIF','3170223eVtQOO','find','exports','autoDemote','1306612OChmtZ','add','set','1320ktHXUm','temp','get','profilePictureUrl','trim','../..','promote','14682NgSjgO','unlinkSync','groupMetadata','groupID','3linIEg','demote','welcome_','writeFileSync','Welcome\x20{{user}}\x20to\x20{{groupName}},\x20You\x20are\x20member\x20number\x20{{memberNumber}}.','replace','1486028cXxeQP','welcomeMessage','join','demoteMessage','Group\x20Name','autoPromote','existsSync','desc','7750024POmXQJ','No\x20description\x20available.','.png','image','remove','welcomeBanner','../../settings','Goodbye!\x20{{user}}\x20has\x20left\x20the\x20group.','groupActions.json','path','142039snUnGM'];a0_0x4fa6=function(){return _0x2d6bfc;};return a0_0x4fa6();}module[a0_0x4b4705(0x1b4)]=handleGroupUpdate;