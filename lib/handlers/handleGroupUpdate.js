const a0_0x31d375=a0_0x505f;function a0_0x2790(){const _0xb18443=['Group\x20Name','demote','../../settings','set','groupActions.json','promote','../../utils/lidToJid','subject','leaveMessage','1174824HfAfNi','writeFileSync','56EQyGdB','trim','join','temp','length','.png','remove','{{user}}\x20has\x20been\x20demoted\x20from\x20admin.','utf8','promoteMessage','8UfNryc','773406EARFuT','add','{{user}}\x20has\x20been\x20promoted\x20to\x20admin.','../../utils/banner','sendMessage','1825191KyQqig','groupMetadata','../..','Welcome\x20{{user}}\x20to\x20{{groupName}},\x20You\x20are\x20member\x20number\x20{{memberNumber}}.','37833IrLrql','autoDemote','825650FoMKhs','mkdirSync','exports','replace','get','parse','78004topwrT','241940LyqafW','existsSync','demoteMessage','welcome_','autoPromote','split','welcomeMessage'];a0_0x2790=function(){return _0xb18443;};return a0_0x2790();}(function(_0x5146f9,_0x508a39){const _0x2a5398=a0_0x505f,_0x2ee607=_0x5146f9();while(!![]){try{const _0x327499=parseInt(_0x2a5398(0xca))/0x1+-parseInt(_0x2a5398(0xcb))/0x2+-parseInt(_0x2a5398(0xf1))/0x3*(parseInt(_0x2a5398(0xdd))/0x4)+parseInt(_0x2a5398(0xf3))/0x5+parseInt(_0x2a5398(0xe8))/0x6+-parseInt(_0x2a5398(0xdb))/0x7+parseInt(_0x2a5398(0xe7))/0x8*(parseInt(_0x2a5398(0xed))/0x9);if(_0x327499===_0x508a39)break;else _0x2ee607['push'](_0x2ee607['shift']());}catch(_0x2980af){_0x2ee607['push'](_0x2ee607['shift']());}}}(a0_0x2790,0x1aba6));const path=require('path'),fs=require('fs'),createWelcomeBanner=require(a0_0x31d375(0xeb)),{settings}=require(a0_0x31d375(0xd4)),lidToJid=require(a0_0x31d375(0xd8)),groupActionsPath=path[a0_0x31d375(0xdf)](__dirname,a0_0x31d375(0xef),'database',a0_0x31d375(0xd6));function loadGroupActions(){const _0x4bd884=a0_0x31d375;if(!fs[_0x4bd884(0xcc)](groupActionsPath))return[];return JSON[_0x4bd884(0xc9)](fs['readFileSync'](groupActionsPath,_0x4bd884(0xe5)));}function replacePlaceholders(_0x29a2c2,_0x12cbf9){const _0x65b109=a0_0x31d375;return _0x29a2c2[_0x65b109(0xf6)](/\{\{(.*?)\}\}/gi,(_0x1cbcfc,_0x397607)=>{const _0x47e16b=_0x65b109,_0x57d8e7=_0x397607[_0x47e16b(0xde)]()['toLowerCase']();return _0x12cbf9[_0x57d8e7]??'';});}function a0_0x505f(_0x1877fb,_0x442350){const _0x279010=a0_0x2790();return a0_0x505f=function(_0x505f08,_0x5b883f){_0x505f08=_0x505f08-0xc8;let _0x61961b=_0x279010[_0x505f08];return _0x61961b;},a0_0x505f(_0x1877fb,_0x442350);}const handleGroupUpdate=async(_0x20cddb,_0x421fae,_0x35177c)=>{const _0x348dd2=a0_0x31d375,{id:_0x4ef92a,action:_0x16791e,participants:_0x29daa3}=_0x20cddb;let _0x40e18e=_0x35177c[_0x348dd2(0xc8)](_0x4ef92a);if(!_0x40e18e)try{_0x40e18e=await _0x421fae[_0x348dd2(0xee)](_0x4ef92a),_0x35177c[_0x348dd2(0xd5)](_0x4ef92a,_0x40e18e);}catch{return;}const _0x295040=loadGroupActions(),_0x497f5e=_0x295040['find'](_0x1de98a=>_0x1de98a['groupID']===_0x4ef92a);if(!_0x497f5e)return;const _0x2a0f04=async(_0x1fa52e,_0x408b38,_0x2cb6f4,_0x177bbe=![])=>{const _0x3b4b0a=_0x348dd2,_0x4b6ccc=lidToJid(_0x1fa52e,_0x40e18e),_0x5b7eb2=_0x4b6ccc[_0x3b4b0a(0xd0)]('@')[0x0],_0x663187=_0x40e18e['participants'][_0x3b4b0a(0xe1)],_0x370a82={'user':'@'+_0x5b7eb2,'groupname':_0x40e18e['subject']||_0x3b4b0a(0xd2),'membernumber':_0x663187},_0x987187=replacePlaceholders(_0x408b38||_0x2cb6f4,_0x370a82);if(_0x177bbe){const _0x26243b=await createWelcomeBanner({'userName':_0x5b7eb2,'groupName':_0x40e18e[_0x3b4b0a(0xd9)]||_0x3b4b0a(0xd2),'memberNumber':_0x663187}),_0x592fb9=path[_0x3b4b0a(0xdf)](__dirname,'..','..',_0x3b4b0a(0xe0));!fs[_0x3b4b0a(0xcc)](_0x592fb9)&&fs[_0x3b4b0a(0xf4)](_0x592fb9,{'recursive':!![]});const _0x489079=_0x3b4b0a(0xce)+_0x5b7eb2+_0x3b4b0a(0xe2),_0x1ccb5e=path['join'](_0x592fb9,_0x489079);fs[_0x3b4b0a(0xdc)](_0x1ccb5e,_0x26243b),await _0x421fae[_0x3b4b0a(0xec)](_0x4ef92a,{'image':fs['readFileSync'](_0x1ccb5e),'caption':_0x987187,'mentions':[_0x4b6ccc]}),fs['unlinkSync'](_0x1ccb5e);}else await _0x421fae[_0x3b4b0a(0xec)](_0x4ef92a,{'text':_0x987187,'mentions':[_0x4b6ccc]});};if(_0x16791e===_0x348dd2(0xe9)&&_0x29daa3['length']>0x0&&settings['autoWelcome'])for(const _0x5612b7 of _0x29daa3){await _0x2a0f04(_0x5612b7,_0x497f5e[_0x348dd2(0xd1)],_0x348dd2(0xf0),_0x497f5e['welcomeBanner']);}if(_0x16791e===_0x348dd2(0xe3)&&_0x29daa3['length']>0x0&&settings['autoLeave'])for(const _0x338d16 of _0x29daa3){await _0x2a0f04(_0x338d16,_0x497f5e[_0x348dd2(0xda)],'Goodbye!\x20{{user}}\x20has\x20left\x20the\x20group.');}if(_0x16791e===_0x348dd2(0xd7)&&_0x29daa3[_0x348dd2(0xe1)]>0x0&&settings[_0x348dd2(0xcf)])for(const _0x49df48 of _0x29daa3){await _0x2a0f04(_0x49df48,_0x497f5e[_0x348dd2(0xe6)],_0x348dd2(0xea));}if(_0x16791e===_0x348dd2(0xd3)&&_0x29daa3[_0x348dd2(0xe1)]>0x0&&settings[_0x348dd2(0xf2)])for(const _0x5764b5 of _0x29daa3){await _0x2a0f04(_0x5764b5,_0x497f5e[_0x348dd2(0xcd)],_0x348dd2(0xe4));}};module[a0_0x31d375(0xf5)]=handleGroupUpdate;