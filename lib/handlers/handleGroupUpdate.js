function a0_0x4a11(){const _0x141dd0=['trim','profilePictureUrl','utf8','existsSync','parse','No\x20description\x20available.','leaveMessage','demoteMessage','{{user}}\x20has\x20been\x20demoted\x20from\x20admin.','mkdirSync','welcomeMessage','9699739BTrmWx','../../utils/lidToJid','length','toLowerCase','autoWelcome','remove','4212224uCqKuy','join','welcome_','path','{{user}}\x20has\x20been\x20promoted\x20to\x20admin.','582OdDfMe','readFileSync','autoPromote','Goodbye!\x20{{user}}\x20has\x20left\x20the\x20group.','4igVYbu','groupID','2073480YptJHl','split','2741900EGrydj','groupMetadata','temp','database','Welcome\x20{{user}}\x20to\x20{{groupName}},\x20You\x20are\x20member\x20number\x20{{memberNumber}}.','63pCZkJh','1062217xboMmK','replace','5326LyOlrF','../../settings','desc','add','promote','../../utils/banner','get','subject','image','../..','247460bUiNif','sendMessage'];a0_0x4a11=function(){return _0x141dd0;};return a0_0x4a11();}const a0_0xd4ad18=a0_0x27a8;(function(_0x3e9dda,_0x3e04f6){const _0x295bdd=a0_0x27a8,_0x327f25=_0x3e9dda();while(!![]){try{const _0x1ad655=parseInt(_0x295bdd(0x131))/0x1+-parseInt(_0x295bdd(0x133))/0x2*(parseInt(_0x295bdd(0x155))/0x3)+parseInt(_0x295bdd(0x127))/0x4*(parseInt(_0x295bdd(0x12b))/0x5)+parseInt(_0x295bdd(0x129))/0x6+-parseInt(_0x295bdd(0x14a))/0x7+parseInt(_0x295bdd(0x150))/0x8+parseInt(_0x295bdd(0x130))/0x9*(parseInt(_0x295bdd(0x13d))/0xa);if(_0x1ad655===_0x3e04f6)break;else _0x327f25['push'](_0x327f25['shift']());}catch(_0x117a39){_0x327f25['push'](_0x327f25['shift']());}}}(a0_0x4a11,0xb7fdc));const path=require(a0_0xd4ad18(0x153)),fs=require('fs'),createWelcomeBanner=require(a0_0xd4ad18(0x138)),{settings}=require(a0_0xd4ad18(0x134)),lidToJid=require(a0_0xd4ad18(0x14b)),groupActionsPath=path[a0_0xd4ad18(0x151)](__dirname,a0_0xd4ad18(0x13c),a0_0xd4ad18(0x12e),'groupActions.json');function loadGroupActions(){const _0x22b863=a0_0xd4ad18;if(!fs[_0x22b863(0x142)](groupActionsPath))return[];return JSON[_0x22b863(0x143)](fs[_0x22b863(0x156)](groupActionsPath,_0x22b863(0x141)));}function replacePlaceholders(_0x67f4a4,_0x14f47c){const _0x50a40b=a0_0xd4ad18;return _0x67f4a4[_0x50a40b(0x132)](/\{\{(.*?)\}\}/gi,(_0x4d6978,_0x557775)=>{const _0xd85013=_0x50a40b,_0x89618e=_0x557775[_0xd85013(0x13f)]()[_0xd85013(0x14d)]();return _0x14f47c[_0x89618e]??'';});}function a0_0x27a8(_0x53553f,_0x16b832){const _0x4a1169=a0_0x4a11();return a0_0x27a8=function(_0x27a8ea,_0xc1ad64){_0x27a8ea=_0x27a8ea-0x125;let _0x559a14=_0x4a1169[_0x27a8ea];return _0x559a14;},a0_0x27a8(_0x53553f,_0x16b832);}const handleGroupUpdate=async(_0x2f9e1d,_0x540fae,_0x46bd11)=>{const _0x41ce2a=a0_0xd4ad18,{id:_0x247ff2,action:_0x5f600d,participants:_0x7e737}=_0x2f9e1d;let _0x16e11c=_0x46bd11[_0x41ce2a(0x139)](_0x247ff2);if(!_0x16e11c)try{_0x16e11c=await _0x540fae[_0x41ce2a(0x12c)](_0x247ff2),_0x46bd11['set'](_0x247ff2,_0x16e11c);}catch{return;}const _0x1b0142=loadGroupActions(),_0x2f8cda=_0x1b0142['find'](_0x24d60d=>_0x24d60d[_0x41ce2a(0x128)]===_0x247ff2);if(!_0x2f8cda)return;const _0x80919e=async(_0x2d2716,_0x3a3ae4,_0x594115,_0x5da380=![])=>{const _0x3b5721=_0x41ce2a,_0x17f89e=lidToJid(_0x2d2716,_0x16e11c),_0x2907d5=_0x17f89e[_0x3b5721(0x12a)]('@')[0x0],_0x5cce5e=_0x16e11c['participants'][_0x3b5721(0x14c)],_0x30dfaf=await _0x540fae[_0x3b5721(0x140)](_0x17f89e,_0x3b5721(0x13b)),_0x102ae1={'user':'@'+_0x2907d5,'groupname':_0x16e11c[_0x3b5721(0x13a)]||'Group\x20Name','membernumber':_0x5cce5e,'desc':_0x16e11c[_0x3b5721(0x135)]||_0x3b5721(0x144)},_0x1a9662=replacePlaceholders(_0x3a3ae4||_0x594115,_0x102ae1);if(_0x5da380){const _0x129879=await createWelcomeBanner({'avatarUrl':_0x30dfaf,'groupName':_0x16e11c[_0x3b5721(0x13a)]||'Group\x20Name','memberNumber':_0x5cce5e}),_0x28ec14=path[_0x3b5721(0x151)](__dirname,'..','..',_0x3b5721(0x12d));!fs['existsSync'](_0x28ec14)&&fs[_0x3b5721(0x148)](_0x28ec14,{'recursive':!![]});const _0x27c969=_0x3b5721(0x152)+_0x2907d5+'.png',_0x4d6b5b=path[_0x3b5721(0x151)](_0x28ec14,_0x27c969);fs['writeFileSync'](_0x4d6b5b,_0x129879),await _0x540fae[_0x3b5721(0x13e)](_0x247ff2,{'image':fs[_0x3b5721(0x156)](_0x4d6b5b),'caption':_0x1a9662,'mentions':[_0x17f89e]}),fs['unlinkSync'](_0x4d6b5b);}else await _0x540fae[_0x3b5721(0x13e)](_0x247ff2,{'text':_0x1a9662,'mentions':[_0x17f89e]});};if(_0x5f600d===_0x41ce2a(0x136)&&_0x7e737[_0x41ce2a(0x14c)]>0x0&&settings[_0x41ce2a(0x14e)])for(const _0x2513d of _0x7e737){await _0x80919e(_0x2513d,_0x2f8cda[_0x41ce2a(0x149)],_0x41ce2a(0x12f),_0x2f8cda['welcomeBanner']);}if(_0x5f600d===_0x41ce2a(0x14f)&&_0x7e737['length']>0x0&&settings['autoLeave'])for(const _0x2dd191 of _0x7e737){await _0x80919e(_0x2dd191,_0x2f8cda[_0x41ce2a(0x145)],_0x41ce2a(0x126));}if(_0x5f600d===_0x41ce2a(0x137)&&_0x7e737[_0x41ce2a(0x14c)]>0x0&&settings[_0x41ce2a(0x125)])for(const _0x98a2d of _0x7e737){await _0x80919e(_0x98a2d,_0x2f8cda['promoteMessage'],_0x41ce2a(0x154));}if(_0x5f600d==='demote'&&_0x7e737[_0x41ce2a(0x14c)]>0x0&&settings['autoDemote'])for(const _0x32d7c2 of _0x7e737){await _0x80919e(_0x32d7c2,_0x2f8cda[_0x41ce2a(0x146)],_0x41ce2a(0x147));}};module['exports']=handleGroupUpdate;