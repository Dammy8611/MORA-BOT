const a0_0x465ee6=a0_0x3251;(function(_0x4a437c,_0x1d6572){const _0x51df08=a0_0x3251,_0x24729d=_0x4a437c();while(!![]){try{const _0x29d475=-parseInt(_0x51df08(0xb9))/0x1*(parseInt(_0x51df08(0x93))/0x2)+parseInt(_0x51df08(0xc3))/0x3+parseInt(_0x51df08(0xb4))/0x4*(parseInt(_0x51df08(0xba))/0x5)+-parseInt(_0x51df08(0x95))/0x6+-parseInt(_0x51df08(0xae))/0x7+-parseInt(_0x51df08(0xbc))/0x8+parseInt(_0x51df08(0xc4))/0x9;if(_0x29d475===_0x1d6572)break;else _0x24729d['push'](_0x24729d['shift']());}catch(_0x2cc42c){_0x24729d['push'](_0x24729d['shift']());}}}(a0_0x460f,0x41f4b));const path=require(a0_0x465ee6(0x9f)),fs=require('fs'),createWelcomeBanner=require(a0_0x465ee6(0xc5)),{settings}=require(a0_0x465ee6(0x97)),lidToJid=require('../../utils/lidToJid'),groupActionsPath=path[a0_0x465ee6(0xbf)](__dirname,a0_0x465ee6(0xb8),'database',a0_0x465ee6(0xa1));function loadGroupActions(){const _0x1355ec=a0_0x465ee6;if(!fs['existsSync'](groupActionsPath))return[];return JSON[_0x1355ec(0xc7)](fs[_0x1355ec(0xa9)](groupActionsPath,_0x1355ec(0xc0)));}function a0_0x3251(_0x1ba643,_0x138c34){const _0x460fff=a0_0x460f();return a0_0x3251=function(_0x325110,_0x189b1e){_0x325110=_0x325110-0x93;let _0x2e886f=_0x460fff[_0x325110];return _0x2e886f;},a0_0x3251(_0x1ba643,_0x138c34);}function a0_0x460f(){const _0x22cbb0=['mkdirSync','toLowerCase','sendMessage','autoPromote','2377557xKRmqN','subject','add','groupID','leaveMessage','writeFileSync','108932AyozcS','autoLeave','desc','profilePictureUrl','../..','18IalHFC','65IoDTjm','existsSync','734960GnFtnU','find','.png','join','utf8','No\x20description\x20available.','{{user}}\x20has\x20been\x20promoted\x20to\x20admin.','1187313dZsRXi','2711475fAwMsY','../../utils/banner','promote','parse','16192soSYHy','set','1222026GxxkUl','split','../../settings','Group\x20Name','participants','{{user}}\x20has\x20been\x20demoted\x20from\x20admin.','replace','unlinkSync','welcome_','temp','path','promoteMessage','groupActions.json','Welcome\x20{{user}}\x20to\x20{{groupName}},\x20You\x20are\x20member\x20number\x20{{memberNumber}}.','image','remove','length','welcomeMessage','demote','get','readFileSync'];a0_0x460f=function(){return _0x22cbb0;};return a0_0x460f();}function replacePlaceholders(_0x263564,_0x19e664){const _0x30de96=a0_0x465ee6;return _0x263564[_0x30de96(0x9b)](/\{\{(.*?)\}\}/gi,(_0x3e4958,_0x50dda8)=>{const _0x3d18b8=_0x30de96,_0x340c05=_0x50dda8['trim']()[_0x3d18b8(0xab)]();return _0x19e664[_0x340c05]??'';});}const handleGroupUpdate=async(_0x32aabb,_0x278442,_0x5e88ea)=>{const _0x2f513f=a0_0x465ee6,{id:_0xe9c210,action:_0x26ea92,participants:_0x398c77}=_0x32aabb;let _0x5b1f93=_0x5e88ea[_0x2f513f(0xa8)](_0xe9c210);if(!_0x5b1f93)try{_0x5b1f93=await _0x278442['groupMetadata'](_0xe9c210),_0x5e88ea[_0x2f513f(0x94)](_0xe9c210,_0x5b1f93);}catch{return;}const _0x1ee96b=loadGroupActions(),_0x9ed9da=_0x1ee96b[_0x2f513f(0xbd)](_0x114a9f=>_0x114a9f[_0x2f513f(0xb1)]===_0xe9c210);if(!_0x9ed9da)return;const _0x9e805f=async(_0x33eb6c,_0x127340,_0x3c1b5a,_0x3566b9=![])=>{const _0x5b4cf5=_0x2f513f,_0x178f39=lidToJid(_0x33eb6c,_0x5b1f93),_0x9b9565=_0x178f39[_0x5b4cf5(0x96)]('@')[0x0],_0x25176a=_0x5b1f93[_0x5b4cf5(0x99)][_0x5b4cf5(0xa5)],_0x56a833=await _0x278442[_0x5b4cf5(0xb7)](_0x178f39,_0x5b4cf5(0xa3)),_0x226432={'user':'@'+_0x9b9565,'groupname':_0x5b1f93[_0x5b4cf5(0xaf)]||'Group\x20Name','membernumber':_0x25176a,'desc':_0x5b1f93[_0x5b4cf5(0xb6)]||_0x5b4cf5(0xc1)},_0x3fc7f8=replacePlaceholders(_0x127340||_0x3c1b5a,_0x226432);if(_0x3566b9){const _0x440434=await createWelcomeBanner({'avatarUrl':_0x56a833,'groupName':_0x5b1f93[_0x5b4cf5(0xaf)]||_0x5b4cf5(0x98),'memberNumber':_0x25176a}),_0x2784fc=path['join'](__dirname,'..','..',_0x5b4cf5(0x9e));!fs[_0x5b4cf5(0xbb)](_0x2784fc)&&fs[_0x5b4cf5(0xaa)](_0x2784fc,{'recursive':!![]});const _0x3794ea=_0x5b4cf5(0x9d)+_0x9b9565+_0x5b4cf5(0xbe),_0x5f4694=path['join'](_0x2784fc,_0x3794ea);fs[_0x5b4cf5(0xb3)](_0x5f4694,_0x440434),await _0x278442[_0x5b4cf5(0xac)](_0xe9c210,{'image':fs['readFileSync'](_0x5f4694),'caption':_0x3fc7f8,'mentions':[_0x178f39]}),fs[_0x5b4cf5(0x9c)](_0x5f4694);}else await _0x278442[_0x5b4cf5(0xac)](_0xe9c210,{'text':_0x3fc7f8,'mentions':[_0x178f39]});};if(_0x26ea92===_0x2f513f(0xb0)&&_0x398c77[_0x2f513f(0xa5)]>0x0&&settings['autoWelcome'])for(const _0x246007 of _0x398c77){await _0x9e805f(_0x246007,_0x9ed9da[_0x2f513f(0xa6)],_0x2f513f(0xa2),_0x9ed9da['welcomeBanner']);}if(_0x26ea92===_0x2f513f(0xa4)&&_0x398c77[_0x2f513f(0xa5)]>0x0&&settings[_0x2f513f(0xb5)])for(const _0x59a2cc of _0x398c77){await _0x9e805f(_0x59a2cc,_0x9ed9da[_0x2f513f(0xb2)],'Goodbye!\x20{{user}}\x20has\x20left\x20the\x20group.');}if(_0x26ea92===_0x2f513f(0xc6)&&_0x398c77[_0x2f513f(0xa5)]>0x0&&settings[_0x2f513f(0xad)])for(const _0x1fc48b of _0x398c77){await _0x9e805f(_0x1fc48b,_0x9ed9da[_0x2f513f(0xa0)],_0x2f513f(0xc2));}if(_0x26ea92===_0x2f513f(0xa7)&&_0x398c77['length']>0x0&&settings['autoDemote'])for(const _0x5b0753 of _0x398c77){await _0x9e805f(_0x5b0753,_0x9ed9da['demoteMessage'],_0x2f513f(0x9a));}};module['exports']=handleGroupUpdate;