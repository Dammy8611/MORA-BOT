const a0_0xa5c991=a0_0x5bca;function a0_0x4bea(){const _0x23c727=['join','log','role','\x0aRespond\x20casually\x20and\x20helpfully:','generateContent','Command\x20failed','\x0aReply\x20with\x20Gen-Z\x20style\x20in\x201â€“2\x20lines.','keys','\x22\x0a\x0aMatch\x20it\x20to\x20one\x20or\x20more\x20commands\x20from\x20this\x20list:\x0a','Failed\x20to\x20extract\x20commands\x20from\x20prompt:','../../utils/parseArgs','participant','ai_remember.json','./index','utf8','Command\x20used\x20direct:true\x20â€”\x20skipping\x20summary\x20AI\x20reply','botName','assistant','\x20of\x20','extendedTextMessage','ðŸ¤–\x20Thinking...','global','user','length','message','529480ulbKrQ','writeFileSync','ownerName','apiKeys.txt','Error\x20extracting\x20commands:','[extractCommands]\x20Gemini\x20raw\x20output:\x0a','map','string','ai_memory.json','getGenerativeModel','7MRKgqV','2099810QLqtQt','1769470RqZEnJ','now','âŒ\x20not\x20found','run','ðŸ§ \x20Remixing\x20with\x20AI...','parse','27KbjXun','\x0a\x0aYou\x20are\x20','362742tDJtpX','existsSync','.\x0aTime\x20now:\x20','toLocaleString','users','...','slice','\x0aDo\x20you\x20want\x20to\x20store\x20anything?\x20Respond\x20with\x20JSON\x20{\x22user\x22:\x20\x22\x22,\x20\x22global\x22:\x20\x22\x22}','exports','\x20\x0a\x0a>\x20MORA\x20AI.\x20Generated\x20by\x20AI.\x20Don\x27t\x20take\x20responses\x20too\x20seriously','\x0a\x0aUser:\x20','secrets','filter','Error\x20with\x20current\x20API\x20key:','push','@google/generative-ai','text','response','16miFyas','Failed\x20to\x20process\x20your\x20request.','Switched\x20to\x20key\x20','\x0a\x0aFor\x20each\x20command,\x20generate\x20useful\x20arguments\x20based\x20on\x20what\x20the\x20user\x20is\x20asking.\x20Expand\x20short\x20or\x20vague\x20requests\x20into\x20rich,\x20descriptive\x20arguments.\x0aFor\x20example,\x20if\x20a\x20user\x20says:\x0a\x22make\x20a\x20detailed\x20image\x20of\x20a\x20cat\x22\x0a\x0aYou\x20should\x20return:\x0a[\x0a\x20\x20{\x0a\x20\x20\x20\x20\x22name\x22:\x20\x22image\x22,\x0a\x20\x20\x20\x20\x22args\x22:\x20\x22a\x20highly\x20detailed\x20digital\x20painting\x20of\x20a\x20cat\x20sitting\x20on\x20a\x20glowing\x20throne,\x20intricate\x20lighting\x20and\x20dramatic\x20shadows\x22\x0a\x20\x20}\x0a]\x0a\x0aAvoid\x20returning\x20\x22ai\x22\x20as\x20a\x20command\x20unless\x20the\x20user\x20explicitly\x20asks\x20to\x20chat\x20or\x20talk\x20with\x20the\x20bot.\x0a\x0aRespond\x20ONLY\x20with\x20raw\x20JSON\x20like:\x0a[\x0a\x20\x20{\x20\x22name\x22:\x20\x22commandName\x22,\x20\x22args\x22:\x20\x22argument\x20string\x22\x20}\x0a]\x0a\x0aNo\x20explanations,\x20no\x20markdown,\x20no\x20code\x20blocks.\x0a','shift','gemini-2.5-flash','done','.ai\x20<prompt>','Talk\x20to\x20MORA-AI','trim','âœ…\x20Command(s)\x20completed','meta','data','path','apiKeys.txt\x20not\x20found','50158ClAowF','\x22\x0aCommand\x20output:\x0a','Sorry,\x20I\x27m\x20having\x20trouble\x20processing\x20your\x20request\x20right\x20now.','error','stringify','../../settings','\x0aYou\x20are\x20a\x20command\x20interpreter\x20for\x20a\x20chatbot.\x0a\x0aFrom\x20the\x20user\x27s\x20message:\x20\x22','[runCommand]\x20Trying\x20to\x20resolve:','isArray','args','(command\x20ran\x20but\x20gave\x20no\x20output)','887804ugczoK','key','sendMessage','âš™ï¸\x20Running\x20/','You\x27re\x20a\x20smart,\x20witty,\x20Gen-Z\x20chatbot\x20with\x20a\x20chill,\x20upbeat\x20tone.\x0aYou\x20use\x20modern\x20slang\x20casually\x20(e.g.,\x20\x22bet\x22,\x20\x22vibe\x22,\x20\x22real\x20talk\x22,\x20\x22fr\x22,\x20\x22no\x20cap\x22\x20etc.\x20Use\x20sensibly).\x0aYou\x27re\x20still\x20helpful\x20and\x20concise\x20â€”\x20keep\x20replies\x20short\x20and\x20energetic.\x20ðŸŽ§ðŸ”¥','name','start','pow','command','398976QLPcmE','update','split','ðŸ”\x20Extracting\x20commands...','../../utils/statusUpdater.js'];a0_0x4bea=function(){return _0x23c727;};return a0_0x4bea();}(function(_0x5421b3,_0xc2c851){const _0x51dde6=a0_0x5bca,_0x2724c4=_0x5421b3();while(!![]){try{const _0x1ff685=-parseInt(_0x51dde6(0xf2))/0x1*(-parseInt(_0x51dde6(0x14a))/0x2)+parseInt(_0x51dde6(0x106))/0x3+-parseInt(_0x51dde6(0xfd))/0x4+parseInt(_0x51dde6(0x12f))/0x5+parseInt(_0x51dde6(0x138))/0x6*(parseInt(_0x51dde6(0x12e))/0x7)+parseInt(_0x51dde6(0x124))/0x8+parseInt(_0x51dde6(0x136))/0x9*(-parseInt(_0x51dde6(0x130))/0xa);if(_0x1ff685===_0xc2c851)break;else _0x2724c4['push'](_0x2724c4['shift']());}catch(_0x4f3b4b){_0x2724c4['push'](_0x2724c4['shift']());}}}(a0_0x4bea,0x50184));const fs=require('fs'),path=require(a0_0xa5c991(0xf0)),{GoogleGenerativeAI}=require(a0_0xa5c991(0x147)),{parseArgs}=require(a0_0xa5c991(0x115)),{resolveCommand}=require(a0_0xa5c991(0x118)),{settings:botSettings}=require(a0_0xa5c991(0xf7)),{StatusUpdater}=require(a0_0xa5c991(0x10a)),API_KEYS_FILE=path['join'](__dirname,'..','..',a0_0xa5c991(0x143),a0_0xa5c991(0x127));function loadApiKeys(){const _0x3b2c40=a0_0xa5c991;if(!fs[_0x3b2c40(0x139)](API_KEYS_FILE))throw new Error(_0x3b2c40(0xf1));return fs['readFileSync'](API_KEYS_FILE,_0x3b2c40(0x119))[_0x3b2c40(0x108)](/\r?\n/)[_0x3b2c40(0x144)](Boolean);}const apiKeys=loadApiKeys();let currentKeyIndex=0x0;function setupGenAI(){const _0xd24f71=a0_0xa5c991,_0x4a36cc=apiKeys[currentKeyIndex],_0x6c73c=new GoogleGenerativeAI(_0x4a36cc);return _0x6c73c[_0xd24f71(0x12d)]({'model':_0xd24f71(0x14f)});}function a0_0x5bca(_0x41ead1,_0x371e0e){const _0x4bea77=a0_0x4bea();return a0_0x5bca=function(_0x5bca9b,_0x37257b){_0x5bca9b=_0x5bca9b-0xeb;let _0x25bc62=_0x4bea77[_0x5bca9b];return _0x25bc62;},a0_0x5bca(_0x41ead1,_0x371e0e);}let model=setupGenAI();function rotateKey(){const _0x8badf6=a0_0xa5c991;currentKeyIndex=(currentKeyIndex+0x1)%apiKeys[_0x8badf6(0x122)],model=setupGenAI(),console[_0x8badf6(0x10c)](_0x8badf6(0x14c)+(currentKeyIndex+0x1)+_0x8badf6(0x11d)+apiKeys[_0x8badf6(0x122)]);}const persona=a0_0xa5c991(0x101),MEM_FILE=path[a0_0xa5c991(0x10b)](__dirname,'..','..','secrets',a0_0xa5c991(0x12c)),REM_FILE=path['join'](__dirname,'..','..',a0_0xa5c991(0x143),a0_0xa5c991(0x117)),loadJson=(_0x541c48,_0x25b00c={})=>fs[a0_0xa5c991(0x139)](_0x541c48)?JSON[a0_0xa5c991(0x135)](fs['readFileSync'](_0x541c48,a0_0xa5c991(0x119))):_0x25b00c,saveJson=(_0x7946bb,_0x4cac6)=>fs[a0_0xa5c991(0x125)](_0x7946bb,JSON[a0_0xa5c991(0xf6)](_0x4cac6,null,0x2)),MEMORY=loadJson(MEM_FILE,{}),REMEMBER=loadJson(REM_FILE,{'users':{},'global':''}),MAX_MEMORY=0xf,addMemory=(_0x10bee0,_0x3d2d47,_0x2b8108)=>{const _0x330190=a0_0xa5c991;if(!MEMORY[_0x10bee0])MEMORY[_0x10bee0]=[];MEMORY[_0x10bee0]['push']({'role':_0x3d2d47,'msg':_0x2b8108,'ts':Date[_0x330190(0x131)]()});if(MEMORY[_0x10bee0]['length']>MAX_MEMORY)MEMORY[_0x10bee0][_0x330190(0x14e)]();saveJson(MEM_FILE,MEMORY);},getMemory=_0x3927ad=>(MEMORY[_0x3927ad]||[])[a0_0xa5c991(0x13e)](-MAX_MEMORY)[a0_0xa5c991(0x12a)](_0x1d3ec0=>_0x1d3ec0[a0_0xa5c991(0x10d)]+':\x20'+_0x1d3ec0['msg'])[a0_0xa5c991(0x10b)]('\x0a');async function runCommand(_0x1ed725,_0x266f80,_0x398f59,_0x45fced,_0x45f262){const _0x2568df=a0_0xa5c991;console[_0x2568df(0x10c)](_0x2568df(0xf9),_0x1ed725);const _0x558f92=resolveCommand(_0x1ed725);console[_0x2568df(0x10c)]('[runCommand]\x20Resolved\x20to:',_0x558f92?.[_0x2568df(0x105)]?.[_0x2568df(0xee)]?.[_0x2568df(0x102)]||_0x2568df(0x132));if(!_0x558f92)return{'output':null,'directUsed':![]};const {command:_0x3e9362}=_0x558f92,_0x433a4f=_0x266f80[_0x2568df(0xec)]()[_0x2568df(0x108)](/\s+/),{args:_0x4f2d9f,flags:_0x30588a}=parseArgs(_0x433a4f,_0x3e9362[_0x2568df(0xee)][_0x2568df(0xfb)]||[]);let _0xb09d9='',_0x5f19ce=![];const _0x85c88={'sendMessage':async(_0x1e88cb,_0x19027a)=>{const _0x304dae=_0x2568df,_0x22ccf7=typeof _0x19027a==='string'?_0x19027a:_0x19027a[_0x304dae(0x148)]||'';_0xb09d9+=_0x22ccf7,_0x3e9362[_0x304dae(0xee)]['direct']===!![]&&(await _0x45fced[_0x304dae(0xff)](_0x398f59,_0x19027a),_0x5f19ce=!![]);}};try{await _0x3e9362[_0x2568df(0x133)]({'m':{'key':{'remoteJid':_0x398f59},'message':{'extendedTextMessage':{'contextInfo':{'quotedMessage':_0x45f262}}}},'sock':_0x85c88,'args':_0x4f2d9f,'flags':_0x30588a,'executeCommand':()=>{}});if(!_0xb09d9[_0x2568df(0xec)]())_0xb09d9=_0x2568df(0xfc);}catch(_0x4441ce){_0xb09d9='âŒ\x20'+(_0x4441ce[_0x2568df(0x123)]||_0x2568df(0x110));}return{'output':_0xb09d9[_0x2568df(0xec)](),'directUsed':_0x5f19ce};}async function extractCommands(_0x3a03cb){const _0x3e48e4=a0_0xa5c991,{commandMap:_0x192dcd,aliasMap:_0x277e95}=require(_0x3e48e4(0x118)),_0x1efec9=[...new Set([..._0x192dcd[_0x3e48e4(0x112)](),..._0x277e95[_0x3e48e4(0x112)]()])],_0x1de601=_0x3e48e4(0xf8)+_0x3a03cb+_0x3e48e4(0x113)+_0x1efec9['join'](',\x20')+_0x3e48e4(0x14d);try{const _0x33cbad=await model['generateContent'](_0x1de601);let _0x1a110f=_0x33cbad['response'][_0x3e48e4(0x148)]()[_0x3e48e4(0xec)]();_0x1a110f=_0x1a110f['replace'](/`/g,'')['replace'](/```json/g,'')['replace'](/```/g,''),console[_0x3e48e4(0x10c)](_0x3e48e4(0x129),_0x1a110f);const _0x39080a=JSON[_0x3e48e4(0x135)](_0x1a110f);if(!Array[_0x3e48e4(0xfa)](_0x39080a))return console[_0x3e48e4(0xf5)]('extractCommands:\x20Expected\x20array,\x20got:',_0x39080a),[];return _0x39080a;}catch(_0x13304b){return console[_0x3e48e4(0xf5)](_0x3e48e4(0x114),_0x13304b),[];}}module[a0_0xa5c991(0x140)]={'meta':{'name':'ai','description':a0_0xa5c991(0xeb),'usage':a0_0xa5c991(0x151),'args':[{'name':a0_0xa5c991(0x148),'type':a0_0xa5c991(0x12b),'greedy':!![],'required':!![]}],'category':'AI'},'run':async({m:_0x957807,sock:_0x3970f5,args:_0x41136})=>{const _0x9d2fd9=a0_0xa5c991,_0x4cc8c9=_0x957807[_0x9d2fd9(0xfe)]['remoteJid'],_0x54aad3=_0x957807['key'][_0x9d2fd9(0x116)]||_0x4cc8c9,_0x8cb734=_0x41136[_0x9d2fd9(0x148)],_0x2de33b=_0x957807['message']?.[_0x9d2fd9(0x11e)]?.['contextInfo']?.['quotedMessage'],_0x5a69a3=new StatusUpdater(_0x3970f5,_0x4cc8c9);await _0x5a69a3[_0x9d2fd9(0x103)](),await _0x5a69a3[_0x9d2fd9(0x107)](_0x9d2fd9(0x11f)),addMemory(_0x54aad3,_0x9d2fd9(0x121),_0x8cb734);let _0x56626f;try{await _0x5a69a3[_0x9d2fd9(0x107)](_0x9d2fd9(0x109)),_0x56626f=await extractCommands(_0x8cb734);}catch(_0x1db85a){return console[_0x9d2fd9(0xf5)](_0x9d2fd9(0x128),_0x1db85a),_0x3970f5[_0x9d2fd9(0xff)](_0x4cc8c9,{'text':_0x9d2fd9(0x14b)});}if(!Array[_0x9d2fd9(0xfa)](_0x56626f))return console[_0x9d2fd9(0xf5)]('commandsToRun\x20is\x20not\x20an\x20array:',_0x56626f),_0x3970f5[_0x9d2fd9(0xff)](_0x4cc8c9,{'text':_0x9d2fd9(0x14b)});const _0x437b60=[];let _0x20630a=![];for(const {name:_0x2855bd,args:_0xb17e20}of _0x56626f){await _0x5a69a3[_0x9d2fd9(0x107)](_0x9d2fd9(0x100)+_0x2855bd+_0x9d2fd9(0x13d));const {output:_0x14d251,directUsed:_0x5f4d5a}=await runCommand(_0x2855bd,_0xb17e20,_0x4cc8c9,_0x3970f5,_0x2de33b);if(_0x14d251)_0x437b60[_0x9d2fd9(0x146)]({'name':_0x2855bd,'raw':_0x14d251});if(_0x5f4d5a)_0x20630a=!![];}const _0x3fb638=_0x437b60['map'](_0x1f6b72=>_0x1f6b72[_0x9d2fd9(0x102)]+':\x20'+_0x1f6b72['raw'])['join']('\x0a');if(_0x20630a){console[_0x9d2fd9(0x10c)](_0x9d2fd9(0x11a)),await _0x5a69a3[_0x9d2fd9(0x150)](_0x9d2fd9(0xed));return;}const _0x3fbe6e=persona+_0x9d2fd9(0x137)+botSettings[_0x9d2fd9(0x11b)]+',\x20owned\x20by\x20'+botSettings[_0x9d2fd9(0x126)]+_0x9d2fd9(0x13a)+new Date()[_0x9d2fd9(0x13b)]()+'.\x0aUser\x20said:\x20\x22'+_0x8cb734+_0x9d2fd9(0xf3)+_0x3fb638+_0x9d2fd9(0x111);let _0x24f331='';const _0x517c28=0x3;let _0x530e94=0x0;while(_0x530e94<_0x517c28){try{await _0x5a69a3[_0x9d2fd9(0x107)](_0x9d2fd9(0x134));const _0x29df07=await model[_0x9d2fd9(0x10f)](_0x3fbe6e);_0x24f331=_0x29df07['response'][_0x9d2fd9(0x148)]()[_0x9d2fd9(0xec)]();break;}catch(_0x513173){if(_0x513173[_0x9d2fd9(0xef)]===0x1ad){console['error']('Rate\x20limit\x20error:',_0x513173),_0x530e94++;const _0x5c321e=Math[_0x9d2fd9(0x104)](0x2,_0x530e94)*0x3e8;await new Promise(_0x318cf8=>setTimeout(_0x318cf8,_0x5c321e)),rotateKey();}else{console[_0x9d2fd9(0xf5)](_0x9d2fd9(0x145),_0x513173),_0x24f331=_0x9d2fd9(0xf4);break;}}}if(!_0x437b60['length']){const _0x3a97da=persona+_0x9d2fd9(0x142)+_0x8cb734+_0x9d2fd9(0x10e);try{const _0x35f0b3=await model[_0x9d2fd9(0x10f)](_0x3a97da);_0x24f331=_0x35f0b3[_0x9d2fd9(0x149)][_0x9d2fd9(0x148)]()[_0x9d2fd9(0xec)]();}catch(_0x2f3990){console[_0x9d2fd9(0xf5)](_0x9d2fd9(0x145),_0x2f3990),_0x24f331=_0x9d2fd9(0xf4);}}addMemory(_0x54aad3,_0x9d2fd9(0x11c),_0x24f331);const _0x2f06ac='User:\x20'+_0x8cb734+'\x0aCommands\x20used:\x20'+_0x437b60[_0x9d2fd9(0x12a)](_0x2bb53a=>_0x2bb53a[_0x9d2fd9(0x102)])[_0x9d2fd9(0x10b)](',')+_0x9d2fd9(0x13f);try{const _0x152075=await model[_0x9d2fd9(0x10f)](_0x2f06ac),_0x1b6d96=JSON[_0x9d2fd9(0x135)](_0x152075[_0x9d2fd9(0x149)]['text']());if(_0x1b6d96[_0x9d2fd9(0x121)])REMEMBER[_0x9d2fd9(0x13c)][_0x54aad3]=_0x1b6d96[_0x9d2fd9(0x121)];if(_0x1b6d96['global'])REMEMBER[_0x9d2fd9(0x120)]=_0x1b6d96['global'];saveJson(REM_FILE,REMEMBER);}catch{}const _0x2d01cc=_0x24f331+_0x9d2fd9(0x141);await _0x5a69a3[_0x9d2fd9(0x150)](_0x2d01cc);}};