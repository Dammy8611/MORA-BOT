function a0_0x4bd0(){const _0x35247f=['ai_memory.json','./index','keys','response','role','remoteJid','\x0a\x0aUser:\x20','push','log','exports','294144RJQYOS','raw','direct','path','58135LSiAwk','writeFileSync','extendedTextMessage','length','trim','parse','message','update','existsSync','...','run','Error\x20with\x20current\x20API\x20key:','sendMessage','13907007dQhSfd','🤖\x20Thinking...','user','6DXEKWb','toLocaleString','.\x0aUser\x20said:\x20\x22','576JanXaD','args','start','Switched\x20to\x20key\x20','2673368BIvjkW','.ai\x20<prompt>','global','Rate\x20limit\x20error:','name','Command\x20failed','\x0a\x0aYou\x20are\x20','meta','ownerName','@google/generative-ai','assistant','\x0aYou\x20are\x20a\x20command\x20interpreter\x20for\x20a\x20chatbot.\x0a\x0aFrom\x20the\x20user\x27s\x20message:\x20\x22','130aKfykM','string','Error\x20extracting\x20commands:','generateContent','10OiAIZT','getGenerativeModel','stringify','\x20of\x20','secrets','text','[extractCommands]\x20Gemini\x20raw\x20output:\x0a','.\x0aTime\x20now:\x20','replace','❌\x20not\x20found','Failed\x20to\x20process\x20your\x20request.','shift','Sorry,\x20I\x27m\x20having\x20trouble\x20processing\x20your\x20request\x20right\x20now.','(command\x20ran\x20but\x20gave\x20no\x20output)','1356TTXtBo','readFileSync','ai_remember.json','filter','🔍\x20Extracting\x20commands...','\x22\x0aCommand\x20output:\x0a','botName','Failed\x20to\x20extract\x20commands\x20from\x20prompt:','split','contextInfo','error','⚙️\x20Running\x20/','msg','isArray','key','78022IcfKeZ','done','919098VPAoIK','[runCommand]\x20Trying\x20to\x20resolve:','\x0aReply\x20with\x20Gen-Z\x20style\x20in\x201–2\x20lines.','User:\x20','utf8','extractCommands:\x20Expected\x20array,\x20got:','1247114JLIMDy','../../settings','Talk\x20to\x20MORA-AI','../../utils/parseArgs','map','data','apiKeys.txt','users','now','join'];a0_0x4bd0=function(){return _0x35247f;};return a0_0x4bd0();}const a0_0x200994=a0_0x348e;(function(_0x48bb87,_0x3e139b){const _0x482648=a0_0x348e,_0x204d8e=_0x48bb87();while(!![]){try{const _0x45ad4c=parseInt(_0x482648(0x198))/0x1+-parseInt(_0x482648(0x192))/0x2+parseInt(_0x482648(0x1c0))/0x3*(-parseInt(_0x482648(0x1c7))/0x4)+-parseInt(_0x482648(0x1d3))/0x5*(-parseInt(_0x482648(0x1ac))/0x6)+-parseInt(_0x482648(0x190))/0x7*(parseInt(_0x482648(0x1c3))/0x8)+parseInt(_0x482648(0x1bd))/0x9*(parseInt(_0x482648(0x1d7))/0xa)+parseInt(_0x482648(0x1b0))/0xb*(-parseInt(_0x482648(0x1e5))/0xc);if(_0x45ad4c===_0x3e139b)break;else _0x204d8e['push'](_0x204d8e['shift']());}catch(_0x1d4604){_0x204d8e['push'](_0x204d8e['shift']());}}}(a0_0x4bd0,0xd4a63));const fs=require('fs'),path=require(a0_0x200994(0x1af)),{GoogleGenerativeAI}=require(a0_0x200994(0x1d0)),{parseArgs}=require(a0_0x200994(0x19b)),{resolveCommand}=require(a0_0x200994(0x1a3)),{settings:botSettings}=require(a0_0x200994(0x199)),{StatusUpdater}=require('../../utils/statusUpdater.js'),API_KEYS_FILE=path[a0_0x200994(0x1a1)](__dirname,'..','..',a0_0x200994(0x1db),a0_0x200994(0x19e));function loadApiKeys(){const _0xdb68fa=a0_0x200994;if(!fs[_0xdb68fa(0x1b8)](API_KEYS_FILE))throw new Error('apiKeys.txt\x20not\x20found');return fs[_0xdb68fa(0x1e6)](API_KEYS_FILE,_0xdb68fa(0x196))[_0xdb68fa(0x1ed)](/\r?\n/)[_0xdb68fa(0x1e8)](Boolean);}const apiKeys=loadApiKeys();let currentKeyIndex=0x0;function setupGenAI(){const _0x1a4137=a0_0x200994,_0x40571d=apiKeys[currentKeyIndex],_0x312bb9=new GoogleGenerativeAI(_0x40571d);return _0x312bb9[_0x1a4137(0x1d8)]({'model':'gemini-2.5-flash'});}let model=setupGenAI();function rotateKey(){const _0x3fc2bc=a0_0x200994;currentKeyIndex=(currentKeyIndex+0x1)%apiKeys[_0x3fc2bc(0x1b3)],model=setupGenAI(),console[_0x3fc2bc(0x1aa)](_0x3fc2bc(0x1c6)+(currentKeyIndex+0x1)+_0x3fc2bc(0x1da)+apiKeys[_0x3fc2bc(0x1b3)]);}const persona='You\x27re\x20a\x20smart,\x20witty,\x20Gen-Z\x20chatbot\x20with\x20a\x20chill,\x20upbeat\x20tone.\x0aYou\x20use\x20modern\x20slang\x20casually\x20(e.g.,\x20\x22bet\x22,\x20\x22vibe\x22,\x20\x22real\x20talk\x22,\x20\x22fr\x22,\x20\x22no\x20cap\x22\x20etc.\x20Use\x20sensibly).\x0aYou\x27re\x20still\x20helpful\x20and\x20concise\x20—\x20keep\x20replies\x20short\x20and\x20energetic.\x20🎧🔥',MEM_FILE=path[a0_0x200994(0x1a1)](__dirname,'..','..','secrets',a0_0x200994(0x1a2)),REM_FILE=path[a0_0x200994(0x1a1)](__dirname,'..','..',a0_0x200994(0x1db),a0_0x200994(0x1e7)),loadJson=(_0x46456a,_0x1c0847={})=>fs[a0_0x200994(0x1b8)](_0x46456a)?JSON['parse'](fs[a0_0x200994(0x1e6)](_0x46456a,'utf8')):_0x1c0847,saveJson=(_0x87be96,_0x311da4)=>fs[a0_0x200994(0x1b1)](_0x87be96,JSON[a0_0x200994(0x1d9)](_0x311da4,null,0x2)),MEMORY=loadJson(MEM_FILE,{}),REMEMBER=loadJson(REM_FILE,{'users':{},'global':''}),MAX_MEMORY=0xf,addMemory=(_0xb8fea3,_0x3779e2,_0x41d6c4)=>{const _0x120dfe=a0_0x200994;if(!MEMORY[_0xb8fea3])MEMORY[_0xb8fea3]=[];MEMORY[_0xb8fea3][_0x120dfe(0x1a9)]({'role':_0x3779e2,'msg':_0x41d6c4,'ts':Date[_0x120dfe(0x1a0)]()});if(MEMORY[_0xb8fea3][_0x120dfe(0x1b3)]>MAX_MEMORY)MEMORY[_0xb8fea3][_0x120dfe(0x1e2)]();saveJson(MEM_FILE,MEMORY);},getMemory=_0x5af631=>(MEMORY[_0x5af631]||[])['slice'](-MAX_MEMORY)[a0_0x200994(0x19c)](_0x2805ea=>_0x2805ea[a0_0x200994(0x1a6)]+':\x20'+_0x2805ea[a0_0x200994(0x18d)])['join']('\x0a');async function runCommand(_0x168fa2,_0x5490eb,_0x3efd58,_0xfa39ee,_0x5751b1,_0x8a7e3a=null){const _0x1e9d94=a0_0x200994;console[_0x1e9d94(0x1aa)](_0x1e9d94(0x193),_0x168fa2);const _0x1cc882=resolveCommand(_0x168fa2);console[_0x1e9d94(0x1aa)]('[runCommand]\x20Resolved\x20to:',_0x1cc882?.['command']?.[_0x1e9d94(0x1ce)]?.[_0x1e9d94(0x1cb)]||_0x1e9d94(0x1e0));if(!_0x1cc882)return{'output':null,'directUsed':![]};const {command:_0x21c392}=_0x1cc882,_0x51abeb=_0x8a7e3a?(_0x8a7e3a+'\x20'+_0x5490eb)['trim']():_0x5490eb,_0x1f9e1d=_0x51abeb['trim']()['split'](/\s+/),{args:_0x53b5ba,flags:_0x5613ca}=parseArgs(_0x1f9e1d,_0x21c392[_0x1e9d94(0x1ce)][_0x1e9d94(0x1c4)]||[]);let _0x2bc977='',_0x2ad511=![];const _0x4732b4={'sendMessage':async(_0x38ecec,_0x138884)=>{const _0x1eb056=_0x1e9d94,_0x2a3842=typeof _0x138884===_0x1eb056(0x1d4)?_0x138884:_0x138884[_0x1eb056(0x1dc)]||'';_0x2bc977+=_0x2a3842,_0x21c392['meta'][_0x1eb056(0x1ae)]===!![]&&(await _0xfa39ee[_0x1eb056(0x1bc)](_0x3efd58,_0x138884),_0x2ad511=!![]);}};try{await _0x21c392[_0x1e9d94(0x1ba)]({'m':{'key':{'remoteJid':_0x3efd58},'message':{'extendedTextMessage':{'contextInfo':{'quotedMessage':_0x5751b1}}}},'sock':_0x4732b4,'args':_0x53b5ba,'flags':_0x5613ca,'executeCommand':()=>{}});if(!_0x2bc977[_0x1e9d94(0x1b4)]())_0x2bc977=_0x1e9d94(0x1e4);}catch(_0x245714){_0x2bc977='❌\x20'+(_0x245714[_0x1e9d94(0x1b6)]||_0x1e9d94(0x1cc));}return{'output':_0x2bc977[_0x1e9d94(0x1b4)](),'directUsed':_0x2ad511};}function a0_0x348e(_0x210ba6,_0xd02422){const _0x4bd005=a0_0x4bd0();return a0_0x348e=function(_0x348e53,_0x4bd8c8){_0x348e53=_0x348e53-0x18d;let _0x1dfa51=_0x4bd005[_0x348e53];return _0x1dfa51;},a0_0x348e(_0x210ba6,_0xd02422);}async function extractCommands(_0x1113fc){const _0x261a56=a0_0x200994,{commandMap:_0x590b9f,aliasMap:_0x54bb68}=require(_0x261a56(0x1a3)),_0x222a17=[...new Set([..._0x590b9f[_0x261a56(0x1a4)](),..._0x54bb68[_0x261a56(0x1a4)]()])],_0x23048d=_0x261a56(0x1d2)+_0x1113fc+'\x22\x0a\x0aMatch\x20it\x20to\x20one\x20or\x20more\x20commands\x20from\x20this\x20list:\x0a'+_0x222a17[_0x261a56(0x1a1)](',\x20')+'\x0a\x0aFor\x20each\x20command,\x20generate\x20useful\x20arguments\x20based\x20on\x20what\x20the\x20user\x20is\x20asking.\x20Expand\x20short\x20or\x20vague\x20requests\x20into\x20rich,\x20descriptive\x20arguments.\x0aThe\x20commands\x20should\x20be\x20ordered\x20logically\x20based\x20on\x20the\x20user\x27s\x20request.\x20For\x20example,\x20if\x20the\x20user\x20asks\x20to\x20generate\x20something\x20and\x20then\x20send\x20it,\x20the\x20generation\x20command\x20should\x20come\x20first.\x0aFor\x20example,\x20if\x20a\x20user\x20says:\x0a\x22make\x20a\x20detailed\x20image\x20of\x20a\x20cat\x22\x0a\x0aYou\x20should\x20return:\x0a[\x0a\x20\x20{\x0a\x20\x20\x20\x20\x22name\x22:\x20\x22image\x22,\x0a\x20\x20\x20\x20\x22args\x22:\x20\x22a\x20highly\x20detailed\x20digital\x20painting\x20of\x20a\x20cat\x20sitting\x20on\x20a\x20glowing\x20throne,\x20intricate\x20lighting\x20and\x20dramatic\x20shadows\x22\x0a\x20\x20}\x0a]\x0a\x0aAvoid\x20returning\x20\x22ai\x22\x20as\x20a\x20command\x20unless\x20the\x20user\x20explicitly\x20asks\x20to\x20chat\x20or\x20talk\x20with\x20the\x20bot.\x0a\x0aRespond\x20ONLY\x20with\x20raw\x20JSON\x20like:\x0a[\x0a\x20\x20{\x20\x22name\x22:\x20\x22commandName\x22,\x20\x22args\x22:\x20\x22argument\x20string\x22\x20}\x0a]\x0a\x0aNo\x20explanations,\x20no\x20markdown,\x20no\x20code\x20blocks.\x0a';try{const _0x2d384e=await model[_0x261a56(0x1d6)](_0x23048d);let _0xc6b9c6=_0x2d384e[_0x261a56(0x1a5)]['text']()[_0x261a56(0x1b4)]();_0xc6b9c6=_0xc6b9c6[_0x261a56(0x1df)](/`/g,'')[_0x261a56(0x1df)](/```json/g,'')[_0x261a56(0x1df)](/```/g,''),console['log'](_0x261a56(0x1dd),_0xc6b9c6);const _0x2082a0=JSON[_0x261a56(0x1b5)](_0xc6b9c6);if(!Array[_0x261a56(0x18e)](_0x2082a0))return console['error'](_0x261a56(0x197),_0x2082a0),[];return _0x2082a0;}catch(_0x52c989){return console[_0x261a56(0x1ef)](_0x261a56(0x1ec),_0x52c989),[];}}module[a0_0x200994(0x1ab)]={'meta':{'name':'ai','description':a0_0x200994(0x19a),'usage':a0_0x200994(0x1c8),'args':[{'name':a0_0x200994(0x1dc),'type':a0_0x200994(0x1d4),'greedy':!![],'required':!![]}],'category':'AI'},'run':async({m:_0x5e7889,sock:_0xa254c1,args:_0x1f2487})=>{const _0x2c2fa7=a0_0x200994,_0x24ab5b=_0x5e7889['key'][_0x2c2fa7(0x1a7)],_0x5f4400=_0x5e7889[_0x2c2fa7(0x18f)]['participant']||_0x24ab5b,_0x221bed=_0x1f2487[_0x2c2fa7(0x1dc)],_0x373322=_0x5e7889['message']?.[_0x2c2fa7(0x1b2)]?.[_0x2c2fa7(0x1ee)]?.['quotedMessage'],_0x3f6ba6=new StatusUpdater(_0xa254c1,_0x24ab5b);await _0x3f6ba6[_0x2c2fa7(0x1c5)](),await _0x3f6ba6[_0x2c2fa7(0x1b7)](_0x2c2fa7(0x1be)),addMemory(_0x5f4400,_0x2c2fa7(0x1bf),_0x221bed);let _0x38ed23;try{await _0x3f6ba6[_0x2c2fa7(0x1b7)](_0x2c2fa7(0x1e9)),_0x38ed23=await extractCommands(_0x221bed);}catch(_0x53b56d){return console[_0x2c2fa7(0x1ef)](_0x2c2fa7(0x1d5),_0x53b56d),_0xa254c1[_0x2c2fa7(0x1bc)](_0x24ab5b,{'text':_0x2c2fa7(0x1e1)});}if(!Array[_0x2c2fa7(0x18e)](_0x38ed23))return console[_0x2c2fa7(0x1ef)]('commandsToRun\x20is\x20not\x20an\x20array:',_0x38ed23),_0xa254c1[_0x2c2fa7(0x1bc)](_0x24ab5b,{'text':_0x2c2fa7(0x1e1)});const _0x4cbe46=[];let _0x2ef0ec=null,_0x4865ab=![];for(const {name:_0x304a37,args:_0x540345}of _0x38ed23){await _0x3f6ba6['update'](_0x2c2fa7(0x1f0)+_0x304a37+_0x2c2fa7(0x1b9));const {output:_0x42fe44,directUsed:_0x3fac43}=await runCommand(_0x304a37,_0x540345,_0x24ab5b,_0xa254c1,_0x373322,_0x2ef0ec);_0x42fe44&&(_0x4cbe46[_0x2c2fa7(0x1a9)]({'name':_0x304a37,'raw':_0x42fe44}),_0x2ef0ec=_0x42fe44);if(_0x3fac43)_0x4865ab=!![];}const _0xaa8dc7=_0x4cbe46[_0x2c2fa7(0x19c)](_0x167347=>_0x167347['name']+':\x20'+_0x167347[_0x2c2fa7(0x1ad)])[_0x2c2fa7(0x1a1)]('\x0a');if(_0x4865ab){console['log']('Command\x20used\x20direct:true\x20—\x20skipping\x20summary\x20AI\x20reply'),await _0x3f6ba6[_0x2c2fa7(0x191)]('✅\x20Command(s)\x20completed');return;}const _0x253ad5=persona+_0x2c2fa7(0x1cd)+botSettings[_0x2c2fa7(0x1eb)]+',\x20owned\x20by\x20'+botSettings[_0x2c2fa7(0x1cf)]+_0x2c2fa7(0x1de)+new Date()[_0x2c2fa7(0x1c1)]()+_0x2c2fa7(0x1c2)+_0x221bed+_0x2c2fa7(0x1ea)+_0xaa8dc7+_0x2c2fa7(0x194);let _0x126b0f='';const _0x2e7607=0x3;let _0x3d9509=0x0;while(_0x3d9509<_0x2e7607){try{await _0x3f6ba6[_0x2c2fa7(0x1b7)]('🧠\x20Remixing\x20with\x20AI...');const _0x445f91=await model['generateContent'](_0x253ad5);_0x126b0f=_0x445f91[_0x2c2fa7(0x1a5)][_0x2c2fa7(0x1dc)]()[_0x2c2fa7(0x1b4)]();break;}catch(_0x4936bc){if(_0x4936bc[_0x2c2fa7(0x19d)]===0x1ad){console[_0x2c2fa7(0x1ef)](_0x2c2fa7(0x1ca),_0x4936bc),_0x3d9509++;const _0x5825cd=Math['pow'](0x2,_0x3d9509)*0x3e8;await new Promise(_0x169901=>setTimeout(_0x169901,_0x5825cd)),rotateKey();}else{console[_0x2c2fa7(0x1ef)](_0x2c2fa7(0x1bb),_0x4936bc),_0x126b0f=_0x2c2fa7(0x1e3);break;}}}if(!_0x4cbe46[_0x2c2fa7(0x1b3)]){const _0x2cbf7f=persona+_0x2c2fa7(0x1a8)+_0x221bed+'\x0aRespond\x20casually\x20and\x20helpfully:';try{const _0x71bc7a=await model[_0x2c2fa7(0x1d6)](_0x2cbf7f);_0x126b0f=_0x71bc7a[_0x2c2fa7(0x1a5)]['text']()[_0x2c2fa7(0x1b4)]();}catch(_0x37367b){console['error'](_0x2c2fa7(0x1bb),_0x37367b),_0x126b0f=_0x2c2fa7(0x1e3);}}addMemory(_0x5f4400,_0x2c2fa7(0x1d1),_0x126b0f);const _0x5f37cc=_0x2c2fa7(0x195)+_0x221bed+'\x0aCommands\x20used:\x20'+_0x4cbe46[_0x2c2fa7(0x19c)](_0x30626a=>_0x30626a['name'])[_0x2c2fa7(0x1a1)](',')+'\x0aDo\x20you\x20want\x20to\x20store\x20anything?\x20Respond\x20with\x20JSON\x20{\x22user\x22:\x20\x22\x22,\x20\x22global\x22:\x20\x22\x22}';try{const _0x3947a6=await model['generateContent'](_0x5f37cc),_0xbfadf3=JSON['parse'](_0x3947a6[_0x2c2fa7(0x1a5)][_0x2c2fa7(0x1dc)]());if(_0xbfadf3['user'])REMEMBER[_0x2c2fa7(0x19f)][_0x5f4400]=_0xbfadf3['user'];if(_0xbfadf3[_0x2c2fa7(0x1c9)])REMEMBER['global']=_0xbfadf3[_0x2c2fa7(0x1c9)];saveJson(REM_FILE,REMEMBER);}catch{}const _0x3b6fb9=_0x126b0f+'\x20\x0a\x0a>\x20MORA\x20AI.\x20Generated\x20by\x20AI.\x20Don\x27t\x20take\x20responses\x20too\x20seriously';await _0x3f6ba6[_0x2c2fa7(0x191)](_0x3b6fb9);}};