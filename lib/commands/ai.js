function a0_0x52ae(){const _0x7e481c=['remoteJid','13598684hqwCxg','Command\x20failed','keys','length','./index','done','Error\x20with\x20current\x20API\x20key:','100HjIODq','readFileSync','10egYtUo','Sorry,\x20I\x27m\x20having\x20trouble\x20processing\x20your\x20request\x20right\x20now.','üß†\x20Remixing\x20with\x20AI...','\x0aCommands\x20used:\x20','.\x0aUser\x20said:\x20\x22','5530RGMCtq','commandsToRun\x20is\x20not\x20an\x20array:','...','\x22\x0a\x0aMatch\x20it\x20to\x20one\x20or\x20more\x20commands\x20from\x20this\x20list:\x0a','map','update','message','Failed\x20to\x20extract\x20commands\x20from\x20prompt:','trim','existsSync','path','direct','ai_remember.json','@google/generative-ai','filter','run','1869wmriJS','12HeKWzj','üîç\x20Extracting\x20commands...','response','[runCommand]\x20Trying\x20to\x20resolve:','\x0a\x0aUser:\x20','../../utils/statusUpdater.js','key','sendMessage','Rate\x20limit\x20error:','ai_memory.json','Command\x20used\x20direct:true\x20‚Äî\x20skipping\x20summary\x20AI\x20reply','Failed\x20to\x20process\x20your\x20request.','‚öôÔ∏è\x20Running\x20/','replace','[extractCommands]\x20Gemini\x20raw\x20output:\x0a','5196TpVSJq','isArray','push','users','486661aUeNFd','msg','participant','\x0aDo\x20you\x20want\x20to\x20store\x20anything?\x20Respond\x20with\x20JSON\x20{\x22user\x22:\x20\x22\x22,\x20\x22global\x22:\x20\x22\x22}','args','generateContent','15326259QRrzyG','ownerName','shift','join','user','meta','stringify','apiKeys.txt','slice','Talk\x20to\x20MORA-AI','[runCommand]\x20Resolved\x20to:','\x0aRespond\x20casually\x20and\x20helpfully:','command','You\x27re\x20a\x20smart,\x20witty,\x20Gen-Z\x20chatbot\x20with\x20a\x20chill,\x20upbeat\x20tone.\x0aYou\x20use\x20modern\x20slang\x20casually\x20(e.g.,\x20\x22bet\x22,\x20\x22vibe\x22,\x20\x22real\x20talk\x22,\x20\x22fr\x22,\x20\x22no\x20cap\x22\x20etc.\x20Use\x20sensibly).\x0aYou\x27re\x20still\x20helpful\x20and\x20concise\x20‚Äî\x20keep\x20replies\x20short\x20and\x20energetic.\x20üéßüî•','extractCommands:\x20Expected\x20array,\x20got:','gemini-2.5-flash','16911fKXxVH','assistant','string','text','‚ùå\x20not\x20found','\x0a\x0aFor\x20each\x20command,\x20generate\x20useful\x20arguments\x20based\x20on\x20what\x20the\x20user\x20is\x20asking.\x20Expand\x20short\x20or\x20vague\x20requests\x20into\x20rich,\x20descriptive\x20arguments.\x0aFor\x20example,\x20if\x20a\x20user\x20says:\x0a\x22make\x20a\x20detailed\x20image\x20of\x20a\x20cat\x22\x0a\x0aYou\x20should\x20return:\x0a[\x0a\x20\x20{\x0a\x20\x20\x20\x20\x22name\x22:\x20\x22image\x22,\x0a\x20\x20\x20\x20\x22args\x22:\x20\x22a\x20highly\x20detailed\x20digital\x20painting\x20of\x20a\x20cat\x20sitting\x20on\x20a\x20glowing\x20throne,\x20intricate\x20lighting\x20and\x20dramatic\x20shadows\x22\x0a\x20\x20}\x0a]\x0a\x0aAvoid\x20returning\x20\x22ai\x22\x20as\x20a\x20command\x20unless\x20the\x20user\x20explicitly\x20asks\x20to\x20chat\x20or\x20talk\x20with\x20the\x20bot.\x0a\x0aRespond\x20ONLY\x20with\x20raw\x20JSON\x20like:\x0a[\x0a\x20\x20{\x20\x22name\x22:\x20\x22commandName\x22,\x20\x22args\x22:\x20\x22argument\x20string\x22\x20}\x0a]\x0a\x0aNo\x20explanations,\x20no\x20markdown,\x20no\x20code\x20blocks.\x0a','extendedTextMessage','2614pYnfqT','‚úÖ\x20Command(s)\x20completed','contextInfo','split','name','error','2875776oSuePo','utf8','raw','136YnvbpM','User:\x20','secrets','parse','log'];a0_0x52ae=function(){return _0x7e481c;};return a0_0x52ae();}const a0_0x30a9d5=a0_0x3bff;(function(_0x273474,_0x279583){const _0x1d9e6a=a0_0x3bff,_0x1ad85d=_0x273474();while(!![]){try{const _0xdd37e3=-parseInt(_0x1d9e6a(0x1e4))/0x1*(-parseInt(_0x1d9e6a(0x1ce))/0x2)+parseInt(_0x1d9e6a(0x19d))/0x3*(-parseInt(_0x1d9e6a(0x1ad))/0x4)+parseInt(_0x1d9e6a(0x188))/0x5*(-parseInt(_0x1d9e6a(0x1d4))/0x6)+-parseInt(_0x1d9e6a(0x1b1))/0x7*(-parseInt(_0x1d9e6a(0x1d7))/0x8)+parseInt(_0x1d9e6a(0x1c7))/0x9*(parseInt(_0x1d9e6a(0x18d))/0xa)+parseInt(_0x1d9e6a(0x1dd))/0xb+-parseInt(_0x1d9e6a(0x19e))/0xc*(parseInt(_0x1d9e6a(0x1b7))/0xd);if(_0xdd37e3===_0x279583)break;else _0x1ad85d['push'](_0x1ad85d['shift']());}catch(_0x3187d8){_0x1ad85d['push'](_0x1ad85d['shift']());}}}(a0_0x52ae,0x9c856));const fs=require('fs'),path=require(a0_0x30a9d5(0x197)),{GoogleGenerativeAI}=require(a0_0x30a9d5(0x19a)),{parseArgs}=require('../../utils/parseArgs'),{resolveCommand}=require(a0_0x30a9d5(0x1e1)),{settings:botSettings}=require('../../settings'),{StatusUpdater}=require(a0_0x30a9d5(0x1a3)),API_KEYS_FILE=path['join'](__dirname,'..','..',a0_0x30a9d5(0x1d9),a0_0x30a9d5(0x1be));function loadApiKeys(){const _0x4b5c9a=a0_0x30a9d5;if(!fs[_0x4b5c9a(0x196)](API_KEYS_FILE))throw new Error('apiKeys.txt\x20not\x20found');return fs[_0x4b5c9a(0x187)](API_KEYS_FILE,'utf8')[_0x4b5c9a(0x1d1)](/\r?\n/)[_0x4b5c9a(0x19b)](Boolean);}const apiKeys=loadApiKeys();let currentKeyIndex=0x0;function setupGenAI(){const _0x93f900=a0_0x30a9d5,_0x3807fd=apiKeys[currentKeyIndex],_0x86c1=new GoogleGenerativeAI(_0x3807fd);return _0x86c1['getGenerativeModel']({'model':_0x93f900(0x1c6)});}let model=setupGenAI();function rotateKey(){const _0x3f7b24=a0_0x30a9d5;currentKeyIndex=(currentKeyIndex+0x1)%apiKeys['length'],model=setupGenAI(),console[_0x3f7b24(0x1db)]('Switched\x20to\x20key\x20'+(currentKeyIndex+0x1)+'\x20of\x20'+apiKeys[_0x3f7b24(0x1e0)]);}function a0_0x3bff(_0x3c67b8,_0x46dcf5){const _0x52aef1=a0_0x52ae();return a0_0x3bff=function(_0x3bff63,_0x711e6c){_0x3bff63=_0x3bff63-0x187;let _0x2df4fb=_0x52aef1[_0x3bff63];return _0x2df4fb;},a0_0x3bff(_0x3c67b8,_0x46dcf5);}const persona=a0_0x30a9d5(0x1c4),MEM_FILE=path['join'](__dirname,'..','..',a0_0x30a9d5(0x1d9),a0_0x30a9d5(0x1a7)),REM_FILE=path[a0_0x30a9d5(0x1ba)](__dirname,'..','..','secrets',a0_0x30a9d5(0x199)),loadJson=(_0x2e7a94,_0x4770b4={})=>fs[a0_0x30a9d5(0x196)](_0x2e7a94)?JSON[a0_0x30a9d5(0x1da)](fs[a0_0x30a9d5(0x187)](_0x2e7a94,a0_0x30a9d5(0x1d5))):_0x4770b4,saveJson=(_0x11a7e6,_0x1e0af1)=>fs['writeFileSync'](_0x11a7e6,JSON[a0_0x30a9d5(0x1bd)](_0x1e0af1,null,0x2)),MEMORY=loadJson(MEM_FILE,{}),REMEMBER=loadJson(REM_FILE,{'users':{},'global':''}),MAX_MEMORY=0xf,addMemory=(_0x4a44a7,_0x137b95,_0x2f1e92)=>{const _0x5a7376=a0_0x30a9d5;if(!MEMORY[_0x4a44a7])MEMORY[_0x4a44a7]=[];MEMORY[_0x4a44a7]['push']({'role':_0x137b95,'msg':_0x2f1e92,'ts':Date['now']()});if(MEMORY[_0x4a44a7]['length']>MAX_MEMORY)MEMORY[_0x4a44a7][_0x5a7376(0x1b9)]();saveJson(MEM_FILE,MEMORY);},getMemory=_0x3b95f5=>(MEMORY[_0x3b95f5]||[])[a0_0x30a9d5(0x1bf)](-MAX_MEMORY)[a0_0x30a9d5(0x191)](_0x21bac2=>_0x21bac2['role']+':\x20'+_0x21bac2[a0_0x30a9d5(0x1b2)])[a0_0x30a9d5(0x1ba)]('\x0a');async function runCommand(_0x5ca09c,_0x5685a7,_0x57f88d,_0x35ba58,_0x994d9b){const _0xc9d8a7=a0_0x30a9d5;console[_0xc9d8a7(0x1db)](_0xc9d8a7(0x1a1),_0x5ca09c);const _0x37bf3a=resolveCommand(_0x5ca09c);console['log'](_0xc9d8a7(0x1c1),_0x37bf3a?.[_0xc9d8a7(0x1c3)]?.[_0xc9d8a7(0x1bc)]?.[_0xc9d8a7(0x1d2)]||_0xc9d8a7(0x1cb));if(!_0x37bf3a)return{'output':null,'directUsed':![]};const {command:_0x471871}=_0x37bf3a,_0x4558e6=_0x5685a7[_0xc9d8a7(0x195)]()[_0xc9d8a7(0x1d1)](/\s+/),{args:_0x2aaf43,flags:_0x39f21d}=parseArgs(_0x4558e6,_0x471871[_0xc9d8a7(0x1bc)][_0xc9d8a7(0x1b5)]||[]);let _0x5ed873='',_0x2c4cd3=![];const _0x1bcfc2={'sendMessage':async(_0x1a8644,_0x4aaf65)=>{const _0x438f3f=_0xc9d8a7,_0x5e03ab=typeof _0x4aaf65===_0x438f3f(0x1c9)?_0x4aaf65:_0x4aaf65[_0x438f3f(0x1ca)]||'';_0x5ed873+=_0x5e03ab,_0x471871['meta'][_0x438f3f(0x198)]===!![]&&(await _0x35ba58[_0x438f3f(0x1a5)](_0x57f88d,_0x4aaf65),_0x2c4cd3=!![]);}};try{await _0x471871[_0xc9d8a7(0x19c)]({'m':{'key':{'remoteJid':_0x57f88d},'message':{'extendedTextMessage':{'contextInfo':{'quotedMessage':_0x994d9b}}}},'sock':_0x1bcfc2,'args':_0x2aaf43,'flags':_0x39f21d,'executeCommand':()=>{}});if(!_0x5ed873['trim']())_0x5ed873='(command\x20ran\x20but\x20gave\x20no\x20output)';}catch(_0x3597ca){_0x5ed873='‚ùå\x20'+(_0x3597ca[_0xc9d8a7(0x193)]||_0xc9d8a7(0x1de));}return{'output':_0x5ed873[_0xc9d8a7(0x195)](),'directUsed':_0x2c4cd3};}async function extractCommands(_0x33a49d){const _0x575330=a0_0x30a9d5,{commandMap:_0x529e01,aliasMap:_0x3c368f}=require(_0x575330(0x1e1)),_0x4e00f8=[...new Set([..._0x529e01[_0x575330(0x1df)](),..._0x3c368f[_0x575330(0x1df)]()])],_0x3bf4f9='\x0aYou\x20are\x20a\x20command\x20interpreter\x20for\x20a\x20chatbot.\x0a\x0aFrom\x20the\x20user\x27s\x20message:\x20\x22'+_0x33a49d+_0x575330(0x190)+_0x4e00f8['join'](',\x20')+_0x575330(0x1cc);try{const _0x1e5b35=await model[_0x575330(0x1b6)](_0x3bf4f9);let _0x3e7eb7=_0x1e5b35[_0x575330(0x1a0)][_0x575330(0x1ca)]()[_0x575330(0x195)]();_0x3e7eb7=_0x3e7eb7[_0x575330(0x1ab)](/`/g,'')[_0x575330(0x1ab)](/```json/g,'')[_0x575330(0x1ab)](/```/g,''),console[_0x575330(0x1db)](_0x575330(0x1ac),_0x3e7eb7);const _0x46e466=JSON[_0x575330(0x1da)](_0x3e7eb7);if(!Array[_0x575330(0x1ae)](_0x46e466))return console['error'](_0x575330(0x1c5),_0x46e466),[];return _0x46e466;}catch(_0x289393){return console['error'](_0x575330(0x194),_0x289393),[];}}module['exports']={'meta':{'name':'ai','description':a0_0x30a9d5(0x1c0),'usage':'.ai\x20<prompt>','args':[{'name':a0_0x30a9d5(0x1ca),'type':a0_0x30a9d5(0x1c9),'greedy':!![],'required':!![]}],'category':'AI'},'run':async({m:_0x3291c6,sock:_0x395692,args:_0x543b54})=>{const _0x3937ce=a0_0x30a9d5,_0x3529f2=_0x3291c6[_0x3937ce(0x1a4)][_0x3937ce(0x1dc)],_0x381450=_0x3291c6[_0x3937ce(0x1a4)][_0x3937ce(0x1b3)]||_0x3529f2,_0x152d8f=_0x543b54[_0x3937ce(0x1ca)],_0x5a5a72=_0x3291c6[_0x3937ce(0x193)]?.[_0x3937ce(0x1cd)]?.[_0x3937ce(0x1d0)]?.['quotedMessage'],_0x493fb7=new StatusUpdater(_0x395692,_0x3529f2);await _0x493fb7['start'](),await _0x493fb7['update']('ü§ñ\x20Thinking...'),addMemory(_0x381450,'user',_0x152d8f);let _0x394923;try{await _0x493fb7['update'](_0x3937ce(0x19f)),_0x394923=await extractCommands(_0x152d8f);}catch(_0x5221d2){return console['error']('Error\x20extracting\x20commands:',_0x5221d2),_0x395692[_0x3937ce(0x1a5)](_0x3529f2,{'text':_0x3937ce(0x1a9)});}if(!Array['isArray'](_0x394923))return console[_0x3937ce(0x1d3)](_0x3937ce(0x18e),_0x394923),_0x395692[_0x3937ce(0x1a5)](_0x3529f2,{'text':_0x3937ce(0x1a9)});const _0x265f22=[];let _0x359ee4=![];for(const {name:_0x10b8e0,args:_0x4becbf}of _0x394923){await _0x493fb7[_0x3937ce(0x192)](_0x3937ce(0x1aa)+_0x10b8e0+_0x3937ce(0x18f));const {output:_0x43be90,directUsed:_0x3bf6a2}=await runCommand(_0x10b8e0,_0x4becbf,_0x3529f2,_0x395692,_0x5a5a72);if(_0x43be90)_0x265f22[_0x3937ce(0x1af)]({'name':_0x10b8e0,'raw':_0x43be90});if(_0x3bf6a2)_0x359ee4=!![];}const _0x1217ad=_0x265f22[_0x3937ce(0x191)](_0x42c69f=>_0x42c69f['name']+':\x20'+_0x42c69f[_0x3937ce(0x1d6)])[_0x3937ce(0x1ba)]('\x0a');if(_0x359ee4){console[_0x3937ce(0x1db)](_0x3937ce(0x1a8)),await _0x493fb7[_0x3937ce(0x1e2)](_0x3937ce(0x1cf));return;}const _0x14b127=persona+'\x0a\x0aYou\x20are\x20'+botSettings['botName']+',\x20owned\x20by\x20'+botSettings[_0x3937ce(0x1b8)]+'.\x0aTime\x20now:\x20'+new Date()['toLocaleString']()+_0x3937ce(0x18c)+_0x152d8f+'\x22\x0aCommand\x20output:\x0a'+_0x1217ad+'\x0aReply\x20with\x20Gen-Z\x20style\x20in\x201‚Äì2\x20lines.';let _0x35718e='';const _0x52dc83=0x3;let _0x4ed99b=0x0;while(_0x4ed99b<_0x52dc83){try{await _0x493fb7[_0x3937ce(0x192)](_0x3937ce(0x18a));const _0x275090=await model[_0x3937ce(0x1b6)](_0x14b127);_0x35718e=_0x275090[_0x3937ce(0x1a0)][_0x3937ce(0x1ca)]()[_0x3937ce(0x195)]();break;}catch(_0x531024){if(_0x531024['data']===0x1ad){console['error'](_0x3937ce(0x1a6),_0x531024),_0x4ed99b++;const _0xabd9=Math['pow'](0x2,_0x4ed99b)*0x3e8;await new Promise(_0x3e8d97=>setTimeout(_0x3e8d97,_0xabd9)),rotateKey();}else{console[_0x3937ce(0x1d3)]('Error\x20with\x20current\x20API\x20key:',_0x531024),_0x35718e=_0x3937ce(0x189);break;}}}if(!_0x265f22[_0x3937ce(0x1e0)]){const _0x5bf465=persona+_0x3937ce(0x1a2)+_0x152d8f+_0x3937ce(0x1c2);try{const _0x18da66=await model['generateContent'](_0x5bf465);_0x35718e=_0x18da66['response'][_0x3937ce(0x1ca)]()[_0x3937ce(0x195)]();}catch(_0x125054){console[_0x3937ce(0x1d3)](_0x3937ce(0x1e3),_0x125054),_0x35718e=_0x3937ce(0x189);}}addMemory(_0x381450,_0x3937ce(0x1c8),_0x35718e);const _0x5d0f7a=_0x3937ce(0x1d8)+_0x152d8f+_0x3937ce(0x18b)+_0x265f22[_0x3937ce(0x191)](_0x8c251f=>_0x8c251f[_0x3937ce(0x1d2)])[_0x3937ce(0x1ba)](',')+_0x3937ce(0x1b4);try{const _0x56bfac=await model[_0x3937ce(0x1b6)](_0x5d0f7a),_0x8649fc=JSON[_0x3937ce(0x1da)](_0x56bfac[_0x3937ce(0x1a0)][_0x3937ce(0x1ca)]());if(_0x8649fc[_0x3937ce(0x1bb)])REMEMBER[_0x3937ce(0x1b0)][_0x381450]=_0x8649fc[_0x3937ce(0x1bb)];if(_0x8649fc['global'])REMEMBER['global']=_0x8649fc['global'];saveJson(REM_FILE,REMEMBER);}catch{}const _0x2e0a7e=_0x35718e+'\x20\x0a\x0a>\x20MORA\x20AI.\x20Generated\x20by\x20AI.\x20Don\x27t\x20take\x20responses\x20too\x20seriously';await _0x493fb7[_0x3937ce(0x1e2)](_0x2e0a7e);}};