const a0_0x3bffd7=a0_0x25a2;(function(_0x1f5941,_0x3fb7a0){const _0x1dbf4e=a0_0x25a2,_0xd14295=_0x1f5941();while(!![]){try{const _0x3a9bbb=-parseInt(_0x1dbf4e(0xe7))/0x1+-parseInt(_0x1dbf4e(0x10a))/0x2+-parseInt(_0x1dbf4e(0xef))/0x3+-parseInt(_0x1dbf4e(0x12d))/0x4*(parseInt(_0x1dbf4e(0xee))/0x5)+parseInt(_0x1dbf4e(0xec))/0x6*(-parseInt(_0x1dbf4e(0x127))/0x7)+parseInt(_0x1dbf4e(0x106))/0x8*(parseInt(_0x1dbf4e(0x102))/0x9)+parseInt(_0x1dbf4e(0x12c))/0xa*(parseInt(_0x1dbf4e(0x122))/0xb);if(_0x3a9bbb===_0x3fb7a0)break;else _0xd14295['push'](_0xd14295['shift']());}catch(_0x44cd86){_0xd14295['push'](_0xd14295['shift']());}}}(a0_0x3544,0x3bebd));const fs=require('fs'),path=require(a0_0x3bffd7(0xf5)),https=require(a0_0x3bffd7(0x113)),AdmZip=require(a0_0x3bffd7(0x124)),CURRENT_VERSION_FILE=path['join'](__dirname,'..',a0_0x3bffd7(0xea)),GITHUB_REPO=a0_0x3bffd7(0xf7),GITHUB_BRANCH=a0_0x3bffd7(0x11f),VERSION_URL='https://raw.githubusercontent.com/'+GITHUB_REPO+'/'+GITHUB_BRANCH+a0_0x3bffd7(0x11e),ZIP_URL=a0_0x3bffd7(0xf2)+GITHUB_REPO+'/archive/refs/heads/'+GITHUB_BRANCH+a0_0x3bffd7(0x103);function getCurrentVersion(){const _0x42982d=a0_0x3bffd7;if(!fs['existsSync'](CURRENT_VERSION_FILE))return _0x42982d(0x129);const _0x1b52dd=fs[_0x42982d(0x108)](CURRENT_VERSION_FILE,_0x42982d(0x121)),_0x2914a0=_0x1b52dd[_0x42982d(0xf8)](/Version:\s*([^\n]+)/);return _0x2914a0?.[0x1]?.[_0x42982d(0x117)]()||_0x42982d(0x129);}async function fetchRemoteVersionFile(){return new Promise((_0x1ef2d1,_0x5d6d57)=>{const _0x1f09e2=a0_0x25a2;https[_0x1f09e2(0x126)](VERSION_URL,_0x44588c=>{const _0x5eb75b=_0x1f09e2;let _0x512ba2='';_0x44588c['on']('data',_0x5504db=>_0x512ba2+=_0x5504db),_0x44588c['on'](_0x5eb75b(0xf4),()=>_0x1ef2d1(_0x512ba2));})['on']('error',_0x5d6d57);});}function a0_0x3544(){const _0x18ebf9=['https','dependencies','‚úÖ\x20Updated\x20successfully\x20to\x20v','‚úÖ\x20You\x27re\x20up\x20to\x20date\x20(v','trim','parse','mode','rmSync','‚ùå\x20Update\x20failed.\x0a','\x0a\x0a>\x20Use\x20\x27update\x20now\x27\x20to\x20get\x20the\x20latest\x20version.','statusCode','/version.txt','main','split','utf8','24629KJSoyb','sendMessage','adm-zip','find','get','28weapTv','üì•\x20Downloading\x20latest\x20version...','0.0.0','\x0a\x0aüí°\x20Please\x20install\x20updated\x20dependencies\x20before\x20starting\x20the\x20bot\x20again.\x0a','string','2910UzZTFP','56iUDQef','\x20‚Üí\x20','message','üîÑ\x20New\x20version\x20available:\x20v','Failed\x20to\x20download\x20zip\x20(status\x20','repo.zip','isDirectory','mkdirSync','error','temp','316363xdAZpu','name','pipe','version.txt','toLowerCase','62340pYozGy','entries','26140BQhrWg','338253DEOXPU','exports','Check\x20for\x20updates\x20or\x20apply\x20them','https://github.com/','.update\x20or\x20.update\x20now','end','path','\x0a‚ôªÔ∏è\x20Restarting\x20bot\x20to\x20apply\x20changes...','Dammy8611/MORA-BOT','match','owner','key','length','existsSync','update','join','üîÅ\x20If\x20using\x20a\x20panel\x20(e.g.,\x20Railway,\x20Replit),\x20it\x20may\x20auto-reinstall\x20on\x20restart.\x0a','push','üÜï\x20','9lEJZXs','.zip','devDependencies','package.json','2013128HcSwCt','unlinkSync','readFileSync','now','227774zGaWYF','readdirSync','üñ•Ô∏è\x20If\x20on\x20local\x20PC/server,\x20run:\x20`npm\x20install`\x0a\x0a‚õî\x20Shutting\x20down...','copyFileSync','exit','lstatSync','Content:','createWriteStream','\x0aüì¶\x20The\x20following\x20packages\x20were\x20added\x20or\x20changed:\x0a-\x20'];a0_0x3544=function(){return _0x18ebf9;};return a0_0x3544();}function parseVersionInfo(_0x5ea963){const _0x5dc1c2=a0_0x3bffd7,_0x4e25b5=_0x5ea963[_0x5dc1c2(0xf8)](/Version:\s*([^\n]+)/)?.[0x1]?.['trim'](),_0x48a39f=_0x5ea963[_0x5dc1c2(0x120)](_0x5dc1c2(0x110))[0x1]?.[_0x5dc1c2(0x117)]();return{'version':_0x4e25b5,'content':_0x48a39f};}function a0_0x25a2(_0x1071a2,_0x379132){const _0x354454=a0_0x3544();return a0_0x25a2=function(_0x25a272,_0xcfc1da){_0x25a272=_0x25a272-0xe7;let _0x57f025=_0x354454[_0x25a272];return _0x57f025;},a0_0x25a2(_0x1071a2,_0x379132);}async function downloadAndExtractRepo(){const _0x1ed1d6=a0_0x3bffd7,_0x49eae1=path[_0x1ed1d6(0xfe)]('temp',_0x1ed1d6(0x132)),_0x3cd014=path[_0x1ed1d6(0xfe)](_0x1ed1d6(0x136),'repo-extracted');if(fs['existsSync'](_0x49eae1))fs[_0x1ed1d6(0x107)](_0x49eae1);if(fs['existsSync'](_0x3cd014))fs[_0x1ed1d6(0x11a)](_0x3cd014,{'recursive':!![],'force':!![]});return new Promise((_0x43102d,_0x5bf369)=>{const _0x66274=_0x1ed1d6,_0x1c4a3f=fs[_0x66274(0x111)](_0x49eae1),_0x5f4872={'headers':{'User-Agent':'NodeJS\x20Updater\x20Script'}};https[_0x66274(0x126)](ZIP_URL,_0x5f4872,_0x4721e1=>{const _0x4ef3dd=_0x66274;if(_0x4721e1[_0x4ef3dd(0x11d)]!==0xc8)return _0x5bf369(new Error(_0x4ef3dd(0x131)+_0x4721e1[_0x4ef3dd(0x11d)]+')'));_0x4721e1[_0x4ef3dd(0xe9)](_0x1c4a3f),_0x1c4a3f['on']('finish',()=>{const _0x388d8a=_0x4ef3dd;_0x1c4a3f['close']();try{const _0x311372=new AdmZip(_0x49eae1);_0x311372['extractAllTo'](_0x3cd014,!![]);const _0x564d6d=fs['readdirSync'](_0x3cd014)[_0x388d8a(0x125)](_0x197dc4=>fs[_0x388d8a(0x10f)](path[_0x388d8a(0xfe)](_0x3cd014,_0x197dc4))[_0x388d8a(0x133)]()),_0x62014f=path[_0x388d8a(0xfe)](_0x3cd014,_0x564d6d);_0x43102d({'fullExtracted':_0x62014f,'zipPath':_0x49eae1,'extractPath':_0x3cd014});}catch(_0x406e47){_0x5bf369(_0x406e47);}});})['on'](_0x66274(0x135),_0x5bf369);});}function copyFiles(_0x69654b,_0x39e31e){const _0x3598dd=a0_0x3bffd7,_0x5257df=fs[_0x3598dd(0x10b)](_0x69654b,{'withFileTypes':!![]});for(const _0x12b971 of _0x5257df){const _0x1ff182=path[_0x3598dd(0xfe)](_0x69654b,_0x12b971['name']),_0x302065=path['join'](_0x39e31e,_0x12b971[_0x3598dd(0xe8)]);if(_0x12b971[_0x3598dd(0x133)]()){if(!fs['existsSync'](_0x302065))fs[_0x3598dd(0x134)](_0x302065);copyFiles(_0x1ff182,_0x302065);}else fs[_0x3598dd(0x10d)](_0x1ff182,_0x302065);}}function getDependencies(_0x312e61){const _0x538677=a0_0x3bffd7;if(!fs[_0x538677(0xfc)](_0x312e61))return{};const _0x287990=JSON[_0x538677(0x118)](fs['readFileSync'](_0x312e61,'utf8'));return{'dependencies':_0x287990[_0x538677(0x114)]||{},'devDependencies':_0x287990[_0x538677(0x104)]||{}};}function diffDeps(_0x31e881,_0x3dc80c){const _0x19e54e=a0_0x3bffd7,_0x28c751=[];for(const [_0x3a7177,_0x49ff77]of Object[_0x19e54e(0xed)](_0x3dc80c)){if(!_0x31e881[_0x3a7177])_0x28c751[_0x19e54e(0x100)](_0x19e54e(0x101)+_0x3a7177+'@'+_0x49ff77);else{if(_0x31e881[_0x3a7177]!==_0x49ff77)_0x28c751[_0x19e54e(0x100)]('üîÅ\x20'+_0x3a7177+'\x20(from\x20'+_0x31e881[_0x3a7177]+_0x19e54e(0x12e)+_0x49ff77+')');}}return _0x28c751;}module[a0_0x3bffd7(0xf0)]={'meta':{'name':a0_0x3bffd7(0xfd),'description':a0_0x3bffd7(0xf1),'usage':a0_0x3bffd7(0xf3),'args':[{'name':a0_0x3bffd7(0x119),'type':a0_0x3bffd7(0x12b),'required':![]}],'ownerOnly':!![],'category':a0_0x3bffd7(0xf9)},'run':async({sock:_0x4bf2da,m:_0x11da3f,args:_0x10276d})=>{const _0x223fd6=a0_0x3bffd7,_0x308f2f=_0x11da3f[_0x223fd6(0xfa)]['remoteJid'],_0x27b524=(_0x10276d['mode']||'')[_0x223fd6(0xeb)]()===_0x223fd6(0x109);if(!_0x27b524)try{const _0x5335e8=await fetchRemoteVersionFile(),{version:_0x297c77,content:_0x41f88a}=parseVersionInfo(_0x5335e8),_0x4f127d=getCurrentVersion();return _0x297c77===_0x4f127d?_0x4bf2da['sendMessage'](_0x308f2f,{'text':_0x223fd6(0x116)+_0x4f127d+')'}):_0x4bf2da[_0x223fd6(0x123)](_0x308f2f,{'text':_0x223fd6(0x130)+_0x297c77+'\x0aVersion\x20details:\x0a'+_0x41f88a+_0x223fd6(0x11c)});}catch(_0x5ac460){return _0x4bf2da['sendMessage'](_0x308f2f,{'text':'‚ùå\x20Failed\x20to\x20check\x20version.\x0a'+_0x5ac460[_0x223fd6(0x12f)]});}await _0x4bf2da['sendMessage'](_0x308f2f,{'text':_0x223fd6(0x128)});try{const {fullExtracted:_0xa0a957,zipPath:_0x40f294,extractPath:_0x586c98}=await downloadAndExtractRepo(),_0x43c68f=getDependencies(path[_0x223fd6(0xfe)](__dirname,'..',_0x223fd6(0x105))),_0x1c266d=getDependencies(path['join'](_0xa0a957,_0x223fd6(0x105))),_0x25025f=diffDeps(_0x43c68f[_0x223fd6(0x114)],_0x1c266d['dependencies']),_0x4ce7cd=diffDeps(_0x43c68f['devDependencies'],_0x1c266d['devDependencies']),_0x263a67=_0x25025f['length']||_0x4ce7cd[_0x223fd6(0xfb)];copyFiles(_0xa0a957,path[_0x223fd6(0xfe)](__dirname,'..'));const _0x182258=await fetchRemoteVersionFile();fs['writeFileSync'](CURRENT_VERSION_FILE,_0x182258);if(fs[_0x223fd6(0xfc)](_0x40f294))fs[_0x223fd6(0x107)](_0x40f294);if(fs[_0x223fd6(0xfc)](_0x586c98))fs[_0x223fd6(0x11a)](_0x586c98,{'recursive':!![],'force':!![]});const {version:_0xd152da}=parseVersionInfo(_0x182258);let _0x4f5dd2=_0x223fd6(0x115)+_0xd152da+'\x0a';if(_0x263a67){const _0x1826f6=[..._0x25025f,..._0x4ce7cd];_0x4f5dd2+=_0x223fd6(0x112)+_0x1826f6['join']('\x0a-\x20'),_0x4f5dd2+=_0x223fd6(0x12a),_0x4f5dd2+=_0x223fd6(0xff),_0x4f5dd2+=_0x223fd6(0x10c),await _0x4bf2da['sendMessage'](_0x308f2f,{'text':_0x4f5dd2}),process[_0x223fd6(0x10e)](0x0);}else _0x4f5dd2+=_0x223fd6(0xf6),await _0x4bf2da[_0x223fd6(0x123)](_0x308f2f,{'text':_0x4f5dd2}),process[_0x223fd6(0x10e)](0x64);}catch(_0x4ec93a){return _0x4bf2da[_0x223fd6(0x123)](_0x308f2f,{'text':_0x223fd6(0x11b)+_0x4ec93a['message']});}}};