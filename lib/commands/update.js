const a0_0x1e484c=a0_0x49e1;(function(_0xa563e4,_0x36c0c1){const _0x391136=a0_0x49e1,_0x2dc3bc=_0xa563e4();while(!![]){try{const _0x19673d=parseInt(_0x391136(0x1c9))/0x1+parseInt(_0x391136(0x198))/0x2*(-parseInt(_0x391136(0x18a))/0x3)+parseInt(_0x391136(0x1cd))/0x4*(-parseInt(_0x391136(0x1c0))/0x5)+-parseInt(_0x391136(0x1cb))/0x6+-parseInt(_0x391136(0x1c3))/0x7*(parseInt(_0x391136(0x194))/0x8)+-parseInt(_0x391136(0x191))/0x9*(-parseInt(_0x391136(0x1ab))/0xa)+-parseInt(_0x391136(0x197))/0xb*(-parseInt(_0x391136(0x1ba))/0xc);if(_0x19673d===_0x36c0c1)break;else _0x2dc3bc['push'](_0x2dc3bc['shift']());}catch(_0x72678d){_0x2dc3bc['push'](_0x2dc3bc['shift']());}}}(a0_0x34dd,0x9a87b));const fs=require('fs'),path=require(a0_0x1e484c(0x1aa)),https=require(a0_0x1e484c(0x1d4)),AdmZip=require(a0_0x1e484c(0x1d0)),semver=require(a0_0x1e484c(0x18d)),CURRENT_VERSION_FILE=path[a0_0x1e484c(0x19e)](__dirname,'..',a0_0x1e484c(0x195)),GITHUB_REPO=a0_0x1e484c(0x181),GITHUB_BRANCH=a0_0x1e484c(0x1c6),VERSION_URL='https://raw.githubusercontent.com/'+GITHUB_REPO+'/'+GITHUB_BRANCH+'/version.txt',ZIP_URL='https://github.com/'+GITHUB_REPO+a0_0x1e484c(0x18e)+GITHUB_BRANCH+a0_0x1e484c(0x1b5);function getCurrentVersion(){const _0x2c5b9c=a0_0x1e484c;if(!fs[_0x2c5b9c(0x190)](CURRENT_VERSION_FILE))return _0x2c5b9c(0x1c2);const _0x293bc5=fs[_0x2c5b9c(0x1bc)](CURRENT_VERSION_FILE,_0x2c5b9c(0x18f)),_0x22515f=_0x293bc5[_0x2c5b9c(0x19b)](/Version:\s*([^\n]+)/);return _0x22515f?.[0x1]?.[_0x2c5b9c(0x189)]()||_0x2c5b9c(0x1c2);}async function fetchRemoteVersionFile(){return new Promise((_0x24b9e7,_0x22f8e7)=>{const _0x57cfcc=a0_0x49e1;https[_0x57cfcc(0x186)](VERSION_URL,_0x2bdde3=>{const _0x5365cc=_0x57cfcc;let _0xdc1556='';_0x2bdde3['on'](_0x5365cc(0x19a),_0x1afbcc=>_0xdc1556+=_0x1afbcc),_0x2bdde3['on'](_0x5365cc(0x185),()=>_0x24b9e7(_0xdc1556));})['on'](_0x57cfcc(0x1be),_0x22f8e7);});}function parseVersionInfo(_0x3e89fb){const _0xb24deb=a0_0x1e484c,_0x815b79=_0x3e89fb[_0xb24deb(0x19b)](/Version:\s*([^\n]+)/)?.[0x1]?.['trim'](),_0x1c4671=_0x3e89fb[_0xb24deb(0x1af)](_0xb24deb(0x1d3))[0x1]?.[_0xb24deb(0x189)]();return{'version':_0x815b79,'content':_0x1c4671};}function a0_0x49e1(_0x33f289,_0x24b1ac){const _0x34dd17=a0_0x34dd();return a0_0x49e1=function(_0x49e1f7,_0x3dceca){_0x49e1f7=_0x49e1f7-0x17f;let _0xf5d6a6=_0x34dd17[_0x49e1f7];return _0xf5d6a6;},a0_0x49e1(_0x33f289,_0x24b1ac);}const followRedirect=(_0x30e422,_0x1815c2=0x5)=>{return new Promise((_0x52f399,_0x3141ef)=>{const _0x28089e=(_0x2b7e5a,_0xc07ee6)=>{const _0x857f55=a0_0x49e1;https[_0x857f55(0x186)](_0x2b7e5a,{'headers':{'User-Agent':_0x857f55(0x1bf)}},_0x452a1d=>{const _0x340860=_0x857f55;if(_0x452a1d['statusCode']>=0x12c&&_0x452a1d[_0x340860(0x1a6)]<0x190&&_0x452a1d[_0x340860(0x1b9)][_0x340860(0x184)]){if(_0xc07ee6>=_0x1815c2)return _0x3141ef(new Error(_0x340860(0x1d8)));const _0xccaeec=_0x452a1d[_0x340860(0x1b9)]['location'][_0x340860(0x188)](_0x340860(0x1ae))?_0x452a1d['headers']['location']:new URL(_0x452a1d['headers'][_0x340860(0x184)],_0x2b7e5a)[_0x340860(0x193)]();_0x28089e(_0xccaeec,_0xc07ee6+0x1);}else _0x52f399(_0x452a1d);})['on'](_0x857f55(0x1be),_0x3141ef);};_0x28089e(_0x30e422,0x0);});};async function downloadAndExtractRepo(){const _0x23ede0=a0_0x1e484c,_0x304063=path[_0x23ede0(0x19e)](_0x23ede0(0x1cf),_0x23ede0(0x1b4)),_0x561222=path[_0x23ede0(0x19e)](_0x23ede0(0x1cf),'repo-extracted');if(!fs[_0x23ede0(0x190)](_0x23ede0(0x1cf)))fs[_0x23ede0(0x18c)](_0x23ede0(0x1cf));if(fs[_0x23ede0(0x190)](_0x304063))fs[_0x23ede0(0x19d)](_0x304063);if(fs[_0x23ede0(0x190)](_0x561222))fs[_0x23ede0(0x199)](_0x561222,{'recursive':!![],'force':!![]});return new Promise(async(_0x50b3af,_0x15e702)=>{const _0x2a81ee=_0x23ede0;try{const _0x15fe50=await followRedirect(ZIP_URL),_0x990754=fs['createWriteStream'](_0x304063);_0x15fe50['pipe'](_0x990754),_0x990754['on']('finish',()=>{const _0x5bff9e=a0_0x49e1;_0x990754['close']();try{const _0x3689d8=new AdmZip(_0x304063);_0x3689d8[_0x5bff9e(0x1d5)](_0x561222,!![]);const _0x434723=fs[_0x5bff9e(0x1a5)](_0x561222)[_0x5bff9e(0x1a0)](_0x3826e3=>fs['lstatSync'](path['join'](_0x561222,_0x3826e3))[_0x5bff9e(0x1ad)]()),_0x1bfebc=path[_0x5bff9e(0x19e)](_0x561222,_0x434723);_0x50b3af({'fullExtracted':_0x1bfebc,'zipPath':_0x304063,'extractPath':_0x561222});}catch(_0x2ace29){_0x15e702(_0x2ace29);}});}catch(_0x540b49){_0x15e702(new Error(_0x2a81ee(0x18b)+_0x540b49[_0x2a81ee(0x19c)]));}});}function copyFiles(_0x50f352,_0x53f7ed){const _0x4639c5=a0_0x1e484c,_0x447ba0=fs['readdirSync'](_0x50f352,{'withFileTypes':!![]});for(const _0x2be79c of _0x447ba0){const _0xa97943=path[_0x4639c5(0x19e)](_0x50f352,_0x2be79c['name']),_0x148fee=path['join'](_0x53f7ed,_0x2be79c[_0x4639c5(0x192)]);if(_0x2be79c[_0x4639c5(0x1ad)]()){if(!fs[_0x4639c5(0x190)](_0x148fee))fs[_0x4639c5(0x18c)](_0x148fee);copyFiles(_0xa97943,_0x148fee);}else fs[_0x4639c5(0x1b0)](_0xa97943,_0x148fee);}}function getDependencies(_0x21aa71){const _0x3086db=a0_0x1e484c;if(!fs['existsSync'](_0x21aa71))return{'dependencies':{},'devDependencies':{}};try{const _0x1b0dde=JSON[_0x3086db(0x182)](fs['readFileSync'](_0x21aa71,_0x3086db(0x18f)));return{'dependencies':_0x1b0dde['dependencies']||{},'devDependencies':_0x1b0dde[_0x3086db(0x1a2)]||{}};}catch(_0x3dde93){return console[_0x3086db(0x1a1)](_0x3086db(0x1ac)+_0x21aa71+':',_0x3dde93[_0x3086db(0x19c)]),{'dependencies':{},'devDependencies':{}};}}function diffDeps(_0x4fc602,_0xd1211e){const _0x406566=a0_0x1e484c,_0x3cc35b=[];for(const [_0x2eae94,_0xfcdef]of Object['entries'](_0xd1211e)){if(!_0x4fc602[_0x2eae94])_0x3cc35b[_0x406566(0x1c7)](_0x406566(0x1a3)+_0x2eae94+'@'+_0xfcdef);else{if(_0x4fc602[_0x2eae94]!==_0xfcdef)_0x3cc35b[_0x406566(0x1c7)](_0x406566(0x1c5)+_0x2eae94+_0x406566(0x17f)+_0x4fc602[_0x2eae94]+'\x20‚Üí\x20'+_0xfcdef+')');}}return _0x3cc35b;}function a0_0x34dd(){const _0x1782cb=['Dammy8611/MORA-BOT','parse','üì•\x20Downloading\x20latest\x20version...','location','end','get','\x0aüì¶\x20The\x20following\x20packages\x20were\x20added\x20or\x20changed:\x0a-\x20','startsWith','trim','17391elwcIt','Failed\x20to\x20download\x20zip:\x20','mkdirSync','semver','/archive/refs/heads/','utf8','existsSync','2229903RXTPtb','name','toString','8OyMeeI','version.txt','sendMessage','11rxnPHv','398ksJfMy','rmSync','data','match','message','unlinkSync','join','valid','find','warn','devDependencies','üÜï\x20','update','readdirSync','statusCode','‚úÖ\x20You\x27re\x20up\x20to\x20date\x20(v','\x0a\x0a>\x20Use\x20\x27update\x20now\x27\x20to\x20get\x20the\x20latest\x20version.','‚úÖ\x20Updated\x20successfully\x20to\x20v','path','10AKNyWy','‚ö†Ô∏è\x20Could\x20not\x20parse\x20','isDirectory','http','split','copyFileSync','‚ùå\x20Failed\x20to\x20check\x20version.\x0a','now','\x0a\x0aüí°\x20Please\x20install\x20updated\x20dependencies\x20before\x20starting\x20the\x20bot\x20again.\x0a','repo.zip','.zip','lte','üîÅ\x20If\x20using\x20a\x20panel\x20(e.g.,\x20Railway,\x20Replit),\x20it\x20may\x20auto-reinstall\x20on\x20restart.\x0a','\x0a-\x20','headers','35064612BhfPil','toLowerCase','readFileSync','üîÑ\x20New\x20version\x20available:\x20v','error','NodeJS\x20Updater','85pObpIB','exit','0.0.0','7047992rykfzY','\x0a‚ôªÔ∏è\x20Restarting\x20bot\x20to\x20apply\x20changes...','üîÅ\x20','main','push','.update\x20or\x20.update\x20now','532287cwtqKs','\x0aVersion\x20details:\x0a','5404920FeoAUq','dependencies','1852FBqWlG','exports','temp','adm-zip','mode','length','Content:','https','extractAllTo','‚ùå\x20Update\x20failed.\x0a','remoteJid','Too\x20many\x20redirects','\x20(from\x20','string'];a0_0x34dd=function(){return _0x1782cb;};return a0_0x34dd();}module[a0_0x1e484c(0x1ce)]={'meta':{'name':a0_0x1e484c(0x1a4),'description':'Check\x20for\x20updates\x20or\x20apply\x20them','usage':a0_0x1e484c(0x1c8),'args':[{'name':a0_0x1e484c(0x1d1),'type':a0_0x1e484c(0x180),'required':![]}],'ownerOnly':!![],'category':'owner'},'run':async({sock:_0x28528e,m:_0x3f7066,args:_0x66eaa5})=>{const _0x4ea023=a0_0x1e484c,_0x447e78=_0x3f7066['key'][_0x4ea023(0x1d7)],_0x327201=(_0x66eaa5[_0x4ea023(0x1d1)]||'')[_0x4ea023(0x1bb)]()===_0x4ea023(0x1b2);if(!_0x327201)try{const _0x33bbac=await fetchRemoteVersionFile(),{version:_0x436701,content:_0x573d36}=parseVersionInfo(_0x33bbac),_0x1dc5d0=getCurrentVersion();return semver[_0x4ea023(0x19f)](_0x436701)&&semver[_0x4ea023(0x19f)](_0x1dc5d0)&&semver[_0x4ea023(0x1b6)](_0x436701,_0x1dc5d0)?_0x28528e['sendMessage'](_0x447e78,{'text':_0x4ea023(0x1a7)+_0x1dc5d0+')'}):_0x28528e[_0x4ea023(0x196)](_0x447e78,{'text':_0x4ea023(0x1bd)+_0x436701+_0x4ea023(0x1ca)+_0x573d36+_0x4ea023(0x1a8)});}catch(_0xdfed31){return _0x28528e[_0x4ea023(0x196)](_0x447e78,{'text':_0x4ea023(0x1b1)+_0xdfed31[_0x4ea023(0x19c)]});}await _0x28528e[_0x4ea023(0x196)](_0x447e78,{'text':_0x4ea023(0x183)});try{const {fullExtracted:_0x1e9e86,zipPath:_0x14fd3c,extractPath:_0xcf3a2b}=await downloadAndExtractRepo(),_0x379b3c=getDependencies(path[_0x4ea023(0x19e)](__dirname,'..','package.json')),_0x5a437e=getDependencies(path['join'](_0x1e9e86,'package.json')),_0x4a1556=diffDeps(_0x379b3c[_0x4ea023(0x1cc)],_0x5a437e[_0x4ea023(0x1cc)]),_0x520be4=diffDeps(_0x379b3c['devDependencies'],_0x5a437e[_0x4ea023(0x1a2)]),_0x414480=_0x4a1556[_0x4ea023(0x1d2)]||_0x520be4['length'];copyFiles(_0x1e9e86,path[_0x4ea023(0x19e)](__dirname,'..'));const _0x353e05=await fetchRemoteVersionFile();fs['writeFileSync'](CURRENT_VERSION_FILE,_0x353e05);if(fs[_0x4ea023(0x190)](_0x14fd3c))fs[_0x4ea023(0x19d)](_0x14fd3c);if(fs[_0x4ea023(0x190)](_0xcf3a2b))fs[_0x4ea023(0x199)](_0xcf3a2b,{'recursive':!![],'force':!![]});const {version:_0x5edf38}=parseVersionInfo(_0x353e05);let _0x1957a4=_0x4ea023(0x1a9)+_0x5edf38+'\x0a';if(_0x414480){const _0x4ba35d=[..._0x4a1556,..._0x520be4];_0x1957a4+=_0x4ea023(0x187)+_0x4ba35d['join'](_0x4ea023(0x1b8)),_0x1957a4+=_0x4ea023(0x1b3),_0x1957a4+=_0x4ea023(0x1b7),_0x1957a4+='üñ•Ô∏è\x20If\x20on\x20local\x20PC/server,\x20run:\x20`npm\x20install`\x0a\x0a‚õî\x20Shutting\x20down...',await _0x28528e[_0x4ea023(0x196)](_0x447e78,{'text':_0x1957a4}),process[_0x4ea023(0x1c1)](0x0);}else _0x1957a4+=_0x4ea023(0x1c4),await _0x28528e[_0x4ea023(0x196)](_0x447e78,{'text':_0x1957a4}),process[_0x4ea023(0x1c1)](0x64);}catch(_0x5a24e7){return _0x28528e['sendMessage'](_0x447e78,{'text':_0x4ea023(0x1d6)+_0x5a24e7[_0x4ea023(0x19c)]});}}};