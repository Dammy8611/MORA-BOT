const a0_0x20e2d4=a0_0x38d4;(function(_0x516e16,_0x39956e){const _0x2001b9=a0_0x38d4,_0x2c21c8=_0x516e16();while(!![]){try{const _0x264d20=-parseInt(_0x2001b9(0x17b))/0x1+-parseInt(_0x2001b9(0x1bb))/0x2+parseInt(_0x2001b9(0x191))/0x3+parseInt(_0x2001b9(0x175))/0x4+-parseInt(_0x2001b9(0x1a6))/0x5*(parseInt(_0x2001b9(0x173))/0x6)+-parseInt(_0x2001b9(0x172))/0x7*(-parseInt(_0x2001b9(0x1b3))/0x8)+parseInt(_0x2001b9(0x1a9))/0x9*(parseInt(_0x2001b9(0x17e))/0xa);if(_0x264d20===_0x39956e)break;else _0x2c21c8['push'](_0x2c21c8['shift']());}catch(_0x300930){_0x2c21c8['push'](_0x2c21c8['shift']());}}}(a0_0x2f00,0x8cc28));const fs=require('fs'),path=require('path'),https=require(a0_0x20e2d4(0x182)),AdmZip=require(a0_0x20e2d4(0x1b6)),semver=require('semver'),CURRENT_VERSION_FILE=path[a0_0x20e2d4(0x188)](__dirname,'..',a0_0x20e2d4(0x19c)),GITHUB_REPO=a0_0x20e2d4(0x19f),GITHUB_BRANCH='main',VERSION_URL='https://raw.githubusercontent.com/'+GITHUB_REPO+'/'+GITHUB_BRANCH+'/version.txt',ZIP_URL=a0_0x20e2d4(0x195)+GITHUB_REPO+a0_0x20e2d4(0x19e)+GITHUB_BRANCH+a0_0x20e2d4(0x199);function getCurrentVersion(){const _0x22e506=a0_0x20e2d4;if(!fs[_0x22e506(0x1aa)](CURRENT_VERSION_FILE))return _0x22e506(0x19d);const _0x298747=fs['readFileSync'](CURRENT_VERSION_FILE,_0x22e506(0x187)),_0x113d54=_0x298747[_0x22e506(0x18d)](/Version:\s*([^\n]+)/);return _0x113d54?.[0x1]?.['trim']()||_0x22e506(0x19d);}function a0_0x2f00(){const _0x265c48=['\x0a\x0aüí°\x20Please\x20install\x20updated\x20dependencies\x20before\x20starting\x20the\x20bot\x20again.\x0a','version.txt','0.0.0','/archive/refs/heads/','Dammy8611/MORA-BOT','mkdirSync','unlinkSync','Too\x20many\x20redirects','get','split','startsWith','3550sdlfYV','key','toLowerCase','30438hNSoHx','existsSync','üîÅ\x20If\x20using\x20a\x20panel\x20(e.g.,\x20Railway,\x20Replit),\x20it\x20may\x20auto-reinstall\x20on\x20restart.\x0a','location','\x20(from\x20','mode','sendMessage','error','dependencies','toString','16sgyseh','extractAllTo','‚úÖ\x20Updated\x20successfully\x20to\x20v','adm-zip','readFileSync','owner','temp','.update\x20or\x20.update\x20now','679982grOcpx','parse','data','Content:','name','createWriteStream','1572501KQvSZm','1086tNpXMD','headers','1129832PfBZGP','now','rmSync','close','message','‚ùå\x20Update\x20failed.\x0a','915929MJalKh','finish','package.json','1570pPOnqr','\x0a\x0a>\x20Use\x20\x27update\x20now\x27\x20to\x20get\x20the\x20latest\x20version.','lte','üì•\x20Downloading\x20latest\x20version...','https','update','üñ•Ô∏è\x20If\x20on\x20local\x20PC/server,\x20run:\x20`npm\x20install`\x0a\x0a‚õî\x20Shutting\x20down...','NodeJS\x20Updater','‚úÖ\x20You\x27re\x20up\x20to\x20date\x20(v','utf8','join','push','devDependencies','pipe','find','match','trim','\x0a-\x20','repo.zip','2094792xwdUMS','exports','statusCode','length','https://github.com/','\x0a‚ôªÔ∏è\x20Restarting\x20bot\x20to\x20apply\x20changes...','exit','valid','.zip','readdirSync'];a0_0x2f00=function(){return _0x265c48;};return a0_0x2f00();}function a0_0x38d4(_0x33c6c5,_0x34adb4){const _0x2f00e5=a0_0x2f00();return a0_0x38d4=function(_0x38d403,_0x8bd88d){_0x38d403=_0x38d403-0x16d;let _0x2220d4=_0x2f00e5[_0x38d403];return _0x2220d4;},a0_0x38d4(_0x33c6c5,_0x34adb4);}async function fetchRemoteVersionFile(){return new Promise((_0xdddf2c,_0x1f9a10)=>{const _0x1b95c2=a0_0x38d4;https[_0x1b95c2(0x1a3)](VERSION_URL,_0x27cec7=>{const _0xbf4500=_0x1b95c2;let _0x55cfdd='';_0x27cec7['on'](_0xbf4500(0x16e),_0x4ca0a2=>_0x55cfdd+=_0x4ca0a2),_0x27cec7['on']('end',()=>_0xdddf2c(_0x55cfdd));})['on'](_0x1b95c2(0x1b0),_0x1f9a10);});}function parseVersionInfo(_0x29a841){const _0x4211aa=a0_0x20e2d4,_0x196def=_0x29a841['match'](/Version:\s*([^\n]+)/)?.[0x1]?.[_0x4211aa(0x18e)](),_0x37e426=_0x29a841[_0x4211aa(0x1a4)](_0x4211aa(0x16f))[0x1]?.[_0x4211aa(0x18e)]();return{'version':_0x196def,'content':_0x37e426};}const followRedirect=(_0x299545,_0x107f06=0x5)=>{return new Promise((_0x5b59b9,_0x288a3a)=>{const _0x30ad26=(_0x59c7b7,_0x12ae6a)=>{const _0x51cbc1=a0_0x38d4;https[_0x51cbc1(0x1a3)](_0x59c7b7,{'headers':{'User-Agent':_0x51cbc1(0x185)}},_0x4923a8=>{const _0x542024=_0x51cbc1;if(_0x4923a8['statusCode']>=0x12c&&_0x4923a8[_0x542024(0x193)]<0x190&&_0x4923a8[_0x542024(0x174)][_0x542024(0x1ac)]){if(_0x12ae6a>=_0x107f06)return _0x288a3a(new Error(_0x542024(0x1a2)));const _0x5b4422=_0x4923a8['headers'][_0x542024(0x1ac)][_0x542024(0x1a5)]('http')?_0x4923a8['headers'][_0x542024(0x1ac)]:new URL(_0x4923a8['headers'][_0x542024(0x1ac)],_0x59c7b7)[_0x542024(0x1b2)]();_0x30ad26(_0x5b4422,_0x12ae6a+0x1);}else _0x5b59b9(_0x4923a8);})['on'](_0x51cbc1(0x1b0),_0x288a3a);};_0x30ad26(_0x299545,0x0);});};async function downloadAndExtractRepo(){const _0x27491b=a0_0x20e2d4,_0x4c5a20=path['join'](_0x27491b(0x1b9),_0x27491b(0x190)),_0x1c44af=path[_0x27491b(0x188)](_0x27491b(0x1b9),'repo-extracted');if(!fs[_0x27491b(0x1aa)](_0x27491b(0x1b9)))fs[_0x27491b(0x1a0)]('temp');if(fs['existsSync'](_0x4c5a20))fs['unlinkSync'](_0x4c5a20);if(fs[_0x27491b(0x1aa)](_0x1c44af))fs[_0x27491b(0x177)](_0x1c44af,{'recursive':!![],'force':!![]});return new Promise(async(_0x136e21,_0x4f901b)=>{const _0x3b0e6d=_0x27491b;try{const _0xdd75c2=await followRedirect(ZIP_URL),_0x3abe55=fs[_0x3b0e6d(0x171)](_0x4c5a20);_0xdd75c2[_0x3b0e6d(0x18b)](_0x3abe55),_0x3abe55['on'](_0x3b0e6d(0x17c),()=>{const _0x366ae6=_0x3b0e6d;_0x3abe55[_0x366ae6(0x178)]();try{const _0x4c67a6=new AdmZip(_0x4c5a20);_0x4c67a6[_0x366ae6(0x1b4)](_0x1c44af,!![]);const _0x51efce=fs['readdirSync'](_0x1c44af)[_0x366ae6(0x18c)](_0x62a068=>fs['lstatSync'](path[_0x366ae6(0x188)](_0x1c44af,_0x62a068))['isDirectory']()),_0x477c11=path[_0x366ae6(0x188)](_0x1c44af,_0x51efce);_0x136e21({'fullExtracted':_0x477c11,'zipPath':_0x4c5a20,'extractPath':_0x1c44af});}catch(_0x44dd99){_0x4f901b(_0x44dd99);}});}catch(_0x41142d){_0x4f901b(new Error('Failed\x20to\x20download\x20zip:\x20'+_0x41142d[_0x3b0e6d(0x179)]));}});}function copyFiles(_0x56bac1,_0x3fef0d){const _0x675c7b=a0_0x20e2d4,_0x4c2e41=fs[_0x675c7b(0x19a)](_0x56bac1,{'withFileTypes':!![]});for(const _0xf4faa7 of _0x4c2e41){const _0x57ac02=path[_0x675c7b(0x188)](_0x56bac1,_0xf4faa7[_0x675c7b(0x170)]),_0x1670ae=path[_0x675c7b(0x188)](_0x3fef0d,_0xf4faa7[_0x675c7b(0x170)]);if(_0xf4faa7['isDirectory']()){if(!fs[_0x675c7b(0x1aa)](_0x1670ae))fs[_0x675c7b(0x1a0)](_0x1670ae);copyFiles(_0x57ac02,_0x1670ae);}else fs['copyFileSync'](_0x57ac02,_0x1670ae);}}function getDependencies(_0x3cc057){const _0x5a49a6=a0_0x20e2d4;if(!fs[_0x5a49a6(0x1aa)](_0x3cc057))return{};const _0x360ef1=JSON[_0x5a49a6(0x16d)](fs[_0x5a49a6(0x1b7)](_0x3cc057,_0x5a49a6(0x187)));return{'dependencies':_0x360ef1[_0x5a49a6(0x1b1)]||{},'devDependencies':_0x360ef1['devDependencies']||{}};}function diffDeps(_0x300b8a,_0x5908f7){const _0x2c2a96=a0_0x20e2d4,_0x1d05f8=[];for(const [_0x3f5ef4,_0xf6de97]of Object['entries'](_0x5908f7)){if(!_0x300b8a[_0x3f5ef4])_0x1d05f8[_0x2c2a96(0x189)]('üÜï\x20'+_0x3f5ef4+'@'+_0xf6de97);else{if(_0x300b8a[_0x3f5ef4]!==_0xf6de97)_0x1d05f8[_0x2c2a96(0x189)]('üîÅ\x20'+_0x3f5ef4+_0x2c2a96(0x1ad)+_0x300b8a[_0x3f5ef4]+'\x20‚Üí\x20'+_0xf6de97+')');}}return _0x1d05f8;}module[a0_0x20e2d4(0x192)]={'meta':{'name':a0_0x20e2d4(0x183),'description':'Check\x20for\x20updates\x20or\x20apply\x20them','usage':a0_0x20e2d4(0x1ba),'args':[{'name':a0_0x20e2d4(0x1ae),'type':'string','required':![]}],'ownerOnly':!![],'category':a0_0x20e2d4(0x1b8)},'run':async({sock:_0x39f060,m:_0x526aec,args:_0x458b0f})=>{const _0x43fe15=a0_0x20e2d4,_0x3ca8f1=_0x526aec[_0x43fe15(0x1a7)]['remoteJid'],_0x4878db=(_0x458b0f[_0x43fe15(0x1ae)]||'')[_0x43fe15(0x1a8)]()===_0x43fe15(0x176);if(!_0x4878db)try{const _0x583314=await fetchRemoteVersionFile(),{version:_0x28fa81,content:_0x5906d0}=parseVersionInfo(_0x583314),_0x42733a=getCurrentVersion();return semver[_0x43fe15(0x198)](_0x28fa81)&&semver[_0x43fe15(0x198)](_0x42733a)&&semver[_0x43fe15(0x180)](_0x28fa81,_0x42733a)?_0x39f060[_0x43fe15(0x1af)](_0x3ca8f1,{'text':_0x43fe15(0x186)+_0x42733a+')'}):_0x39f060[_0x43fe15(0x1af)](_0x3ca8f1,{'text':'üîÑ\x20New\x20version\x20available:\x20v'+_0x28fa81+'\x0aVersion\x20details:\x0a'+_0x5906d0+_0x43fe15(0x17f)});}catch(_0x5aa29d){return _0x39f060['sendMessage'](_0x3ca8f1,{'text':'‚ùå\x20Failed\x20to\x20check\x20version.\x0a'+_0x5aa29d[_0x43fe15(0x179)]});}await _0x39f060[_0x43fe15(0x1af)](_0x3ca8f1,{'text':_0x43fe15(0x181)});try{const {fullExtracted:_0x4fc36c,zipPath:_0x19f58b,extractPath:_0x473304}=await downloadAndExtractRepo(),_0x4a66e8=getDependencies(path[_0x43fe15(0x188)](__dirname,'..',_0x43fe15(0x17d))),_0x5497be=getDependencies(path[_0x43fe15(0x188)](_0x4fc36c,_0x43fe15(0x17d))),_0x244af0=diffDeps(_0x4a66e8[_0x43fe15(0x1b1)],_0x5497be[_0x43fe15(0x1b1)]),_0x5e825c=diffDeps(_0x4a66e8['devDependencies'],_0x5497be[_0x43fe15(0x18a)]),_0x2dacb2=_0x244af0[_0x43fe15(0x194)]||_0x5e825c[_0x43fe15(0x194)];copyFiles(_0x4fc36c,path[_0x43fe15(0x188)](__dirname,'..'));const _0x40e5d6=await fetchRemoteVersionFile();fs['writeFileSync'](CURRENT_VERSION_FILE,_0x40e5d6);if(fs['existsSync'](_0x19f58b))fs[_0x43fe15(0x1a1)](_0x19f58b);if(fs[_0x43fe15(0x1aa)](_0x473304))fs['rmSync'](_0x473304,{'recursive':!![],'force':!![]});const {version:_0x56f745}=parseVersionInfo(_0x40e5d6);let _0x5a5f9c=_0x43fe15(0x1b5)+_0x56f745+'\x0a';if(_0x2dacb2){const _0x32b408=[..._0x244af0,..._0x5e825c];_0x5a5f9c+='\x0aüì¶\x20The\x20following\x20packages\x20were\x20added\x20or\x20changed:\x0a-\x20'+_0x32b408[_0x43fe15(0x188)](_0x43fe15(0x18f)),_0x5a5f9c+=_0x43fe15(0x19b),_0x5a5f9c+=_0x43fe15(0x1ab),_0x5a5f9c+=_0x43fe15(0x184),await _0x39f060[_0x43fe15(0x1af)](_0x3ca8f1,{'text':_0x5a5f9c}),process[_0x43fe15(0x197)](0x0);}else _0x5a5f9c+=_0x43fe15(0x196),await _0x39f060[_0x43fe15(0x1af)](_0x3ca8f1,{'text':_0x5a5f9c}),process['exit'](0x64);}catch(_0x1e59fd){return _0x39f060[_0x43fe15(0x1af)](_0x3ca8f1,{'text':_0x43fe15(0x17a)+_0x1e59fd['message']});}}};