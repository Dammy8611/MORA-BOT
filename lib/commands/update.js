const a0_0x5c382c=a0_0x21af;(function(_0x57efd8,_0x1a5a65){const _0x26f62e=a0_0x21af,_0x148d70=_0x57efd8();while(!![]){try{const _0x557277=-parseInt(_0x26f62e(0x1e5))/0x1+parseInt(_0x26f62e(0x1e3))/0x2+parseInt(_0x26f62e(0x219))/0x3*(-parseInt(_0x26f62e(0x1e0))/0x4)+parseInt(_0x26f62e(0x1db))/0x5*(-parseInt(_0x26f62e(0x1cb))/0x6)+parseInt(_0x26f62e(0x1ee))/0x7*(-parseInt(_0x26f62e(0x1f4))/0x8)+parseInt(_0x26f62e(0x216))/0x9*(parseInt(_0x26f62e(0x1f8))/0xa)+parseInt(_0x26f62e(0x210))/0xb;if(_0x557277===_0x1a5a65)break;else _0x148d70['push'](_0x148d70['shift']());}catch(_0x59829a){_0x148d70['push'](_0x148d70['shift']());}}}(a0_0x3392,0xc06b2));const fs=require('fs'),path=require(a0_0x5c382c(0x20d)),https=require(a0_0x5c382c(0x21b)),AdmZip=require(a0_0x5c382c(0x1c4)),semver=require('semver'),CURRENT_VERSION_FILE=path['join'](__dirname,'..',a0_0x5c382c(0x204)),GITHUB_REPO=a0_0x5c382c(0x205),GITHUB_BRANCH=a0_0x5c382c(0x20c),VERSION_URL=a0_0x5c382c(0x202)+GITHUB_REPO+'/'+GITHUB_BRANCH+a0_0x5c382c(0x1d4),ZIP_URL=a0_0x5c382c(0x1e7)+GITHUB_REPO+a0_0x5c382c(0x213)+GITHUB_BRANCH+a0_0x5c382c(0x206);function getCurrentVersion(){const _0x6ae004=a0_0x5c382c;if(!fs[_0x6ae004(0x211)](CURRENT_VERSION_FILE))return _0x6ae004(0x214);const _0x301434=fs[_0x6ae004(0x1c7)](CURRENT_VERSION_FILE,_0x6ae004(0x1d8)),_0x421542=_0x301434[_0x6ae004(0x1ef)](/Version:\s*([^\n]+)/);return _0x421542?.[0x1]?.[_0x6ae004(0x218)]()||'0.0.0';}async function fetchRemoteVersionFile(){return new Promise((_0x2d7375,_0x75158d)=>{const _0x2f77c7=a0_0x21af;https[_0x2f77c7(0x200)](VERSION_URL,_0x1a7c95=>{const _0x52ff8b=_0x2f77c7;let _0x9f586a='';_0x1a7c95['on']('data',_0x5e80d9=>_0x9f586a+=_0x5e80d9),_0x1a7c95['on'](_0x52ff8b(0x1f1),()=>_0x2d7375(_0x9f586a));})['on']('error',_0x75158d);});}function parseVersionInfo(_0x484df4){const _0x4bf9c9=a0_0x5c382c,_0x1d3371=_0x484df4['match'](/Version:\s*([^\n]+)/)?.[0x1]?.['trim'](),_0x444633=_0x484df4[_0x4bf9c9(0x1ca)](_0x4bf9c9(0x217))[0x1]?.[_0x4bf9c9(0x218)]();return{'version':_0x1d3371,'content':_0x444633};}const followRedirect=(_0x237aa9,_0x26c3ea=0x5)=>{return new Promise((_0x1fb743,_0x170640)=>{const _0x34303e=(_0x36e801,_0x317709)=>{const _0x40078b=a0_0x21af;https[_0x40078b(0x200)](_0x36e801,{'headers':{'User-Agent':_0x40078b(0x1c8)}},_0x29923d=>{const _0x10bee2=_0x40078b;if(_0x29923d[_0x10bee2(0x1fd)]>=0x12c&&_0x29923d[_0x10bee2(0x1fd)]<0x190&&_0x29923d['headers'][_0x10bee2(0x1f7)]){if(_0x317709>=_0x26c3ea)return _0x170640(new Error(_0x10bee2(0x209)));const _0x15a21f=_0x29923d[_0x10bee2(0x1f2)][_0x10bee2(0x1f7)][_0x10bee2(0x1de)](_0x10bee2(0x1df))?_0x29923d[_0x10bee2(0x1f2)][_0x10bee2(0x1f7)]:new URL(_0x29923d[_0x10bee2(0x1f2)][_0x10bee2(0x1f7)],_0x36e801)['toString']();_0x34303e(_0x15a21f,_0x317709+0x1);}else _0x1fb743(_0x29923d);})['on'](_0x40078b(0x1fc),_0x170640);};_0x34303e(_0x237aa9,0x0);});};async function downloadAndExtractRepo(){const _0x262fd8=a0_0x5c382c,_0x5eea0f=path[_0x262fd8(0x1cf)](_0x262fd8(0x1c5),_0x262fd8(0x1c9)),_0x2c5424=path['join'](_0x262fd8(0x1c5),'repo-extracted');if(!fs[_0x262fd8(0x211)](_0x262fd8(0x1c5)))fs[_0x262fd8(0x20b)](_0x262fd8(0x1c5));if(fs[_0x262fd8(0x211)](_0x5eea0f))fs[_0x262fd8(0x1e8)](_0x5eea0f);if(fs[_0x262fd8(0x211)](_0x2c5424))fs[_0x262fd8(0x20a)](_0x2c5424,{'recursive':!![],'force':!![]});return new Promise(async(_0x49f768,_0x524d43)=>{const _0x1cc7b2=_0x262fd8;try{const _0x366492=await followRedirect(ZIP_URL),_0x1e80ad=fs['createWriteStream'](_0x5eea0f);_0x366492[_0x1cc7b2(0x1e2)](_0x1e80ad),_0x1e80ad['on'](_0x1cc7b2(0x1ed),()=>{const _0x1100ec=_0x1cc7b2;_0x1e80ad[_0x1100ec(0x203)]();try{const _0x393e58=new AdmZip(_0x5eea0f);_0x393e58[_0x1100ec(0x1ce)](_0x2c5424,!![]);const _0x39110c=fs['readdirSync'](_0x2c5424)['find'](_0x593d7a=>fs['lstatSync'](path[_0x1100ec(0x1cf)](_0x2c5424,_0x593d7a))[_0x1100ec(0x1d6)]()),_0x1ef890=path[_0x1100ec(0x1cf)](_0x2c5424,_0x39110c);_0x49f768({'fullExtracted':_0x1ef890,'zipPath':_0x5eea0f,'extractPath':_0x2c5424});}catch(_0x2471a9){_0x524d43(_0x2471a9);}});}catch(_0x241e62){_0x524d43(new Error(_0x1cc7b2(0x21d)+_0x241e62[_0x1cc7b2(0x1ec)]));}});}function copyFiles(_0x4e046c,_0x5f35b5){const _0x3df1bd=a0_0x5c382c,_0x163727=fs['readdirSync'](_0x4e046c,{'withFileTypes':!![]});for(const _0x2b8b05 of _0x163727){const _0xbaa856=path[_0x3df1bd(0x1cf)](_0x4e046c,_0x2b8b05[_0x3df1bd(0x1e6)]),_0x259660=path[_0x3df1bd(0x1cf)](_0x5f35b5,_0x2b8b05['name']);if(_0x2b8b05[_0x3df1bd(0x1d6)]()){if(!fs['existsSync'](_0x259660))fs[_0x3df1bd(0x20b)](_0x259660);copyFiles(_0xbaa856,_0x259660);}else fs[_0x3df1bd(0x1cd)](_0xbaa856,_0x259660);}}function getDependencies(_0x4afbae){const _0x271274=a0_0x5c382c;if(!fs[_0x271274(0x211)](_0x4afbae))return{'dependencies':{},'devDependencies':{}};try{const _0x101859=JSON[_0x271274(0x21c)](fs[_0x271274(0x1c7)](_0x4afbae,_0x271274(0x1d8)));return{'dependencies':_0x101859[_0x271274(0x1f6)]||{},'devDependencies':_0x101859[_0x271274(0x1f3)]||{}};}catch(_0x498ef4){return console[_0x271274(0x1f9)](_0x271274(0x1c6)+_0x4afbae+':',_0x498ef4[_0x271274(0x1ec)]),{'dependencies':{},'devDependencies':{}};}}function diffDeps(_0x15a206,_0x139b71){const _0x1be6a5=a0_0x5c382c,_0x5a126e=[];for(const [_0xfc4a16,_0x314f2e]of Object['entries'](_0x139b71)){if(!_0x15a206[_0xfc4a16])_0x5a126e[_0x1be6a5(0x208)](_0x1be6a5(0x1fb)+_0xfc4a16+'@'+_0x314f2e);else{if(_0x15a206[_0xfc4a16]!==_0x314f2e)_0x5a126e[_0x1be6a5(0x208)](_0x1be6a5(0x1d3)+_0xfc4a16+'\x20(from\x20'+_0x15a206[_0xfc4a16]+_0x1be6a5(0x201)+_0x314f2e+')');}}return _0x5a126e;}function a0_0x21af(_0x185b51,_0x251cf1){const _0x339262=a0_0x3392();return a0_0x21af=function(_0x21af05,_0x2f23bf){_0x21af05=_0x21af05-0x1c4;let _0x26c5ad=_0x339262[_0x21af05];return _0x26c5ad;},a0_0x21af(_0x185b51,_0x251cf1);}function a0_0x3392(){const _0x287031=['parse','Failed\x20to\x20download\x20zip:\x20','adm-zip','temp','‚ö†Ô∏è\x20Could\x20not\x20parse\x20','readFileSync','NodeJS\x20Updater','repo.zip','split','6TkyFos','\x0aüì¶\x20The\x20following\x20packages\x20were\x20added\x20or\x20changed:\x0a-\x20','copyFileSync','extractAllTo','join','package.json','\x0a\x0a>\x20Use\x20\x27update\x20now\x27\x20to\x20get\x20the\x20latest\x20version.','.update\x20or\x20.update\x20now','üîÅ\x20','/version.txt','mode','isDirectory','\x0aVersion\x20details:\x0a','utf8','sendMessage','owner','7698815qAhLgN','update','remoteJid','startsWith','http','252ydcXwz','\x0a‚ôªÔ∏è\x20Restarting\x20bot\x20to\x20apply\x20changes...','pipe','2922174DWFtUb','now','571909aapKoB','name','https://github.com/','unlinkSync','string','üì•\x20Downloading\x20latest\x20version...','toLowerCase','message','finish','251881CzvwdX','match','exit','end','headers','devDependencies','216JcRAHq','‚ùå\x20Update\x20failed.\x0a','dependencies','location','10zcvepr','warn','‚úÖ\x20You\x27re\x20up\x20to\x20date\x20(v','üÜï\x20','error','statusCode','exports','Check\x20for\x20updates\x20or\x20apply\x20them','get','\x20‚Üí\x20','https://raw.githubusercontent.com/','close','version.txt','Dammy8611/MORA-BOT','.zip','\x0a\x0aüí°\x20Please\x20install\x20updated\x20dependencies\x20before\x20starting\x20the\x20bot\x20again.\x0a','push','Too\x20many\x20redirects','rmSync','mkdirSync','main','path','length','‚úÖ\x20Updated\x20successfully\x20to\x20v','35332385RnUgAu','existsSync','‚ùå\x20Failed\x20to\x20check\x20version.\x0a','/archive/refs/heads/','0.0.0','lte','5599467OTDtlD','Content:','trim','67806AsumPe','üñ•Ô∏è\x20If\x20on\x20local\x20PC/server,\x20run:\x20`npm\x20install`\x0a\x0a‚õî\x20Shutting\x20down...','https'];a0_0x3392=function(){return _0x287031;};return a0_0x3392();}module[a0_0x5c382c(0x1fe)]={'meta':{'name':a0_0x5c382c(0x1dc),'description':a0_0x5c382c(0x1ff),'usage':a0_0x5c382c(0x1d2),'args':[{'name':'mode','type':a0_0x5c382c(0x1e9),'required':![]}],'ownerOnly':!![],'category':a0_0x5c382c(0x1da)},'run':async({sock:_0x169546,m:_0x1bb866,args:_0x3d1dcb})=>{const _0x9c8171=a0_0x5c382c,_0x3f6e49=_0x1bb866['key'][_0x9c8171(0x1dd)],_0x509808=(_0x3d1dcb[_0x9c8171(0x1d5)]||'')[_0x9c8171(0x1eb)]()===_0x9c8171(0x1e4);if(!_0x509808)try{const _0x5ea823=await fetchRemoteVersionFile(),{version:_0x2aa087,content:_0x173202}=parseVersionInfo(_0x5ea823),_0x279997=getCurrentVersion();return semver['valid'](_0x2aa087)&&semver['valid'](_0x279997)&&semver[_0x9c8171(0x215)](_0x2aa087,_0x279997)?_0x169546['sendMessage'](_0x3f6e49,{'text':_0x9c8171(0x1fa)+_0x279997+')'}):_0x169546[_0x9c8171(0x1d9)](_0x3f6e49,{'text':'üîÑ\x20New\x20version\x20available:\x20v'+_0x2aa087+_0x9c8171(0x1d7)+_0x173202+_0x9c8171(0x1d1)});}catch(_0x5bfd86){return _0x169546['sendMessage'](_0x3f6e49,{'text':_0x9c8171(0x212)+_0x5bfd86['message']});}await _0x169546['sendMessage'](_0x3f6e49,{'text':_0x9c8171(0x1ea)});try{const {fullExtracted:_0x26261c,zipPath:_0x582de9,extractPath:_0x35d067}=await downloadAndExtractRepo(),_0x208624=getDependencies(path['join'](__dirname,'..',_0x9c8171(0x1d0))),_0x3c6047=getDependencies(path[_0x9c8171(0x1cf)](_0x26261c,'package.json')),_0xd0c229=diffDeps(_0x208624[_0x9c8171(0x1f6)],_0x3c6047[_0x9c8171(0x1f6)]),_0x3c3cd3=diffDeps(_0x208624[_0x9c8171(0x1f3)],_0x3c6047['devDependencies']),_0x515a8d=_0xd0c229[_0x9c8171(0x20e)]||_0x3c3cd3[_0x9c8171(0x20e)];copyFiles(_0x26261c,path[_0x9c8171(0x1cf)](__dirname,'..'));const _0x43f74a=await fetchRemoteVersionFile();fs['writeFileSync'](CURRENT_VERSION_FILE,_0x43f74a);if(fs['existsSync'](_0x582de9))fs[_0x9c8171(0x1e8)](_0x582de9);if(fs['existsSync'](_0x35d067))fs[_0x9c8171(0x20a)](_0x35d067,{'recursive':!![],'force':!![]});const {version:_0x3f57ee}=parseVersionInfo(_0x43f74a);let _0x836dec=_0x9c8171(0x20f)+_0x3f57ee+'\x0a';if(_0x515a8d){const _0x3fe7de=[..._0xd0c229,..._0x3c3cd3];_0x836dec+=_0x9c8171(0x1cc)+_0x3fe7de['join']('\x0a-\x20'),_0x836dec+=_0x9c8171(0x207),_0x836dec+='üîÅ\x20If\x20using\x20a\x20panel\x20(e.g.,\x20Railway,\x20Replit),\x20it\x20may\x20auto-reinstall\x20on\x20restart.\x0a',_0x836dec+=_0x9c8171(0x21a),await _0x169546['sendMessage'](_0x3f6e49,{'text':_0x836dec}),process['exit'](0x0);}else _0x836dec+=_0x9c8171(0x1e1),await _0x169546['sendMessage'](_0x3f6e49,{'text':_0x836dec}),process[_0x9c8171(0x1f0)](0x64);}catch(_0x5ae000){return _0x169546[_0x9c8171(0x1d9)](_0x3f6e49,{'text':_0x9c8171(0x1f5)+_0x5ae000['message']});}}};