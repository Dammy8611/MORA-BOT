const a0_0x43edeb=a0_0x26b4;(function(_0x4168f0,_0x33c704){const _0x2e24ef=a0_0x26b4,_0x2f6984=_0x4168f0();while(!![]){try{const _0x1da03f=-parseInt(_0x2e24ef(0xfb))/0x1*(parseInt(_0x2e24ef(0x112))/0x2)+parseInt(_0x2e24ef(0xef))/0x3*(parseInt(_0x2e24ef(0xed))/0x4)+-parseInt(_0x2e24ef(0x11c))/0x5+parseInt(_0x2e24ef(0x114))/0x6+parseInt(_0x2e24ef(0xfe))/0x7*(-parseInt(_0x2e24ef(0x12c))/0x8)+parseInt(_0x2e24ef(0x12f))/0x9*(-parseInt(_0x2e24ef(0xf6))/0xa)+parseInt(_0x2e24ef(0x12b))/0xb*(parseInt(_0x2e24ef(0xe5))/0xc);if(_0x1da03f===_0x33c704)break;else _0x2f6984['push'](_0x2f6984['shift']());}catch(_0x1f628b){_0x2f6984['push'](_0x2f6984['shift']());}}}(a0_0x448b,0x8a425));const fs=require('fs'),path=require('path'),https=require(a0_0x43edeb(0xea)),AdmZip=require('adm-zip'),CURRENT_VERSION_FILE=path[a0_0x43edeb(0xf7)](__dirname,'..',a0_0x43edeb(0x11d)),GITHUB_REPO=a0_0x43edeb(0xe0),GITHUB_BRANCH=a0_0x43edeb(0x109),VERSION_URL=a0_0x43edeb(0x11a)+GITHUB_REPO+'/'+GITHUB_BRANCH+a0_0x43edeb(0x119),ZIP_URL='https://github.com/'+GITHUB_REPO+a0_0x43edeb(0x130)+GITHUB_BRANCH+a0_0x43edeb(0x125);function a0_0x448b(){const _0x5847ee=['toLowerCase','split','remoteJid','0.0.0','exports','unlinkSync','writeFileSync','ðŸ”\x20','copyFileSync','main','utf8','name','exit','\x0a\x0aðŸ’¡\x20Please\x20install\x20updated\x20dependencies\x20before\x20starting\x20the\x20bot\x20again.\x0a','statusCode','ðŸ”„\x20New\x20version\x20available:\x20v','\x0a-\x20','dependencies','28ISXjgr','length','4427862ZaljvD','\x20(from\x20','package.json','startsWith','NodeJS\x20Updater','/version.txt','https://raw.githubusercontent.com/','ðŸ“¥\x20Downloading\x20latest\x20version...','343195UrQCCF','version.txt','\x0a\x0a>\x20Use\x20\x27update\x20now\x27\x20to\x20get\x20the\x20latest\x20version.','âŒ\x20Update\x20failed.\x0a','end','readFileSync','now','update','location','.zip','ðŸ”\x20If\x20using\x20a\x20panel\x20(e.g.,\x20Railway,\x20Replit),\x20it\x20may\x20auto-reinstall\x20on\x20restart.\x0a','error','mode','owner','message','139106djdAzj','16KIHuwD','temp','readdirSync','1487655QvNKCj','/archive/refs/heads/','Content:','finish','http','push','close','lstatSync','Dammy8611/MORA-BOT','find','\x0aâ™»ï¸\x20Restarting\x20bot\x20to\x20apply\x20changes...','âŒ\x20Failed\x20to\x20check\x20version.\x0a','parse','1800oDYiDq','get','Check\x20for\x20updates\x20or\x20apply\x20them','âœ…\x20You\x27re\x20up\x20to\x20date\x20(v','sendMessage','https','mkdirSync','existsSync','2879620YXgrpp','.update\x20or\x20.update\x20now','3BEghuf','âœ…\x20Updated\x20successfully\x20to\x20v','ðŸ–¥ï¸\x20If\x20on\x20local\x20PC/server,\x20run:\x20`npm\x20install`\x0a\x0aâ›”\x20Shutting\x20down...','isDirectory','Too\x20many\x20redirects','key','\x0aVersion\x20details:\x0a','60yniirM','join','trim','data','toString','75437BaTRjI','headers','devDependencies','2351811msVWws','repo-extracted'];a0_0x448b=function(){return _0x5847ee;};return a0_0x448b();}function getCurrentVersion(){const _0x579ffa=a0_0x43edeb;if(!fs[_0x579ffa(0xec)](CURRENT_VERSION_FILE))return _0x579ffa(0x103);const _0x4116e7=fs[_0x579ffa(0x121)](CURRENT_VERSION_FILE,_0x579ffa(0x10a)),_0x38003d=_0x4116e7['match'](/Version:\s*([^\n]+)/);return _0x38003d?.[0x1]?.[_0x579ffa(0xf8)]()||_0x579ffa(0x103);}async function fetchRemoteVersionFile(){return new Promise((_0x27f459,_0x9ea008)=>{const _0x4b325b=a0_0x26b4;https[_0x4b325b(0xe6)](VERSION_URL,_0x21de80=>{const _0x2751d1=_0x4b325b;let _0x4574b1='';_0x21de80['on'](_0x2751d1(0xf9),_0x4bfb15=>_0x4574b1+=_0x4bfb15),_0x21de80['on'](_0x2751d1(0x120),()=>_0x27f459(_0x4574b1));})['on'](_0x4b325b(0x127),_0x9ea008);});}function parseVersionInfo(_0x27e96c){const _0x2e7198=a0_0x43edeb,_0x2c2a84=_0x27e96c['match'](/Version:\s*([^\n]+)/)?.[0x1]?.[_0x2e7198(0xf8)](),_0x300a24=_0x27e96c[_0x2e7198(0x101)](_0x2e7198(0x131))[0x1]?.[_0x2e7198(0xf8)]();return{'version':_0x2c2a84,'content':_0x300a24};}const followRedirect=(_0x542016,_0x7b1d0a=0x5)=>{return new Promise((_0x2534ec,_0x659bd0)=>{const _0x1096d1=(_0x3470da,_0x59b5a0)=>{const _0x344cc4=a0_0x26b4,_0x4a28ea={'headers':{'User-Agent':_0x344cc4(0x118)}};https[_0x344cc4(0xe6)](_0x3470da,_0x4a28ea,_0x4c0649=>{const _0x1e5d48=_0x344cc4;if(_0x4c0649[_0x1e5d48(0x10e)]>=0x12c&&_0x4c0649[_0x1e5d48(0x10e)]<0x190&&_0x4c0649[_0x1e5d48(0xfc)][_0x1e5d48(0x124)]){if(_0x59b5a0>=_0x7b1d0a)return _0x659bd0(new Error(_0x1e5d48(0xf3)));const _0x5b197f=_0x4c0649[_0x1e5d48(0xfc)][_0x1e5d48(0x124)][_0x1e5d48(0x117)](_0x1e5d48(0x133))?_0x4c0649[_0x1e5d48(0xfc)][_0x1e5d48(0x124)]:new URL(_0x4c0649['headers']['location'],_0x3470da)[_0x1e5d48(0xfa)]();_0x1096d1(_0x5b197f,_0x59b5a0+0x1);}else _0x2534ec(_0x4c0649);})['on'](_0x344cc4(0x127),_0x659bd0);};_0x1096d1(_0x542016,0x0);});};async function downloadAndExtractRepo(){const _0x5dafd6=a0_0x43edeb,_0x50a981=path[_0x5dafd6(0xf7)](_0x5dafd6(0x12d),'repo.zip'),_0x53d316=path[_0x5dafd6(0xf7)](_0x5dafd6(0x12d),_0x5dafd6(0xff));if(!fs[_0x5dafd6(0xec)]('temp'))fs[_0x5dafd6(0xeb)](_0x5dafd6(0x12d));if(fs[_0x5dafd6(0xec)](_0x50a981))fs[_0x5dafd6(0x105)](_0x50a981);if(fs[_0x5dafd6(0xec)](_0x53d316))fs['rmSync'](_0x53d316,{'recursive':!![],'force':!![]});return new Promise(async(_0x34cd92,_0x2d9fd8)=>{const _0x51789b=_0x5dafd6;try{const _0x3fd2a0=await followRedirect(ZIP_URL),_0x65a089=fs['createWriteStream'](_0x50a981);_0x3fd2a0['pipe'](_0x65a089),_0x65a089['on'](_0x51789b(0x132),()=>{const _0x3b9383=_0x51789b;_0x65a089[_0x3b9383(0xde)]();try{const _0x41e236=new AdmZip(_0x50a981);_0x41e236['extractAllTo'](_0x53d316,!![]);const _0x5973d8=fs[_0x3b9383(0x12e)](_0x53d316)[_0x3b9383(0xe1)](_0x1e11f9=>fs[_0x3b9383(0xdf)](path['join'](_0x53d316,_0x1e11f9))['isDirectory']()),_0x3e8226=path['join'](_0x53d316,_0x5973d8);_0x34cd92({'fullExtracted':_0x3e8226,'zipPath':_0x50a981,'extractPath':_0x53d316});}catch(_0x504e0c){_0x2d9fd8(_0x504e0c);}});}catch(_0x597e79){_0x2d9fd8(new Error('Failed\x20to\x20download\x20zip:\x20'+_0x597e79['message']));}});}function copyFiles(_0x4f01bd,_0xa1db46){const _0x5ccc81=a0_0x43edeb,_0x2c55a1=fs[_0x5ccc81(0x12e)](_0x4f01bd,{'withFileTypes':!![]});for(const _0x46f886 of _0x2c55a1){const _0x5898cc=path['join'](_0x4f01bd,_0x46f886['name']),_0x416e27=path[_0x5ccc81(0xf7)](_0xa1db46,_0x46f886[_0x5ccc81(0x10b)]);if(_0x46f886[_0x5ccc81(0xf2)]()){if(!fs[_0x5ccc81(0xec)](_0x416e27))fs[_0x5ccc81(0xeb)](_0x416e27);copyFiles(_0x5898cc,_0x416e27);}else fs[_0x5ccc81(0x108)](_0x5898cc,_0x416e27);}}function a0_0x26b4(_0x274f56,_0x2828ce){const _0x448b74=a0_0x448b();return a0_0x26b4=function(_0x26b48f,_0x3c7041){_0x26b48f=_0x26b48f-0xdd;let _0x4bb15d=_0x448b74[_0x26b48f];return _0x4bb15d;},a0_0x26b4(_0x274f56,_0x2828ce);}function getDependencies(_0x4c45e4){const _0x517579=a0_0x43edeb;if(!fs[_0x517579(0xec)](_0x4c45e4))return{};const _0x44ccb6=JSON[_0x517579(0xe4)](fs[_0x517579(0x121)](_0x4c45e4,'utf8'));return{'dependencies':_0x44ccb6[_0x517579(0x111)]||{},'devDependencies':_0x44ccb6[_0x517579(0xfd)]||{}};}function diffDeps(_0x13ca55,_0x252939){const _0x2d09ce=a0_0x43edeb,_0x59ffb9=[];for(const [_0x83c243,_0x19add4]of Object['entries'](_0x252939)){if(!_0x13ca55[_0x83c243])_0x59ffb9['push']('ðŸ†•\x20'+_0x83c243+'@'+_0x19add4);else{if(_0x13ca55[_0x83c243]!==_0x19add4)_0x59ffb9[_0x2d09ce(0xdd)](_0x2d09ce(0x107)+_0x83c243+_0x2d09ce(0x115)+_0x13ca55[_0x83c243]+'\x20â†’\x20'+_0x19add4+')');}}return _0x59ffb9;}module[a0_0x43edeb(0x104)]={'meta':{'name':a0_0x43edeb(0x123),'description':a0_0x43edeb(0xe7),'usage':a0_0x43edeb(0xee),'args':[{'name':a0_0x43edeb(0x128),'type':'string','required':![]}],'ownerOnly':!![],'category':a0_0x43edeb(0x129)},'run':async({sock:_0x29f84a,m:_0x12a018,args:_0x15b442})=>{const _0x4c4ffe=a0_0x43edeb,_0x443323=_0x12a018[_0x4c4ffe(0xf4)][_0x4c4ffe(0x102)],_0x55f939=(_0x15b442[_0x4c4ffe(0x128)]||'')[_0x4c4ffe(0x100)]()===_0x4c4ffe(0x122);if(!_0x55f939)try{const _0x2702a3=await fetchRemoteVersionFile(),{version:_0x33e3be,content:_0xb8124a}=parseVersionInfo(_0x2702a3),_0x5ebb94=getCurrentVersion();return _0x33e3be===_0x5ebb94?_0x29f84a[_0x4c4ffe(0xe9)](_0x443323,{'text':_0x4c4ffe(0xe8)+_0x5ebb94+')'}):_0x29f84a[_0x4c4ffe(0xe9)](_0x443323,{'text':_0x4c4ffe(0x10f)+_0x33e3be+_0x4c4ffe(0xf5)+_0xb8124a+_0x4c4ffe(0x11e)});}catch(_0x487924){return _0x29f84a['sendMessage'](_0x443323,{'text':_0x4c4ffe(0xe3)+_0x487924[_0x4c4ffe(0x12a)]});}await _0x29f84a[_0x4c4ffe(0xe9)](_0x443323,{'text':_0x4c4ffe(0x11b)});try{const {fullExtracted:_0x2f0158,zipPath:_0x2b86c9,extractPath:_0x472d4e}=await downloadAndExtractRepo(),_0x18c933=getDependencies(path[_0x4c4ffe(0xf7)](__dirname,'..',_0x4c4ffe(0x116))),_0x1c7b41=getDependencies(path[_0x4c4ffe(0xf7)](_0x2f0158,'package.json')),_0x55c85e=diffDeps(_0x18c933[_0x4c4ffe(0x111)],_0x1c7b41['dependencies']),_0x581473=diffDeps(_0x18c933[_0x4c4ffe(0xfd)],_0x1c7b41[_0x4c4ffe(0xfd)]),_0x394fa0=_0x55c85e[_0x4c4ffe(0x113)]||_0x581473[_0x4c4ffe(0x113)];copyFiles(_0x2f0158,path[_0x4c4ffe(0xf7)](__dirname,'..'));const _0x1ed134=await fetchRemoteVersionFile();fs[_0x4c4ffe(0x106)](CURRENT_VERSION_FILE,_0x1ed134);if(fs[_0x4c4ffe(0xec)](_0x2b86c9))fs[_0x4c4ffe(0x105)](_0x2b86c9);if(fs['existsSync'](_0x472d4e))fs['rmSync'](_0x472d4e,{'recursive':!![],'force':!![]});const {version:_0x417901}=parseVersionInfo(_0x1ed134);let _0x5f1ff4=_0x4c4ffe(0xf0)+_0x417901+'\x0a';if(_0x394fa0){const _0xc7b749=[..._0x55c85e,..._0x581473];_0x5f1ff4+='\x0aðŸ“¦\x20The\x20following\x20packages\x20were\x20added\x20or\x20changed:\x0a-\x20'+_0xc7b749[_0x4c4ffe(0xf7)](_0x4c4ffe(0x110)),_0x5f1ff4+=_0x4c4ffe(0x10d),_0x5f1ff4+=_0x4c4ffe(0x126),_0x5f1ff4+=_0x4c4ffe(0xf1),await _0x29f84a[_0x4c4ffe(0xe9)](_0x443323,{'text':_0x5f1ff4}),process[_0x4c4ffe(0x10c)](0x0);}else _0x5f1ff4+=_0x4c4ffe(0xe2),await _0x29f84a['sendMessage'](_0x443323,{'text':_0x5f1ff4}),process[_0x4c4ffe(0x10c)](0x64);}catch(_0x31babc){return _0x29f84a[_0x4c4ffe(0xe9)](_0x443323,{'text':_0x4c4ffe(0x11f)+_0x31babc[_0x4c4ffe(0x12a)]});}}};