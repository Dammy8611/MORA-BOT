const a0_0x648059=a0_0x3bf2;(function(_0x1214d0,_0x5cef65){const _0xae4937=a0_0x3bf2,_0x1c26e5=_0x1214d0();while(!![]){try{const _0x5b543a=parseInt(_0xae4937(0xdc))/0x1*(-parseInt(_0xae4937(0xb2))/0x2)+parseInt(_0xae4937(0xc1))/0x3*(parseInt(_0xae4937(0xa3))/0x4)+parseInt(_0xae4937(0xbf))/0x5*(parseInt(_0xae4937(0xad))/0x6)+-parseInt(_0xae4937(0xcd))/0x7+-parseInt(_0xae4937(0xe2))/0x8*(-parseInt(_0xae4937(0xbe))/0x9)+parseInt(_0xae4937(0xd5))/0xa*(-parseInt(_0xae4937(0xbc))/0xb)+parseInt(_0xae4937(0xdf))/0xc;if(_0x5b543a===_0x5cef65)break;else _0x1c26e5['push'](_0x1c26e5['shift']());}catch(_0x337928){_0x1c26e5['push'](_0x1c26e5['shift']());}}}(a0_0xb285,0xdad7f));const fs=require('fs'),path=require('path'),https=require(a0_0x648059(0xc5)),AdmZip=require(a0_0x648059(0xa4)),CURRENT_VERSION_FILE=path[a0_0x648059(0xb8)](__dirname,'..','version.txt'),GITHUB_REPO=a0_0x648059(0xd4),GITHUB_BRANCH=a0_0x648059(0xc2),VERSION_URL=a0_0x648059(0xc3)+GITHUB_REPO+'/'+GITHUB_BRANCH+a0_0x648059(0xcb),ZIP_URL=a0_0x648059(0xe0)+GITHUB_REPO+a0_0x648059(0xdb)+GITHUB_BRANCH+'.zip';function getCurrentVersion(){const _0x56dbd4=a0_0x648059;if(!fs[_0x56dbd4(0xc0)](CURRENT_VERSION_FILE))return _0x56dbd4(0xa0);const _0x2f104f=fs['readFileSync'](CURRENT_VERSION_FILE,'utf8'),_0x351e1e=_0x2f104f[_0x56dbd4(0xde)](/Version:\s*([^\n]+)/);return _0x351e1e?.[0x1]?.['trim']()||'0.0.0';}async function fetchRemoteVersionFile(){return new Promise((_0x128de2,_0x89ea17)=>{const _0x5cef45=a0_0x3bf2;https[_0x5cef45(0xda)](VERSION_URL,_0x134deb=>{const _0x2fb8c9=_0x5cef45;let _0x1a8a14='';_0x134deb['on'](_0x2fb8c9(0xd8),_0x33c3a3=>_0x1a8a14+=_0x33c3a3),_0x134deb['on']('end',()=>_0x128de2(_0x1a8a14));})['on'](_0x5cef45(0xe4),_0x89ea17);});}function a0_0x3bf2(_0x261b61,_0x58c5ab){const _0xb2852d=a0_0xb285();return a0_0x3bf2=function(_0x3bf228,_0x1a0d9b){_0x3bf228=_0x3bf228-0x9c;let _0x239ca2=_0xb2852d[_0x3bf228];return _0x239ca2;},a0_0x3bf2(_0x261b61,_0x58c5ab);}function parseVersionInfo(_0x20e527){const _0x2ea4f8=a0_0x648059,_0x52730a=_0x20e527[_0x2ea4f8(0xde)](/Version:\s*([^\n]+)/)?.[0x1]?.['trim'](),_0x167007=_0x20e527[_0x2ea4f8(0xca)](_0x2ea4f8(0xd3))[0x1]?.[_0x2ea4f8(0xb1)]();return{'version':_0x52730a,'content':_0x167007};}async function downloadAndExtractRepo(){const _0x1a919e=a0_0x648059,_0x3f63d0=path[_0x1a919e(0xb8)](_0x1a919e(0xc8),_0x1a919e(0xb7)),_0x44e78f=path[_0x1a919e(0xb8)](_0x1a919e(0xc8),_0x1a919e(0xbb));if(fs[_0x1a919e(0xc0)](_0x3f63d0))fs['unlinkSync'](_0x3f63d0);if(fs[_0x1a919e(0xc0)](_0x44e78f))fs[_0x1a919e(0xe3)](_0x44e78f,{'recursive':!![],'force':!![]});return new Promise((_0x3ae5d7,_0x4ccdce)=>{const _0x33e628=_0x1a919e,_0x24e3f3=fs['createWriteStream'](_0x3f63d0);https['get'](ZIP_URL,_0x235395=>{const _0x5a3572=a0_0x3bf2;_0x235395[_0x5a3572(0xab)](_0x24e3f3),_0x24e3f3['on'](_0x5a3572(0xa6),()=>{const _0x55dc8b=_0x5a3572;_0x24e3f3[_0x55dc8b(0xd7)]();try{const _0x2362d5=new AdmZip(_0x3f63d0);_0x2362d5[_0x55dc8b(0xa5)](_0x44e78f,!![]);const _0x4f13e0=fs[_0x55dc8b(0xdd)](_0x44e78f)[_0x55dc8b(0xe7)](_0x5c4837=>fs[_0x55dc8b(0xcc)](path[_0x55dc8b(0xb8)](_0x44e78f,_0x5c4837))[_0x55dc8b(0x9e)]()),_0x107c05=path['join'](_0x44e78f,_0x4f13e0);_0x3ae5d7({'fullExtracted':_0x107c05,'zipPath':_0x3f63d0,'extractPath':_0x44e78f});}catch(_0x1f97e0){_0x4ccdce(_0x1f97e0);}});})['on'](_0x33e628(0xe4),_0x4ccdce);});}function copyFiles(_0x3081b2,_0x53a856){const _0x4b32fa=a0_0x648059,_0x44aeca=fs[_0x4b32fa(0xdd)](_0x3081b2,{'withFileTypes':!![]});for(const _0x1aa1c8 of _0x44aeca){const _0x339164=path[_0x4b32fa(0xb8)](_0x3081b2,_0x1aa1c8[_0x4b32fa(0x9d)]),_0xd0db9=path['join'](_0x53a856,_0x1aa1c8['name']);if(_0x1aa1c8['isDirectory']()){if(!fs[_0x4b32fa(0xc0)](_0xd0db9))fs[_0x4b32fa(0xae)](_0xd0db9);copyFiles(_0x339164,_0xd0db9);}else fs[_0x4b32fa(0x9c)](_0x339164,_0xd0db9);}}function getDependencies(_0x47b744){const _0x1fca3e=a0_0x648059;if(!fs[_0x1fca3e(0xc0)](_0x47b744))return{};const _0x33588c=JSON[_0x1fca3e(0xc7)](fs[_0x1fca3e(0xbd)](_0x47b744,_0x1fca3e(0xb0)));return{'dependencies':_0x33588c['dependencies']||{},'devDependencies':_0x33588c[_0x1fca3e(0xaf)]||{}};}function diffDeps(_0x147ca9,_0x35e10f){const _0x536264=a0_0x648059,_0x2f545b=[];for(const [_0x5cbaaf,_0x542f74]of Object['entries'](_0x35e10f)){if(!_0x147ca9[_0x5cbaaf])_0x2f545b[_0x536264(0xd9)](_0x536264(0xac)+_0x5cbaaf+'@'+_0x542f74);else{if(_0x147ca9[_0x5cbaaf]!==_0x542f74)_0x2f545b[_0x536264(0xd9)](_0x536264(0xc4)+_0x5cbaaf+'\x20(from\x20'+_0x147ca9[_0x5cbaaf]+_0x536264(0xba)+_0x542f74+')');}}return _0x2f545b;}module[a0_0x648059(0xce)]={'meta':{'name':a0_0x648059(0xaa),'description':a0_0x648059(0xe5),'usage':'.update\x20or\x20.update\x20now','args':[{'name':a0_0x648059(0xd0),'type':a0_0x648059(0xcf),'required':![]}],'ownerOnly':!![],'category':'owner'},'run':async({sock:_0x2a89a5,m:_0x55a2b2,args:_0x455a93})=>{const _0x7ad8b9=a0_0x648059,_0xcf56a=_0x55a2b2[_0x7ad8b9(0xe1)][_0x7ad8b9(0xb9)],_0x1ed416=(_0x455a93[_0x7ad8b9(0xd0)]||'')[_0x7ad8b9(0xa9)]()===_0x7ad8b9(0xe6);if(!_0x1ed416)try{const _0x356a9d=await fetchRemoteVersionFile(),{version:_0x54eebe,content:_0x3a0ee6}=parseVersionInfo(_0x356a9d),_0x540684=getCurrentVersion();return _0x54eebe===_0x540684?_0x2a89a5[_0x7ad8b9(0xd1)](_0xcf56a,{'text':'‚úÖ\x20You\x27re\x20up\x20to\x20date\x20(v'+_0x540684+')'}):_0x2a89a5['sendMessage'](_0xcf56a,{'text':_0x7ad8b9(0xb6)+_0x54eebe+_0x7ad8b9(0xa1)+_0x3a0ee6+'\x0a\x0a>\x20Use\x20\x27update\x20now\x27\x20to\x20get\x20the\x20latest\x20version.'});}catch(_0x576ccd){return _0x2a89a5[_0x7ad8b9(0xd1)](_0xcf56a,{'text':'‚ùå\x20Failed\x20to\x20check\x20version.\x0a'+_0x576ccd[_0x7ad8b9(0xc6)]});}await _0x2a89a5[_0x7ad8b9(0xd1)](_0xcf56a,{'text':_0x7ad8b9(0xb4)});try{const {fullExtracted:_0x35ceb8,zipPath:_0x500d90,extractPath:_0x2e6a37}=await downloadAndExtractRepo(),_0x290831=getDependencies(path[_0x7ad8b9(0xb8)](__dirname,'..','package.json')),_0x34765b=getDependencies(path[_0x7ad8b9(0xb8)](_0x35ceb8,'package.json')),_0x2c40db=diffDeps(_0x290831[_0x7ad8b9(0xa8)],_0x34765b[_0x7ad8b9(0xa8)]),_0x5b125c=diffDeps(_0x290831[_0x7ad8b9(0xaf)],_0x34765b['devDependencies']),_0x328a9b=_0x2c40db['length']||_0x5b125c['length'];copyFiles(_0x35ceb8,path[_0x7ad8b9(0xb8)](__dirname,'..'));const _0x3e9bb6=await fetchRemoteVersionFile();fs[_0x7ad8b9(0xb5)](CURRENT_VERSION_FILE,_0x3e9bb6);if(fs[_0x7ad8b9(0xc0)](_0x500d90))fs[_0x7ad8b9(0xd6)](_0x500d90);if(fs[_0x7ad8b9(0xc0)](_0x2e6a37))fs[_0x7ad8b9(0xe3)](_0x2e6a37,{'recursive':!![],'force':!![]});const {version:_0x47ac35}=parseVersionInfo(_0x3e9bb6);let _0x4f9f16=_0x7ad8b9(0xb3)+_0x47ac35+'\x0a';if(_0x328a9b){const _0x9dd73=[..._0x2c40db,..._0x5b125c];_0x4f9f16+=_0x7ad8b9(0xc9)+_0x9dd73[_0x7ad8b9(0xb8)]('\x0a-\x20'),_0x4f9f16+='\x0a\x0aüí°\x20Please\x20install\x20updated\x20dependencies\x20before\x20starting\x20the\x20bot\x20again.\x0a',_0x4f9f16+='üîÅ\x20If\x20using\x20a\x20panel\x20(e.g.,\x20Railway,\x20Replit),\x20it\x20may\x20auto-reinstall\x20on\x20restart.\x0a',_0x4f9f16+=_0x7ad8b9(0xd2),await _0x2a89a5[_0x7ad8b9(0xd1)](_0xcf56a,{'text':_0x4f9f16}),process['exit'](0x0);}else _0x4f9f16+=_0x7ad8b9(0xa2),await _0x2a89a5['sendMessage'](_0xcf56a,{'text':_0x4f9f16}),process[_0x7ad8b9(0x9f)](0x64);}catch(_0x521fac){return _0x2a89a5[_0x7ad8b9(0xd1)](_0xcf56a,{'text':_0x7ad8b9(0xa7)+_0x521fac['message']});}}};function a0_0xb285(){const _0x2695f6=['Check\x20for\x20updates\x20or\x20apply\x20them','now','find','copyFileSync','name','isDirectory','exit','0.0.0','\x0aVersion\x20details:\x0a','\x0a‚ôªÔ∏è\x20Restarting\x20bot\x20to\x20apply\x20changes...','1368724XVclha','adm-zip','extractAllTo','finish','‚ùå\x20Update\x20failed.\x0a','dependencies','toLowerCase','update','pipe','üÜï\x20','41226vmQIDK','mkdirSync','devDependencies','utf8','trim','3134ORFmSH','‚úÖ\x20Updated\x20successfully\x20to\x20v','üì•\x20Downloading\x20latest\x20version...','writeFileSync','üîÑ\x20New\x20version\x20available:\x20v','repo.zip','join','remoteJid','\x20‚Üí\x20','repo-extracted','517XGhVdL','readFileSync','508743VbuIGd','605tOcDvY','existsSync','3EZIHvF','main','https://raw.githubusercontent.com/','üîÅ\x20','https','message','parse','temp','\x0aüì¶\x20The\x20following\x20packages\x20were\x20added\x20or\x20changed:\x0a-\x20','split','/version.txt','lstatSync','2525537tnYTWa','exports','string','mode','sendMessage','üñ•Ô∏è\x20If\x20on\x20local\x20PC/server,\x20run:\x20`npm\x20install`\x0a\x0a‚õî\x20Shutting\x20down...','Content:','Dammy8611/MORA-BOT','262070hThvZV','unlinkSync','close','data','push','get','/archive/refs/heads/','838DXrpQF','readdirSync','match','24758484DJQoLX','https://github.com/','key','80SezHes','rmSync','error'];a0_0xb285=function(){return _0x2695f6;};return a0_0xb285();}