const a0_0x42e082=a0_0x47d7;(function(_0x26b11b,_0xafd172){const _0x4deed8=a0_0x47d7,_0x57abb3=_0x26b11b();while(!![]){try{const _0xa26ec3=parseInt(_0x4deed8(0xc0))/0x1+-parseInt(_0x4deed8(0xdd))/0x2+parseInt(_0x4deed8(0xcb))/0x3+-parseInt(_0x4deed8(0xc3))/0x4*(parseInt(_0x4deed8(0xda))/0x5)+parseInt(_0x4deed8(0xce))/0x6*(-parseInt(_0x4deed8(0xcc))/0x7)+parseInt(_0x4deed8(0xbf))/0x8+parseInt(_0x4deed8(0xc5))/0x9;if(_0xa26ec3===_0xafd172)break;else _0x57abb3['push'](_0x57abb3['shift']());}catch(_0xaa6d04){_0x57abb3['push'](_0x57abb3['shift']());}}}(a0_0x263c,0xd37ce));import a0_0x354119 from'fs';import a0_0x1f9d86 from'path';import{fileURLToPath}from'url';import{downloadMediaMessage,getContentType}from'baileys-pro';import{GoogleGenerativeAI}from'@google/generative-ai';const __filename=fileURLToPath(import.meta['url']),__dirname=a0_0x1f9d86[a0_0x42e082(0xd8)](__filename),apiKeysFile=a0_0x1f9d86['join'](__dirname,'..','..','secrets',a0_0x42e082(0xd2));if(!a0_0x354119['existsSync'](apiKeysFile))throw new Error('apiKeys.txt\x20not\x20found');function a0_0x263c(){const _0x30797d=['readFileSync','2169147yuWSWr','4816JxLKem','.analyzeimage\x20(reply\x20to\x20an\x20image)','5808xtzhBv','gemini-2.5-flash','end','getGenerativeModel','apiKeys.txt','contextInfo','❌\x20Failed\x20to\x20analyze\x20the\x20image.\x20Make\x20sure\x20it’s\x20a\x20valid\x20photo\x20and\x20try\x20again.','quotedMessage','analyzeimage','stream','dirname','.jpg','985gqBCQD','key','imageMessage','1783614EZzXBw','📸\x20*Image\x20Analysis:*\x0a\x0a','utf8','sendMessage','join','error','image/jpeg','updateMediaMessage','now','temp','extendedTextMessage','log','base64','unlinkSync','5664760KTcNyI','537580qMFtOW','❌\x20IcatchAnalysis\x20Error:','mkdirSync','2068bkvXhW','Reply:\x20','5014530gatRKY','remoteJid','generateContent','Analyze\x20a\x20replied\x20image\x20and\x20describe\x20it\x20using\x20AI','text'];a0_0x263c=function(){return _0x30797d;};return a0_0x263c();}function a0_0x47d7(_0x17e817,_0x27f3e6){const _0x263cfc=a0_0x263c();return a0_0x47d7=function(_0x47d7c8,_0x63ffc){_0x47d7c8=_0x47d7c8-0xba;let _0x2d706b=_0x263cfc[_0x47d7c8];return _0x2d706b;},a0_0x47d7(_0x17e817,_0x27f3e6);}const apiKeys=a0_0x354119[a0_0x42e082(0xca)](apiKeysFile,a0_0x42e082(0xdf))['split'](/\r?\n/)['filter'](Boolean),genAI=new GoogleGenerativeAI(apiKeys[0x0]),model=genAI[a0_0x42e082(0xd1)]({'model':a0_0x42e082(0xcf)});export const meta={'name':a0_0x42e082(0xd6),'description':a0_0x42e082(0xc8),'usage':a0_0x42e082(0xcd),'category':'AI'};export async function run({m:_0x5b244c,sock:_0x3de727}){const _0x38fda2=a0_0x42e082,_0x3e1610=_0x5b244c[_0x38fda2(0xdb)][_0x38fda2(0xc6)],_0xe3b96a=_0x5b244c['message']?.[_0x38fda2(0xbb)]?.[_0x38fda2(0xd3)]?.[_0x38fda2(0xd5)];console[_0x38fda2(0xbc)](_0x38fda2(0xc4),_0xe3b96a);if(!_0xe3b96a)return _0x3de727[_0x38fda2(0xe0)](_0x3e1610,{'text':'❌\x20Please\x20reply\x20to\x20an\x20image.'});const _0x468186=getContentType(_0xe3b96a);if(_0x468186!==_0x38fda2(0xdc))return _0x3de727[_0x38fda2(0xe0)](_0x3e1610,{'text':'❌\x20That’s\x20not\x20an\x20image.'});try{const _0x58e36a=a0_0x1f9d86[_0x38fda2(0xe1)](__dirname,'..',_0x38fda2(0xba),'images');if(!a0_0x354119['existsSync'](_0x58e36a))a0_0x354119[_0x38fda2(0xc2)](_0x58e36a,{'recursive':!![]});const _0x1ac02e='image_'+Date[_0x38fda2(0xe5)]()+_0x38fda2(0xd9),_0x47314c=a0_0x1f9d86[_0x38fda2(0xe1)](_0x58e36a,_0x1ac02e),_0x4d8908=await downloadMediaMessage({'message':_0xe3b96a},_0x38fda2(0xd7),{},{'logger':console,'reuploadRequest':_0x3de727[_0x38fda2(0xe4)]});await new Promise((_0x254dff,_0x56162a)=>{const _0x27f253=_0x38fda2,_0x2f8fc1=a0_0x354119['createWriteStream'](_0x47314c);_0x4d8908['pipe'](_0x2f8fc1),_0x4d8908['on'](_0x27f253(0xd0),_0x254dff),_0x4d8908['on'](_0x27f253(0xe2),_0x56162a);});const _0x2c1db6=a0_0x354119[_0x38fda2(0xca)](_0x47314c,{'encoding':_0x38fda2(0xbd)}),_0x35abd3=await model[_0x38fda2(0xc7)]({'contents':[{'role':'user','parts':[{'inlineData':{'mimeType':_0x38fda2(0xe3),'data':_0x2c1db6}},{'text':'Describe\x20this\x20image\x20in\x20detail.'}]}]});console[_0x38fda2(0xbc)](_0x35abd3);const _0x1bf776=await _0x35abd3['response'][_0x38fda2(0xc9)]();await _0x3de727[_0x38fda2(0xe0)](_0x3e1610,{'text':_0x38fda2(0xde)+_0x1bf776}),a0_0x354119[_0x38fda2(0xbe)](_0x47314c);}catch(_0x2f5212){console[_0x38fda2(0xe2)](_0x38fda2(0xc1),_0x2f5212),await _0x3de727[_0x38fda2(0xe0)](_0x3e1610,{'text':_0x38fda2(0xd4)});}}