const a0_0x45ffe7=a0_0x11b1;(function(_0xa67ff,_0x5d9381){const _0x3c300a=a0_0x11b1,_0x622582=_0xa67ff();while(!![]){try{const _0x29751a=-parseInt(_0x3c300a(0x1aa))/0x1*(parseInt(_0x3c300a(0x193))/0x2)+-parseInt(_0x3c300a(0x19c))/0x3+-parseInt(_0x3c300a(0x18c))/0x4*(-parseInt(_0x3c300a(0x19f))/0x5)+-parseInt(_0x3c300a(0x1a8))/0x6*(parseInt(_0x3c300a(0x1a0))/0x7)+parseInt(_0x3c300a(0x198))/0x8*(parseInt(_0x3c300a(0x185))/0x9)+parseInt(_0x3c300a(0x1a1))/0xa*(-parseInt(_0x3c300a(0x183))/0xb)+parseInt(_0x3c300a(0x182))/0xc;if(_0x29751a===_0x5d9381)break;else _0x622582['push'](_0x622582['shift']());}catch(_0x41b514){_0x622582['push'](_0x622582['shift']());}}}(a0_0x3976,0xe3edf));import a0_0x5134ce from'fs';import a0_0x2540c0 from'path';function a0_0x3976(){const _0x4e524d=['remoteJid','key','analyzeimage','35440980PgBeve','2437754YJxEif','Analyze\x20a\x20replied\x20image\x20and\x20describe\x20it\x20using\x20AI','9VGPdDH','stream','extendedTextMessage','now','temp','Describe\x20this\x20image\x20in\x20detail.','image_','736408tuLrGX','pipe','unlinkSync','sendMessage','imageMessage','.jpg','split','13686qTbBcK','response','log','images','❌\x20IcatchAnalysis\x20Error:','4774920kUGTDH','gemini-2.5-flash','❌\x20Please\x20reply\x20to\x20an\x20image.','filter','2872458rOwVIB','📸\x20*Image\x20Analysis:*\x0a\x0a','existsSync','10gjPiix','7mrrKVd','10PITDYf','error','join','createWriteStream','quotedMessage','❌\x20Failed\x20to\x20analyze\x20the\x20image.\x20Make\x20sure\x20it’s\x20a\x20valid\x20photo\x20and\x20try\x20again.','apiKeys.txt','2048298auPlTH','dirname','214GCIurs','image/jpeg','user','mkdirSync','readFileSync','contextInfo'];a0_0x3976=function(){return _0x4e524d;};return a0_0x3976();}import{fileURLToPath}from'url';import{downloadMediaMessage,getContentType}from'baileys-pro';import{GoogleGenerativeAI}from'@google/generative-ai';const __filename=fileURLToPath(import.meta['url']),__dirname=a0_0x2540c0[a0_0x45ffe7(0x1a9)](__filename),apiKeysFile=a0_0x2540c0[a0_0x45ffe7(0x1a3)](__dirname,'..','..','secrets',a0_0x45ffe7(0x1a7));function a0_0x11b1(_0x32e665,_0x5896af){const _0x3976ec=a0_0x3976();return a0_0x11b1=function(_0x11b1d8,_0x334b7b){_0x11b1d8=_0x11b1d8-0x17e;let _0x3729e9=_0x3976ec[_0x11b1d8];return _0x3729e9;},a0_0x11b1(_0x32e665,_0x5896af);}if(!a0_0x5134ce[a0_0x45ffe7(0x19e)](apiKeysFile))throw new Error('apiKeys.txt\x20not\x20found');const apiKeys=a0_0x5134ce['readFileSync'](apiKeysFile,'utf8')[a0_0x45ffe7(0x192)](/\r?\n/)[a0_0x45ffe7(0x19b)](Boolean),genAI=new GoogleGenerativeAI(apiKeys[0x0]),model=genAI['getGenerativeModel']({'model':a0_0x45ffe7(0x199)});export const meta={'name':a0_0x45ffe7(0x181),'description':a0_0x45ffe7(0x184),'usage':'.analyzeimage\x20(reply\x20to\x20an\x20image)','category':'AI'};export async function run({m:_0xf916e6,sock:_0x2cd1d6}){const _0x4b5420=a0_0x45ffe7,_0x48eb53=_0xf916e6[_0x4b5420(0x180)][_0x4b5420(0x17f)],_0x4fee83=_0xf916e6['message']?.[_0x4b5420(0x187)]?.[_0x4b5420(0x17e)]?.[_0x4b5420(0x1a5)];console[_0x4b5420(0x195)]('Reply:\x20',_0x4fee83);if(!_0x4fee83)return _0x2cd1d6[_0x4b5420(0x18f)](_0x48eb53,{'text':_0x4b5420(0x19a)});const _0x5f1c68=getContentType(_0x4fee83);if(_0x5f1c68!==_0x4b5420(0x190))return _0x2cd1d6[_0x4b5420(0x18f)](_0x48eb53,{'text':'❌\x20That’s\x20not\x20an\x20image.'});try{const _0x14bb70=a0_0x2540c0[_0x4b5420(0x1a3)](__dirname,'..',_0x4b5420(0x189),_0x4b5420(0x196));if(!a0_0x5134ce['existsSync'](_0x14bb70))a0_0x5134ce[_0x4b5420(0x1ad)](_0x14bb70,{'recursive':!![]});const _0x20d341=_0x4b5420(0x18b)+Date[_0x4b5420(0x188)]()+_0x4b5420(0x191),_0x1f310c=a0_0x2540c0[_0x4b5420(0x1a3)](_0x14bb70,_0x20d341),_0x5dc76b=await downloadMediaMessage({'message':_0x4fee83},_0x4b5420(0x186),{},{'logger':console,'reuploadRequest':_0x2cd1d6['updateMediaMessage']});await new Promise((_0x4da6c6,_0x58eeeb)=>{const _0x102d84=_0x4b5420,_0x5dd736=a0_0x5134ce[_0x102d84(0x1a4)](_0x1f310c);_0x5dc76b[_0x102d84(0x18d)](_0x5dd736),_0x5dc76b['on']('end',_0x4da6c6),_0x5dc76b['on'](_0x102d84(0x1a2),_0x58eeeb);});const _0x57d13b=a0_0x5134ce[_0x4b5420(0x1ae)](_0x1f310c,{'encoding':'base64'}),_0x2d769a=await model['generateContent']({'contents':[{'role':_0x4b5420(0x1ac),'parts':[{'inlineData':{'mimeType':_0x4b5420(0x1ab),'data':_0x57d13b}},{'text':_0x4b5420(0x18a)}]}]});console[_0x4b5420(0x195)](_0x2d769a);const _0x10f2f6=await _0x2d769a[_0x4b5420(0x194)]['text']();await _0x2cd1d6[_0x4b5420(0x18f)](_0x48eb53,{'text':_0x4b5420(0x19d)+_0x10f2f6}),a0_0x5134ce[_0x4b5420(0x18e)](_0x1f310c);}catch(_0x12a75e){console[_0x4b5420(0x1a2)](_0x4b5420(0x197),_0x12a75e),await _0x2cd1d6[_0x4b5420(0x18f)](_0x48eb53,{'text':_0x4b5420(0x1a6)});}}