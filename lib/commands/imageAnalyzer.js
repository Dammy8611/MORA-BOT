const a0_0x182627=a0_0x22b2;(function(_0x12b48b,_0x2bfa3b){const _0x21739e=a0_0x22b2,_0x30fae4=_0x12b48b();while(!![]){try{const _0x4f1592=-parseInt(_0x21739e(0x8f))/0x1+-parseInt(_0x21739e(0x9d))/0x2+-parseInt(_0x21739e(0xa8))/0x3*(parseInt(_0x21739e(0xae))/0x4)+parseInt(_0x21739e(0x89))/0x5*(-parseInt(_0x21739e(0x8b))/0x6)+parseInt(_0x21739e(0xb1))/0x7*(-parseInt(_0x21739e(0x97))/0x8)+parseInt(_0x21739e(0xb2))/0x9+parseInt(_0x21739e(0x99))/0xa*(parseInt(_0x21739e(0x84))/0xb);if(_0x4f1592===_0x2bfa3b)break;else _0x30fae4['push'](_0x30fae4['shift']());}catch(_0x12d016){_0x30fae4['push'](_0x30fae4['shift']());}}}(a0_0x7fcd,0xb9b98));import a0_0x5ab032 from'fs';import a0_0x481636 from'path';import{fileURLToPath}from'url';import{downloadMediaMessage,getContentType}from'baileys-pro';import{GoogleGenerativeAI}from'@google/generative-ai';const __filename=fileURLToPath(import.meta[a0_0x182627(0xaa)]),__dirname=a0_0x481636[a0_0x182627(0xa2)](__filename),apiKeysFile=a0_0x481636[a0_0x182627(0x98)](__dirname,'..','..','secrets',a0_0x182627(0x8d));function a0_0x22b2(_0x1da31c,_0x7480ef){const _0x7fcd8f=a0_0x7fcd();return a0_0x22b2=function(_0x22b22f,_0x55c8be){_0x22b22f=_0x22b22f-0x80;let _0x33c27b=_0x7fcd8f[_0x22b22f];return _0x33c27b;},a0_0x22b2(_0x1da31c,_0x7480ef);}if(!a0_0x5ab032[a0_0x182627(0x82)](apiKeysFile))throw new Error(a0_0x182627(0xaf));const apiKeys=a0_0x5ab032[a0_0x182627(0xa9)](apiKeysFile,a0_0x182627(0xa4))[a0_0x182627(0xa0)](/\r?\n/)[a0_0x182627(0x81)](Boolean),genAI=new GoogleGenerativeAI(apiKeys[0x0]),model=genAI[a0_0x182627(0x87)]({'model':'gemini-2.5-flash'});function a0_0x7fcd(){const _0x3f84c3=['apiKeys.txt','response','755200YKAsFS','stream','Describe\x20this\x20image\x20in\x20detail.','temp','.analyzeimage\x20(reply\x20to\x20an\x20image)','âŒ\x20Thatâ€™s\x20not\x20an\x20image.','imageMessage','.jpg','40gccTAG','join','492110nHNxiL','log','image_','sendMessage','191098pRWTiu','unlinkSync','mkdirSync','split','âŒ\x20IcatchAnalysis\x20Error:','dirname','user','utf8','quotedMessage','updateMediaMessage','generateContent','3fqOaoc','readFileSync','url','contextInfo','Reply:\x20','analyzeimage','1774052pfdPPY','apiKeys.txt\x20not\x20found','âŒ\x20Please\x20reply\x20to\x20an\x20image.','242599MGNquu','5564700qYuIYb','image/jpeg','now','filter','existsSync','images','407iJXpkZ','âŒ\x20Failed\x20to\x20analyze\x20the\x20image.\x20Make\x20sure\x20itâ€™s\x20a\x20valid\x20photo\x20and\x20try\x20again.','error','getGenerativeModel','extendedTextMessage','80lXlHwp','end','79062CTPuUE','remoteJid'];a0_0x7fcd=function(){return _0x3f84c3;};return a0_0x7fcd();}export const meta={'name':a0_0x182627(0xad),'description':'Analyze\x20a\x20replied\x20image\x20and\x20describe\x20it\x20using\x20AI','usage':a0_0x182627(0x93),'category':'AI'};export async function run({m:_0x14d64d,sock:_0x4b4937}){const _0x57da08=a0_0x182627,_0x543e01=_0x14d64d['key'][_0x57da08(0x8c)],_0x144489=_0x14d64d['message']?.[_0x57da08(0x88)]?.[_0x57da08(0xab)]?.[_0x57da08(0xa5)];console[_0x57da08(0x9a)](_0x57da08(0xac),_0x144489);if(!_0x144489)return _0x4b4937[_0x57da08(0x9c)](_0x543e01,{'text':_0x57da08(0xb0)});const _0x3efd8d=getContentType(_0x144489);if(_0x3efd8d!==_0x57da08(0x95))return _0x4b4937[_0x57da08(0x9c)](_0x543e01,{'text':_0x57da08(0x94)});try{const _0x27ce80=a0_0x481636[_0x57da08(0x98)](__dirname,'..',_0x57da08(0x92),_0x57da08(0x83));if(!a0_0x5ab032[_0x57da08(0x82)](_0x27ce80))a0_0x5ab032[_0x57da08(0x9f)](_0x27ce80,{'recursive':!![]});const _0x39dcb1=_0x57da08(0x9b)+Date[_0x57da08(0x80)]()+_0x57da08(0x96),_0x4c3902=a0_0x481636[_0x57da08(0x98)](_0x27ce80,_0x39dcb1),_0x53f7ba=await downloadMediaMessage({'message':_0x144489},_0x57da08(0x90),{},{'logger':console,'reuploadRequest':_0x4b4937[_0x57da08(0xa6)]});await new Promise((_0xfc7057,_0x4f98d9)=>{const _0x27d4c1=_0x57da08,_0x4bd702=a0_0x5ab032['createWriteStream'](_0x4c3902);_0x53f7ba['pipe'](_0x4bd702),_0x53f7ba['on'](_0x27d4c1(0x8a),_0xfc7057),_0x53f7ba['on'](_0x27d4c1(0x86),_0x4f98d9);});const _0x1da6ea=a0_0x5ab032[_0x57da08(0xa9)](_0x4c3902,{'encoding':'base64'}),_0x4d0dfe=await model[_0x57da08(0xa7)]({'contents':[{'role':_0x57da08(0xa3),'parts':[{'inlineData':{'mimeType':_0x57da08(0xb3),'data':_0x1da6ea}},{'text':_0x57da08(0x91)}]}]});console[_0x57da08(0x9a)](_0x4d0dfe);const _0x378539=await _0x4d0dfe[_0x57da08(0x8e)]['text']();await _0x4b4937[_0x57da08(0x9c)](_0x543e01,{'text':'ðŸ“¸\x20*Image\x20Analysis:*\x0a\x0a'+_0x378539}),a0_0x5ab032[_0x57da08(0x9e)](_0x4c3902);}catch(_0x37acb0){console[_0x57da08(0x86)](_0x57da08(0xa1),_0x37acb0),await _0x4b4937[_0x57da08(0x9c)](_0x543e01,{'text':_0x57da08(0x85)});}}