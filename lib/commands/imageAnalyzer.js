const a0_0x126333=a0_0x551d;(function(_0x1495b3,_0x12b71e){const _0x2ecd6f=a0_0x551d,_0x851dd6=_0x1495b3();while(!![]){try{const _0x1f80d3=-parseInt(_0x2ecd6f(0x1da))/0x1+-parseInt(_0x2ecd6f(0x207))/0x2+-parseInt(_0x2ecd6f(0x1dc))/0x3*(parseInt(_0x2ecd6f(0x1d5))/0x4)+parseInt(_0x2ecd6f(0x1ff))/0x5*(parseInt(_0x2ecd6f(0x1ed))/0x6)+parseInt(_0x2ecd6f(0x1fb))/0x7*(parseInt(_0x2ecd6f(0x1e8))/0x8)+parseInt(_0x2ecd6f(0x1e5))/0x9*(parseInt(_0x2ecd6f(0x1fa))/0xa)+parseInt(_0x2ecd6f(0x201))/0xb;if(_0x1f80d3===_0x12b71e)break;else _0x851dd6['push'](_0x851dd6['shift']());}catch(_0x1cd099){_0x851dd6['push'](_0x851dd6['shift']());}}}(a0_0xa578,0xe2562));import a0_0x189c5c from'fs';import a0_0x2005d4 from'path';import{fileURLToPath}from'url';import{downloadMediaMessage,getContentType}from'baileys-pro';import{GoogleGenerativeAI}from'@google/generative-ai';function a0_0xa578(){const _0x1e0004=['📸\x20*Image\x20Analysis:*\x0a\x0a','10SGdjFa','7fVYkqM','❌\x20Failed\x20to\x20analyze\x20the\x20image.\x20Make\x20sure\x20it’s\x20a\x20valid\x20photo\x20and\x20try\x20again.','generateContent','Analyze\x20a\x20replied\x20image\x20and\x20describe\x20it\x20using\x20AI','105fkODmq','existsSync','10662267LBJoHd','contextInfo','stream','end','text','images','350660bunHwD','❌\x20Please\x20reply\x20to\x20an\x20image.','sendMessage','base64','52SOHjjx','gemini-2.5-flash','imageMessage','utf8','image_','1424802nTrDCB','extendedTextMessage','386916JLqgaf','split','pipe','image/jpeg','join','response','analyzeimage','user','mkdirSync','11830599NncqJZ','Reply:\x20','readFileSync','13647008BVWDuB','remoteJid','❌\x20IcatchAnalysis\x20Error:','createWriteStream','.jpg','61188rsngrz','filter','apiKeys.txt\x20not\x20found','secrets','log','❌\x20That’s\x20not\x20an\x20image.','error','unlinkSync','dirname','temp','apiKeys.txt','message'];a0_0xa578=function(){return _0x1e0004;};return a0_0xa578();}const __filename=fileURLToPath(import.meta['url']),__dirname=a0_0x2005d4[a0_0x126333(0x1f5)](__filename),apiKeysFile=a0_0x2005d4[a0_0x126333(0x1e0)](__dirname,'..','..',a0_0x126333(0x1f0),a0_0x126333(0x1f7));function a0_0x551d(_0x5eab2,_0x189f35){const _0xa5788=a0_0xa578();return a0_0x551d=function(_0x551d4c,_0x222472){_0x551d4c=_0x551d4c-0x1d5;let _0x777abb=_0xa5788[_0x551d4c];return _0x777abb;},a0_0x551d(_0x5eab2,_0x189f35);}if(!a0_0x189c5c[a0_0x126333(0x200)](apiKeysFile))throw new Error(a0_0x126333(0x1ef));const apiKeys=a0_0x189c5c['readFileSync'](apiKeysFile,a0_0x126333(0x1d8))[a0_0x126333(0x1dd)](/\r?\n/)[a0_0x126333(0x1ee)](Boolean),genAI=new GoogleGenerativeAI(apiKeys[0x0]),model=genAI['getGenerativeModel']({'model':a0_0x126333(0x1d6)});export const meta={'name':a0_0x126333(0x1e2),'description':a0_0x126333(0x1fe),'usage':'.analyzeimage\x20(reply\x20to\x20an\x20image)','category':'AI'};export async function run({m:_0x506d6c,sock:_0x16300e}){const _0x2bc90d=a0_0x126333,_0x12b64e=_0x506d6c['key'][_0x2bc90d(0x1e9)],_0x566a8b=_0x506d6c[_0x2bc90d(0x1f8)]?.[_0x2bc90d(0x1db)]?.[_0x2bc90d(0x202)]?.['quotedMessage'];console[_0x2bc90d(0x1f1)](_0x2bc90d(0x1e6),_0x566a8b);if(!_0x566a8b)return _0x16300e[_0x2bc90d(0x209)](_0x12b64e,{'text':_0x2bc90d(0x208)});const _0x49a139=getContentType(_0x566a8b);if(_0x49a139!==_0x2bc90d(0x1d7))return _0x16300e['sendMessage'](_0x12b64e,{'text':_0x2bc90d(0x1f2)});try{const _0x5268c6=a0_0x2005d4[_0x2bc90d(0x1e0)](__dirname,'..',_0x2bc90d(0x1f6),_0x2bc90d(0x206));if(!a0_0x189c5c[_0x2bc90d(0x200)](_0x5268c6))a0_0x189c5c[_0x2bc90d(0x1e4)](_0x5268c6,{'recursive':!![]});const _0xfcbb12=_0x2bc90d(0x1d9)+Date['now']()+_0x2bc90d(0x1ec),_0x360c6e=a0_0x2005d4['join'](_0x5268c6,_0xfcbb12),_0x366b24=await downloadMediaMessage({'message':_0x566a8b},_0x2bc90d(0x203),{},{'logger':console,'reuploadRequest':_0x16300e['updateMediaMessage']});await new Promise((_0x5b460a,_0x24f0cb)=>{const _0x5b5e9f=_0x2bc90d,_0x2cd079=a0_0x189c5c[_0x5b5e9f(0x1eb)](_0x360c6e);_0x366b24[_0x5b5e9f(0x1de)](_0x2cd079),_0x366b24['on'](_0x5b5e9f(0x204),_0x5b460a),_0x366b24['on'](_0x5b5e9f(0x1f3),_0x24f0cb);});const _0x5f0941=a0_0x189c5c[_0x2bc90d(0x1e7)](_0x360c6e,{'encoding':_0x2bc90d(0x20a)}),_0x1417fa=await model[_0x2bc90d(0x1fd)]({'contents':[{'role':_0x2bc90d(0x1e3),'parts':[{'inlineData':{'mimeType':_0x2bc90d(0x1df),'data':_0x5f0941}},{'text':'Describe\x20this\x20image\x20in\x20detail.'}]}]});console[_0x2bc90d(0x1f1)](_0x1417fa);const _0x4f4651=await _0x1417fa[_0x2bc90d(0x1e1)][_0x2bc90d(0x205)]();await _0x16300e[_0x2bc90d(0x209)](_0x12b64e,{'text':_0x2bc90d(0x1f9)+_0x4f4651}),a0_0x189c5c[_0x2bc90d(0x1f4)](_0x360c6e);}catch(_0x150dae){console[_0x2bc90d(0x1f3)](_0x2bc90d(0x1ea),_0x150dae),await _0x16300e[_0x2bc90d(0x209)](_0x12b64e,{'text':_0x2bc90d(0x1fc)});}}