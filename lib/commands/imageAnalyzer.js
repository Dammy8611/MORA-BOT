const a0_0x84c762=a0_0x7f2b;function a0_0x6440(){const _0x2ac895=['.jpg','temp','generateContent','stream','Describe\x20this\x20image\x20in\x20detail.','contextInfo','❌\x20Failed\x20to\x20analyze\x20the\x20image.\x20Make\x20sure\x20it’s\x20a\x20valid\x20photo\x20and\x20try\x20again.','response','text','📸\x20*Image\x20Analysis:*\x0a\x0a','image/jpeg','createWriteStream','secrets','base64','end','imageMessage','now','split','22217742AhEMAa','user','6625892RjtlQR','quotedMessage','url','Reply:\x20','27668rxQmjc','Analyze\x20a\x20replied\x20image\x20and\x20describe\x20it\x20using\x20AI','readFileSync','getGenerativeModel','updateMediaMessage','4101548wMkvyI','❌\x20That’s\x20not\x20an\x20image.','existsSync','6666215deUNwh','analyzeimage','join','6ZSVNSL','remoteJid','key','sendMessage','log','utf8','❌\x20Please\x20reply\x20to\x20an\x20image.','image_','apiKeys.txt\x20not\x20found','38Yrikme','extendedTextMessage','❌\x20IcatchAnalysis\x20Error:','2020140BbHGOa','message','apiKeys.txt','error','unlinkSync','5287488MLnNbi'];a0_0x6440=function(){return _0x2ac895;};return a0_0x6440();}(function(_0x3f03a1,_0x163c4f){const _0x2651b9=a0_0x7f2b,_0x392aac=_0x3f03a1();while(!![]){try{const _0x1c13ea=parseInt(_0x2651b9(0x189))/0x1*(-parseInt(_0x2651b9(0x19d))/0x2)+-parseInt(_0x2651b9(0x1a0))/0x3+parseInt(_0x2651b9(0x18e))/0x4+parseInt(_0x2651b9(0x191))/0x5*(-parseInt(_0x2651b9(0x194))/0x6)+-parseInt(_0x2651b9(0x185))/0x7+parseInt(_0x2651b9(0x1a5))/0x8+parseInt(_0x2651b9(0x1b8))/0x9;if(_0x1c13ea===_0x163c4f)break;else _0x392aac['push'](_0x392aac['shift']());}catch(_0x10ba47){_0x392aac['push'](_0x392aac['shift']());}}}(a0_0x6440,0xa50fa));import a0_0x46efac from'fs';import a0_0x51d04a from'path';import{fileURLToPath}from'url';import{downloadMediaMessage,getContentType}from'baileys-pro';import{GoogleGenerativeAI}from'@google/generative-ai';function a0_0x7f2b(_0xcea54e,_0x2a4530){const _0x6440b3=a0_0x6440();return a0_0x7f2b=function(_0x7f2b8e,_0xdf5866){_0x7f2b8e=_0x7f2b8e-0x185;let _0x215da4=_0x6440b3[_0x7f2b8e];return _0x215da4;},a0_0x7f2b(_0xcea54e,_0x2a4530);}const __filename=fileURLToPath(import.meta[a0_0x84c762(0x187)]),__dirname=a0_0x51d04a['dirname'](__filename),apiKeysFile=a0_0x51d04a[a0_0x84c762(0x193)](__dirname,'..','..',a0_0x84c762(0x1b2),a0_0x84c762(0x1a2));if(!a0_0x46efac[a0_0x84c762(0x190)](apiKeysFile))throw new Error(a0_0x84c762(0x19c));const apiKeys=a0_0x46efac[a0_0x84c762(0x18b)](apiKeysFile,a0_0x84c762(0x199))[a0_0x84c762(0x1b7)](/\r?\n/)['filter'](Boolean),genAI=new GoogleGenerativeAI(apiKeys[0x0]),model=genAI[a0_0x84c762(0x18c)]({'model':'gemini-2.5-flash'});export const meta={'name':a0_0x84c762(0x192),'description':a0_0x84c762(0x18a),'usage':'.analyzeimage\x20(reply\x20to\x20an\x20image)','category':'AI'};export async function run({m:_0x573498,sock:_0x15fe0f}){const _0x14d4b0=a0_0x84c762,_0x52cb54=_0x573498[_0x14d4b0(0x196)][_0x14d4b0(0x195)],_0x515b6f=_0x573498[_0x14d4b0(0x1a1)]?.[_0x14d4b0(0x19e)]?.[_0x14d4b0(0x1ab)]?.[_0x14d4b0(0x186)];console[_0x14d4b0(0x198)](_0x14d4b0(0x188),_0x515b6f);if(!_0x515b6f)return _0x15fe0f[_0x14d4b0(0x197)](_0x52cb54,{'text':_0x14d4b0(0x19a)});const _0x2d233a=getContentType(_0x515b6f);if(_0x2d233a!==_0x14d4b0(0x1b5))return _0x15fe0f[_0x14d4b0(0x197)](_0x52cb54,{'text':_0x14d4b0(0x18f)});try{const _0x140279=a0_0x51d04a['join'](__dirname,'..',_0x14d4b0(0x1a7),'images');if(!a0_0x46efac[_0x14d4b0(0x190)](_0x140279))a0_0x46efac['mkdirSync'](_0x140279,{'recursive':!![]});const _0x51c836=_0x14d4b0(0x19b)+Date[_0x14d4b0(0x1b6)]()+_0x14d4b0(0x1a6),_0x4906c8=a0_0x51d04a['join'](_0x140279,_0x51c836),_0x456556=await downloadMediaMessage({'message':_0x515b6f},_0x14d4b0(0x1a9),{},{'logger':console,'reuploadRequest':_0x15fe0f[_0x14d4b0(0x18d)]});await new Promise((_0x24d1c7,_0x3a3c86)=>{const _0x2495e5=_0x14d4b0,_0x4458de=a0_0x46efac[_0x2495e5(0x1b1)](_0x4906c8);_0x456556['pipe'](_0x4458de),_0x456556['on'](_0x2495e5(0x1b4),_0x24d1c7),_0x456556['on'](_0x2495e5(0x1a3),_0x3a3c86);});const _0x5feaf6=a0_0x46efac[_0x14d4b0(0x18b)](_0x4906c8,{'encoding':_0x14d4b0(0x1b3)}),_0x53121a=await model[_0x14d4b0(0x1a8)]({'contents':[{'role':_0x14d4b0(0x1b9),'parts':[{'inlineData':{'mimeType':_0x14d4b0(0x1b0),'data':_0x5feaf6}},{'text':_0x14d4b0(0x1aa)}]}]});console[_0x14d4b0(0x198)](_0x53121a);const _0x539122=await _0x53121a[_0x14d4b0(0x1ad)][_0x14d4b0(0x1ae)]();await _0x15fe0f[_0x14d4b0(0x197)](_0x52cb54,{'text':_0x14d4b0(0x1af)+_0x539122}),a0_0x46efac[_0x14d4b0(0x1a4)](_0x4906c8);}catch(_0x1664f8){console[_0x14d4b0(0x1a3)](_0x14d4b0(0x19f),_0x1664f8),await _0x15fe0f['sendMessage'](_0x52cb54,{'text':_0x14d4b0(0x1ac)});}}