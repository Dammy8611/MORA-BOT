const a0_0x9abe60=a0_0x2bfe;function a0_0x2bfe(_0x1a17d7,_0x56fad6){const _0x432f2f=a0_0x432f();return a0_0x2bfe=function(_0x2bfe58,_0x420448){_0x2bfe58=_0x2bfe58-0x1af;let _0x2ca384=_0x432f2f[_0x2bfe58];return _0x2ca384;},a0_0x2bfe(_0x1a17d7,_0x56fad6);}(function(_0x23513d,_0x54367a){const _0x13d151=a0_0x2bfe,_0x2880d8=_0x23513d();while(!![]){try{const _0x3f5ff9=-parseInt(_0x13d151(0x1d4))/0x1+-parseInt(_0x13d151(0x1d5))/0x2*(-parseInt(_0x13d151(0x1af))/0x3)+parseInt(_0x13d151(0x1da))/0x4*(-parseInt(_0x13d151(0x1c8))/0x5)+parseInt(_0x13d151(0x1d7))/0x6+-parseInt(_0x13d151(0x1b9))/0x7*(parseInt(_0x13d151(0x1bf))/0x8)+-parseInt(_0x13d151(0x1db))/0x9+parseInt(_0x13d151(0x1c0))/0xa;if(_0x3f5ff9===_0x54367a)break;else _0x2880d8['push'](_0x2880d8['shift']());}catch(_0x1b12b7){_0x2880d8['push'](_0x2880d8['shift']());}}}(a0_0x432f,0xddd7a));import a0_0xecd49 from'fs';import a0_0x3d67dc from'path';import{fileURLToPath}from'url';import{downloadMediaMessage,getContentType}from'baileys-pro';import{GoogleGenerativeAI}from'@google/generative-ai';function a0_0x432f(){const _0x3ec031=['user','filter','1163887yCIwXh','1365850uoQDUh','generateContent','1942206pDNiZN','mkdirSync','text','165004OvxYQv','15076485DiWQRi','stream','response','3jnsCOR','‚ùå\x20IcatchAnalysis\x20Error:','url','getGenerativeModel','contextInfo','pipe','utf8','analyzeimage','join','‚ùå\x20Please\x20reply\x20to\x20an\x20image.','515753QDokmM','extendedTextMessage','existsSync','log','images','key','8mquDzh','40110500EWcBia','Describe\x20this\x20image\x20in\x20detail.','üì∏\x20*Image\x20Analysis:*\x0a\x0a','‚ùå\x20That‚Äôs\x20not\x20an\x20image.','updateMediaMessage','secrets','apiKeys.txt\x20not\x20found','apiKeys.txt','145FrGYMS','readFileSync','now','dirname','remoteJid','message','sendMessage','unlinkSync','.jpg','.analyzeimage\x20(reply\x20to\x20an\x20image)'];a0_0x432f=function(){return _0x3ec031;};return a0_0x432f();}const __filename=fileURLToPath(import.meta[a0_0x9abe60(0x1b1)]),__dirname=a0_0x3d67dc[a0_0x9abe60(0x1cb)](__filename),apiKeysFile=a0_0x3d67dc[a0_0x9abe60(0x1b7)](__dirname,'..','..',a0_0x9abe60(0x1c5),a0_0x9abe60(0x1c7));if(!a0_0xecd49[a0_0x9abe60(0x1bb)](apiKeysFile))throw new Error(a0_0x9abe60(0x1c6));const apiKeys=a0_0xecd49[a0_0x9abe60(0x1c9)](apiKeysFile,a0_0x9abe60(0x1b5))['split'](/\r?\n/)[a0_0x9abe60(0x1d3)](Boolean),genAI=new GoogleGenerativeAI(apiKeys[0x0]),model=genAI[a0_0x9abe60(0x1b2)]({'model':'gemini-2.5-flash'});export const meta={'name':a0_0x9abe60(0x1b6),'description':'Analyze\x20a\x20replied\x20image\x20and\x20describe\x20it\x20using\x20AI','usage':a0_0x9abe60(0x1d1),'category':'AI'};export async function run({m:_0x424310,sock:_0x4bf301}){const _0x2d3bfa=a0_0x9abe60,_0x28aedf=_0x424310[_0x2d3bfa(0x1be)][_0x2d3bfa(0x1cc)],_0x2d3ba9=_0x424310[_0x2d3bfa(0x1cd)]?.[_0x2d3bfa(0x1ba)]?.[_0x2d3bfa(0x1b3)]?.['quotedMessage'];console[_0x2d3bfa(0x1bc)]('Reply:\x20',_0x2d3ba9);if(!_0x2d3ba9)return _0x4bf301[_0x2d3bfa(0x1ce)](_0x28aedf,{'text':_0x2d3bfa(0x1b8)});const _0x1fe31a=getContentType(_0x2d3ba9);if(_0x1fe31a!=='imageMessage')return _0x4bf301['sendMessage'](_0x28aedf,{'text':_0x2d3bfa(0x1c3)});try{const _0x3658f6=a0_0x3d67dc[_0x2d3bfa(0x1b7)](__dirname,'..','temp',_0x2d3bfa(0x1bd));if(!a0_0xecd49[_0x2d3bfa(0x1bb)](_0x3658f6))a0_0xecd49[_0x2d3bfa(0x1d8)](_0x3658f6,{'recursive':!![]});const _0x2de5a8='image_'+Date[_0x2d3bfa(0x1ca)]()+_0x2d3bfa(0x1d0),_0xa7f571=a0_0x3d67dc[_0x2d3bfa(0x1b7)](_0x3658f6,_0x2de5a8),_0x4eb61b=await downloadMediaMessage({'message':_0x2d3ba9},_0x2d3bfa(0x1dc),{},{'logger':console,'reuploadRequest':_0x4bf301[_0x2d3bfa(0x1c4)]});await new Promise((_0x35286e,_0x2a44e3)=>{const _0x3502eb=_0x2d3bfa,_0x2d7b09=a0_0xecd49['createWriteStream'](_0xa7f571);_0x4eb61b[_0x3502eb(0x1b4)](_0x2d7b09),_0x4eb61b['on']('end',_0x35286e),_0x4eb61b['on']('error',_0x2a44e3);});const _0x1a6159=a0_0xecd49['readFileSync'](_0xa7f571,{'encoding':'base64'}),_0x1bb807=await model[_0x2d3bfa(0x1d6)]({'contents':[{'role':_0x2d3bfa(0x1d2),'parts':[{'inlineData':{'mimeType':'image/jpeg','data':_0x1a6159}},{'text':_0x2d3bfa(0x1c1)}]}]});console['log'](_0x1bb807);const _0x453db1=await _0x1bb807[_0x2d3bfa(0x1dd)][_0x2d3bfa(0x1d9)]();await _0x4bf301[_0x2d3bfa(0x1ce)](_0x28aedf,{'text':_0x2d3bfa(0x1c2)+_0x453db1}),a0_0xecd49[_0x2d3bfa(0x1cf)](_0xa7f571);}catch(_0x31d704){console['error'](_0x2d3bfa(0x1b0),_0x31d704),await _0x4bf301[_0x2d3bfa(0x1ce)](_0x28aedf,{'text':'‚ùå\x20Failed\x20to\x20analyze\x20the\x20image.\x20Make\x20sure\x20it‚Äôs\x20a\x20valid\x20photo\x20and\x20try\x20again.'});}}