function a0_0x1f98(){const _0x2c28a5=['178492qCocgn','updateMediaMessage','.jpg','generateContent','user','key','response','unlinkSync','23niGoQL','4540224jGBsQa','125iOqmKF','message','imageMessage','apiKeys.txt\x20not\x20found','log','existsSync','Analyze\x20a\x20replied\x20image\x20and\x20describe\x20it\x20using\x20AI','utf8','text','contextInfo','2390877FrRIOo','pipe','Describe\x20this\x20image\x20in\x20detail.','readFileSync','1002nCAFFZ','createWriteStream','27447pKMLtF','extendedTextMessage','52029RqBJhA','now','71264uEfnyP','join','url','gemini-2.5-flash','6267723aTbprI','temp','üì∏\x20*Image\x20Analysis:*\x0a\x0a','split','apiKeys.txt','image_','end','error','1740AQipdJ','‚ùå\x20Please\x20reply\x20to\x20an\x20image.','quotedMessage','Reply:\x20','filter','sendMessage','dirname'];a0_0x1f98=function(){return _0x2c28a5;};return a0_0x1f98();}function a0_0x40da(_0x12cf83,_0x1cc20f){const _0x1f98ef=a0_0x1f98();return a0_0x40da=function(_0x40da57,_0x922154){_0x40da57=_0x40da57-0x151;let _0x586674=_0x1f98ef[_0x40da57];return _0x586674;},a0_0x40da(_0x12cf83,_0x1cc20f);}const a0_0x4e8101=a0_0x40da;(function(_0x156855,_0x2911f1){const _0x2026d5=a0_0x40da,_0x1d7cd2=_0x156855();while(!![]){try{const _0x1c78bd=parseInt(_0x2026d5(0x16a))/0x1*(parseInt(_0x2026d5(0x180))/0x2)+-parseInt(_0x2026d5(0x176))/0x3+-parseInt(_0x2026d5(0x162))/0x4*(parseInt(_0x2026d5(0x16c))/0x5)+-parseInt(_0x2026d5(0x17a))/0x6*(-parseInt(_0x2026d5(0x17c))/0x7)+parseInt(_0x2026d5(0x16b))/0x8+parseInt(_0x2026d5(0x17e))/0x9*(parseInt(_0x2026d5(0x15b))/0xa)+-parseInt(_0x2026d5(0x153))/0xb;if(_0x1c78bd===_0x2911f1)break;else _0x1d7cd2['push'](_0x1d7cd2['shift']());}catch(_0x30aafe){_0x1d7cd2['push'](_0x1d7cd2['shift']());}}}(a0_0x1f98,0x8a0be));import a0_0x508216 from'fs';import a0_0x200d6d from'path';import{fileURLToPath}from'url';import{downloadMediaMessage,getContentType}from'baileys-pro';import{GoogleGenerativeAI}from'@google/generative-ai';const __filename=fileURLToPath(import.meta[a0_0x4e8101(0x151)]),__dirname=a0_0x200d6d[a0_0x4e8101(0x161)](__filename),apiKeysFile=a0_0x200d6d[a0_0x4e8101(0x181)](__dirname,'..','..','secrets',a0_0x4e8101(0x157));if(!a0_0x508216[a0_0x4e8101(0x171)](apiKeysFile))throw new Error(a0_0x4e8101(0x16f));const apiKeys=a0_0x508216[a0_0x4e8101(0x179)](apiKeysFile,a0_0x4e8101(0x173))[a0_0x4e8101(0x156)](/\r?\n/)[a0_0x4e8101(0x15f)](Boolean),genAI=new GoogleGenerativeAI(apiKeys[0x0]),model=genAI['getGenerativeModel']({'model':a0_0x4e8101(0x152)});export const meta={'name':'analyzeimage','description':a0_0x4e8101(0x172),'usage':'.analyzeimage\x20(reply\x20to\x20an\x20image)','category':'AI'};export async function run({m:_0x47449a,sock:_0x2660ba}){const _0x4e1333=a0_0x4e8101,_0x795dd=_0x47449a[_0x4e1333(0x167)]['remoteJid'],_0xd104d=_0x47449a[_0x4e1333(0x16d)]?.[_0x4e1333(0x17d)]?.[_0x4e1333(0x175)]?.[_0x4e1333(0x15d)];console[_0x4e1333(0x170)](_0x4e1333(0x15e),_0xd104d);if(!_0xd104d)return _0x2660ba[_0x4e1333(0x160)](_0x795dd,{'text':_0x4e1333(0x15c)});const _0x10a157=getContentType(_0xd104d);if(_0x10a157!==_0x4e1333(0x16e))return _0x2660ba['sendMessage'](_0x795dd,{'text':'‚ùå\x20That‚Äôs\x20not\x20an\x20image.'});try{const _0x56be31=a0_0x200d6d[_0x4e1333(0x181)](__dirname,'..',_0x4e1333(0x154),'images');if(!a0_0x508216[_0x4e1333(0x171)](_0x56be31))a0_0x508216['mkdirSync'](_0x56be31,{'recursive':!![]});const _0x2be819=_0x4e1333(0x158)+Date[_0x4e1333(0x17f)]()+_0x4e1333(0x164),_0x2b0e21=a0_0x200d6d[_0x4e1333(0x181)](_0x56be31,_0x2be819),_0x58fe2f=await downloadMediaMessage({'message':_0xd104d},'stream',{},{'logger':console,'reuploadRequest':_0x2660ba[_0x4e1333(0x163)]});await new Promise((_0x2d04cc,_0x498ae6)=>{const _0xe85fce=_0x4e1333,_0x1fe80a=a0_0x508216[_0xe85fce(0x17b)](_0x2b0e21);_0x58fe2f[_0xe85fce(0x177)](_0x1fe80a),_0x58fe2f['on'](_0xe85fce(0x159),_0x2d04cc),_0x58fe2f['on'](_0xe85fce(0x15a),_0x498ae6);});const _0x9ddd01=a0_0x508216['readFileSync'](_0x2b0e21,{'encoding':'base64'}),_0x32d1bf=await model[_0x4e1333(0x165)]({'contents':[{'role':_0x4e1333(0x166),'parts':[{'inlineData':{'mimeType':'image/jpeg','data':_0x9ddd01}},{'text':_0x4e1333(0x178)}]}]});console[_0x4e1333(0x170)](_0x32d1bf);const _0xd0ca13=await _0x32d1bf[_0x4e1333(0x168)][_0x4e1333(0x174)]();await _0x2660ba[_0x4e1333(0x160)](_0x795dd,{'text':_0x4e1333(0x155)+_0xd0ca13}),a0_0x508216[_0x4e1333(0x169)](_0x2b0e21);}catch(_0x5475a5){console[_0x4e1333(0x15a)]('‚ùå\x20IcatchAnalysis\x20Error:',_0x5475a5),await _0x2660ba[_0x4e1333(0x160)](_0x795dd,{'text':'‚ùå\x20Failed\x20to\x20analyze\x20the\x20image.\x20Make\x20sure\x20it‚Äôs\x20a\x20valid\x20photo\x20and\x20try\x20again.'});}}