const a0_0x389114=a0_0x1e35;(function(_0x5b88c5,_0x111e98){const _0x9468f0=a0_0x1e35,_0xd1e44=_0x5b88c5();while(!![]){try{const _0x3c1c7c=-parseInt(_0x9468f0(0xe5))/0x1*(-parseInt(_0x9468f0(0xf2))/0x2)+parseInt(_0x9468f0(0xeb))/0x3*(-parseInt(_0x9468f0(0xf3))/0x4)+-parseInt(_0x9468f0(0xea))/0x5*(-parseInt(_0x9468f0(0xd0))/0x6)+-parseInt(_0x9468f0(0xe4))/0x7*(-parseInt(_0x9468f0(0xf1))/0x8)+parseInt(_0x9468f0(0xd9))/0x9+-parseInt(_0x9468f0(0xda))/0xa*(parseInt(_0x9468f0(0xcc))/0xb)+parseInt(_0x9468f0(0xc7))/0xc;if(_0x3c1c7c===_0x111e98)break;else _0xd1e44['push'](_0xd1e44['shift']());}catch(_0x5c3b3c){_0xd1e44['push'](_0xd1e44['shift']());}}}(a0_0x4c87,0x3f6b0));import a0_0x5c68a2 from'fs';import a0_0x5ba250 from'path';import{fileURLToPath}from'url';import{downloadMediaMessage,getContentType}from'baileys-pro';function a0_0x4c87(){const _0x533c4d=['utf8','join','images','Analyze\x20a\x20replied\x20image\x20and\x20describe\x20it\x20using\x20AI','67683KQaNVd','1pkTwVk','response','gemini-2.5-flash','split','generateContent','15jmvDXv','3QXjtnT','apiKeys.txt','error','readFileSync','âŒ\x20Failed\x20to\x20analyze\x20the\x20image.\x20Make\x20sure\x20itâ€™s\x20a\x20valid\x20photo\x20and\x20try\x20again.','base64','96NHUIPt','385946XBWjXr','260724bNQtFT','stream','user','apiKeys.txt\x20not\x20found','âŒ\x20Thatâ€™s\x20not\x20an\x20image.','now','âŒ\x20Please\x20reply\x20to\x20an\x20image.','1057680qfowzd','end','pipe','unlinkSync','ðŸ“¸\x20*Image\x20Analysis:*\x0a\x0a','1655005QIbSWW','log','remoteJid','mkdirSync','183156VXrzvu','sendMessage','dirname','key','updateMediaMessage','quotedMessage','âŒ\x20IcatchAnalysis\x20Error:','.analyzeimage\x20(reply\x20to\x20an\x20image)','image/jpeg','1234188KkyGvW','20ekyvOR','getGenerativeModel','imageMessage','temp','url','.jpg'];a0_0x4c87=function(){return _0x533c4d;};return a0_0x4c87();}import{GoogleGenerativeAI}from'@google/generative-ai';const __filename=fileURLToPath(import.meta[a0_0x389114(0xde)]),__dirname=a0_0x5ba250[a0_0x389114(0xd2)](__filename),apiKeysFile=a0_0x5ba250[a0_0x389114(0xe1)](__dirname,'..','..','secrets',a0_0x389114(0xec));if(!a0_0x5c68a2['existsSync'](apiKeysFile))throw new Error(a0_0x389114(0xc3));const apiKeys=a0_0x5c68a2['readFileSync'](apiKeysFile,a0_0x389114(0xe0))[a0_0x389114(0xe8)](/\r?\n/)['filter'](Boolean),genAI=new GoogleGenerativeAI(apiKeys[0x0]),model=genAI[a0_0x389114(0xdb)]({'model':a0_0x389114(0xe7)});function a0_0x1e35(_0x2aacc5,_0x134426){const _0x4c87d3=a0_0x4c87();return a0_0x1e35=function(_0x1e35ea,_0x54a930){_0x1e35ea=_0x1e35ea-0xc2;let _0x1ee0c8=_0x4c87d3[_0x1e35ea];return _0x1ee0c8;},a0_0x1e35(_0x2aacc5,_0x134426);}export const meta={'name':'analyzeimage','description':a0_0x389114(0xe3),'usage':a0_0x389114(0xd7),'category':'AI'};export async function run({m:_0x407a17,sock:_0x2c9f07}){const _0x413ec3=a0_0x389114,_0x525656=_0x407a17[_0x413ec3(0xd3)][_0x413ec3(0xce)],_0x4d1ddd=_0x407a17['message']?.['extendedTextMessage']?.['contextInfo']?.[_0x413ec3(0xd5)];console[_0x413ec3(0xcd)]('Reply:\x20',_0x4d1ddd);if(!_0x4d1ddd)return _0x2c9f07['sendMessage'](_0x525656,{'text':_0x413ec3(0xc6)});const _0x3ad2a1=getContentType(_0x4d1ddd);if(_0x3ad2a1!==_0x413ec3(0xdc))return _0x2c9f07[_0x413ec3(0xd1)](_0x525656,{'text':_0x413ec3(0xc4)});try{const _0x30a2c6=a0_0x5ba250[_0x413ec3(0xe1)](__dirname,'..',_0x413ec3(0xdd),_0x413ec3(0xe2));if(!a0_0x5c68a2['existsSync'](_0x30a2c6))a0_0x5c68a2[_0x413ec3(0xcf)](_0x30a2c6,{'recursive':!![]});const _0x1ec0fd='image_'+Date[_0x413ec3(0xc5)]()+_0x413ec3(0xdf),_0x43903a=a0_0x5ba250['join'](_0x30a2c6,_0x1ec0fd),_0x54c72b=await downloadMediaMessage({'message':_0x4d1ddd},_0x413ec3(0xf4),{},{'logger':console,'reuploadRequest':_0x2c9f07[_0x413ec3(0xd4)]});await new Promise((_0x419789,_0x1ed859)=>{const _0x32a12a=_0x413ec3,_0x20c634=a0_0x5c68a2['createWriteStream'](_0x43903a);_0x54c72b[_0x32a12a(0xc9)](_0x20c634),_0x54c72b['on'](_0x32a12a(0xc8),_0x419789),_0x54c72b['on'](_0x32a12a(0xed),_0x1ed859);});const _0x1297f=a0_0x5c68a2[_0x413ec3(0xee)](_0x43903a,{'encoding':_0x413ec3(0xf0)}),_0x4f3b3f=await model[_0x413ec3(0xe9)]({'contents':[{'role':_0x413ec3(0xc2),'parts':[{'inlineData':{'mimeType':_0x413ec3(0xd8),'data':_0x1297f}},{'text':'Describe\x20this\x20image\x20in\x20detail.'}]}]});console[_0x413ec3(0xcd)](_0x4f3b3f);const _0x98f137=await _0x4f3b3f[_0x413ec3(0xe6)]['text']();await _0x2c9f07[_0x413ec3(0xd1)](_0x525656,{'text':_0x413ec3(0xcb)+_0x98f137}),a0_0x5c68a2[_0x413ec3(0xca)](_0x43903a);}catch(_0x26599d){console[_0x413ec3(0xed)](_0x413ec3(0xd6),_0x26599d),await _0x2c9f07[_0x413ec3(0xd1)](_0x525656,{'text':_0x413ec3(0xef)});}}