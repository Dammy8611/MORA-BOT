const a0_0x3ddb7e=a0_0x1176;function a0_0x19ed(){const _0x5660b1=['187156JzjSAc','message','5010645QpSbRA','pipe','log','Reply:\x20','contextInfo','getGenerativeModel','3976cepdnZ','key','readFileSync','url','.jpg','images','text','join','gemini-2.5-flash','temp','updateMediaMessage','secrets','extendedTextMessage','mkdirSync','6880190NJOoOj','Describe\x20this\x20image\x20in\x20detail.','656gPIYgc','generateContent','sendMessage','unlinkSync','‚ùå\x20That‚Äôs\x20not\x20an\x20image.','user','error','69464MzFWpG','6450YtnJbX','3JlMsjt','stream','3901084HFyaLU','now','apiKeys.txt','analyzeimage','split','‚ùå\x20Please\x20reply\x20to\x20an\x20image.','base64','imageMessage','response','12357bZpcUb'];a0_0x19ed=function(){return _0x5660b1;};return a0_0x19ed();}function a0_0x1176(_0xef2c41,_0xccf0fd){const _0x19ed1f=a0_0x19ed();return a0_0x1176=function(_0x1176ee,_0x2072ba){_0x1176ee=_0x1176ee-0x167;let _0x263bb0=_0x19ed1f[_0x1176ee];return _0x263bb0;},a0_0x1176(_0xef2c41,_0xccf0fd);}(function(_0x5a2f7f,_0x35e9f7){const _0x57f9d2=a0_0x1176,_0x50e8a4=_0x5a2f7f();while(!![]){try{const _0x5112cb=parseInt(_0x57f9d2(0x181))/0x1+-parseInt(_0x57f9d2(0x18f))/0x2+parseInt(_0x57f9d2(0x183))/0x3*(parseInt(_0x57f9d2(0x185))/0x4)+parseInt(_0x57f9d2(0x191))/0x5+-parseInt(_0x57f9d2(0x182))/0x6*(parseInt(_0x57f9d2(0x16a))/0x7)+-parseInt(_0x57f9d2(0x17a))/0x8*(parseInt(_0x57f9d2(0x18e))/0x9)+-parseInt(_0x57f9d2(0x178))/0xa;if(_0x5112cb===_0x35e9f7)break;else _0x50e8a4['push'](_0x50e8a4['shift']());}catch(_0x1ad15e){_0x50e8a4['push'](_0x50e8a4['shift']());}}}(a0_0x19ed,0x84581));import a0_0x51e04b from'fs';import a0_0x237f3d from'path';import{fileURLToPath}from'url';import{downloadMediaMessage,getContentType}from'baileys-pro';import{GoogleGenerativeAI}from'@google/generative-ai';const __filename=fileURLToPath(import.meta[a0_0x3ddb7e(0x16d)]),__dirname=a0_0x237f3d['dirname'](__filename),apiKeysFile=a0_0x237f3d[a0_0x3ddb7e(0x171)](__dirname,'..',a0_0x3ddb7e(0x175),a0_0x3ddb7e(0x187));if(!a0_0x51e04b['existsSync'](apiKeysFile))throw new Error('apiKeys.txt\x20not\x20found');const apiKeys=a0_0x51e04b['readFileSync'](apiKeysFile,'utf8')[a0_0x3ddb7e(0x189)](/\r?\n/)['filter'](Boolean),genAI=new GoogleGenerativeAI(apiKeys[0x0]),model=genAI[a0_0x3ddb7e(0x169)]({'model':a0_0x3ddb7e(0x172)});export const meta={'name':a0_0x3ddb7e(0x188),'description':'Analyze\x20a\x20replied\x20image\x20and\x20describe\x20it\x20using\x20AI','usage':'.analyzeimage\x20(reply\x20to\x20an\x20image)','category':'AI'};export async function run({m:_0x2961c0,sock:_0x301372}){const _0x3af22d=a0_0x3ddb7e,_0x7b24da=_0x2961c0[_0x3af22d(0x16b)]['remoteJid'],_0x1bec4b=_0x2961c0[_0x3af22d(0x190)]?.[_0x3af22d(0x176)]?.[_0x3af22d(0x168)]?.['quotedMessage'];console[_0x3af22d(0x193)](_0x3af22d(0x167),_0x1bec4b);if(!_0x1bec4b)return _0x301372[_0x3af22d(0x17c)](_0x7b24da,{'text':_0x3af22d(0x18a)});const _0xc269c8=getContentType(_0x1bec4b);if(_0xc269c8!==_0x3af22d(0x18c))return _0x301372[_0x3af22d(0x17c)](_0x7b24da,{'text':_0x3af22d(0x17e)});try{const _0x53eab0=a0_0x237f3d['join'](__dirname,'..',_0x3af22d(0x173),_0x3af22d(0x16f));if(!a0_0x51e04b['existsSync'](_0x53eab0))a0_0x51e04b[_0x3af22d(0x177)](_0x53eab0,{'recursive':!![]});const _0x23438d='image_'+Date[_0x3af22d(0x186)]()+_0x3af22d(0x16e),_0x1b878c=a0_0x237f3d['join'](_0x53eab0,_0x23438d),_0x9f0190=await downloadMediaMessage({'message':_0x1bec4b},_0x3af22d(0x184),{},{'logger':console,'reuploadRequest':_0x301372[_0x3af22d(0x174)]});await new Promise((_0x2dbac1,_0x25f199)=>{const _0x44fa7f=_0x3af22d,_0x172086=a0_0x51e04b['createWriteStream'](_0x1b878c);_0x9f0190[_0x44fa7f(0x192)](_0x172086),_0x9f0190['on']('end',_0x2dbac1),_0x9f0190['on']('error',_0x25f199);});const _0x68340=a0_0x51e04b[_0x3af22d(0x16c)](_0x1b878c,{'encoding':_0x3af22d(0x18b)}),_0x33cc02=await model[_0x3af22d(0x17b)]({'contents':[{'role':_0x3af22d(0x17f),'parts':[{'inlineData':{'mimeType':'image/jpeg','data':_0x68340}},{'text':_0x3af22d(0x179)}]}]});console[_0x3af22d(0x193)](_0x33cc02);const _0x2d2640=await _0x33cc02[_0x3af22d(0x18d)][_0x3af22d(0x170)]();await _0x301372[_0x3af22d(0x17c)](_0x7b24da,{'text':'üì∏\x20*Image\x20Analysis:*\x0a\x0a'+_0x2d2640}),a0_0x51e04b[_0x3af22d(0x17d)](_0x1b878c);}catch(_0x4caf5c){console[_0x3af22d(0x180)]('‚ùå\x20IcatchAnalysis\x20Error:',_0x4caf5c),await _0x301372[_0x3af22d(0x17c)](_0x7b24da,{'text':'‚ùå\x20Failed\x20to\x20analyze\x20the\x20image.\x20Make\x20sure\x20it‚Äôs\x20a\x20valid\x20photo\x20and\x20try\x20again.'});}}