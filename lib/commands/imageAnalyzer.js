const a0_0x1310c1=a0_0x1d6c;(function(_0x383864,_0x35c137){const _0x16fd02=a0_0x1d6c,_0x2a107b=_0x383864();while(!![]){try{const _0x37896f=-parseInt(_0x16fd02(0x150))/0x1*(parseInt(_0x16fd02(0x152))/0x2)+-parseInt(_0x16fd02(0x143))/0x3*(-parseInt(_0x16fd02(0x154))/0x4)+parseInt(_0x16fd02(0x145))/0x5+-parseInt(_0x16fd02(0x140))/0x6+parseInt(_0x16fd02(0x13c))/0x7+-parseInt(_0x16fd02(0x149))/0x8+-parseInt(_0x16fd02(0x142))/0x9;if(_0x37896f===_0x35c137)break;else _0x2a107b['push'](_0x2a107b['shift']());}catch(_0x51b9d2){_0x2a107b['push'](_0x2a107b['shift']());}}}(a0_0x291e,0x20aa9));function a0_0x1d6c(_0x5d0223,_0x380760){const _0x291ec8=a0_0x291e();return a0_0x1d6c=function(_0x1d6c78,_0x5224d9){_0x1d6c78=_0x1d6c78-0x127;let _0x2aad52=_0x291ec8[_0x1d6c78];return _0x2aad52;},a0_0x1d6c(_0x5d0223,_0x380760);}import a0_0x18e235 from'fs';import a0_0x26c725 from'path';import{fileURLToPath}from'url';import{downloadMediaMessage,getContentType}from'baileys-pro';function a0_0x291e(){const _0xc3e1c4=['remoteJid','Reply:\x20','image/jpeg','split','updateMediaMessage','stream','key','createWriteStream','url','error','existsSync','getGenerativeModel','extendedTextMessage','text','1637391MUCCMe','‚ùå\x20That‚Äôs\x20not\x20an\x20image.','quotedMessage','sendMessage','1296630SdOVBm','secrets','2081295TSOBQw','32727PVQwEH','‚ùå\x20IcatchAnalysis\x20Error:','1050725gFokOn','readFileSync','apiKeys.txt\x20not\x20found','image_','109152LpGRXc','now','join','analyzeimage','gemini-2.5-flash','images','log','12cLpBpb','generateContent','2148KwmPox','Describe\x20this\x20image\x20in\x20detail.','60kwgfNA','unlinkSync','.jpg','message','Analyze\x20a\x20replied\x20image\x20and\x20describe\x20it\x20using\x20AI','contextInfo','üì∏\x20*Image\x20Analysis:*\x0a\x0a','user'];a0_0x291e=function(){return _0xc3e1c4;};return a0_0x291e();}import{GoogleGenerativeAI}from'@google/generative-ai';const __filename=fileURLToPath(import.meta[a0_0x1310c1(0x136)]),__dirname=a0_0x26c725['dirname'](__filename),apiKeysFile=a0_0x26c725[a0_0x1310c1(0x14b)](__dirname,'..','..',a0_0x1310c1(0x141),'apiKeys.txt');if(!a0_0x18e235[a0_0x1310c1(0x138)](apiKeysFile))throw new Error(a0_0x1310c1(0x147));const apiKeys=a0_0x18e235[a0_0x1310c1(0x146)](apiKeysFile,'utf8')[a0_0x1310c1(0x131)](/\r?\n/)['filter'](Boolean),genAI=new GoogleGenerativeAI(apiKeys[0x0]),model=genAI[a0_0x1310c1(0x139)]({'model':a0_0x1310c1(0x14d)});export const meta={'name':a0_0x1310c1(0x14c),'description':a0_0x1310c1(0x12a),'usage':'.analyzeimage\x20(reply\x20to\x20an\x20image)','category':'AI'};export async function run({m:_0x66a49d,sock:_0x5dcca9}){const _0x4fd272=a0_0x1310c1,_0x2201b1=_0x66a49d[_0x4fd272(0x134)][_0x4fd272(0x12e)],_0x7a0e24=_0x66a49d[_0x4fd272(0x129)]?.[_0x4fd272(0x13a)]?.[_0x4fd272(0x12b)]?.[_0x4fd272(0x13e)];console[_0x4fd272(0x14f)](_0x4fd272(0x12f),_0x7a0e24);if(!_0x7a0e24)return _0x5dcca9[_0x4fd272(0x13f)](_0x2201b1,{'text':'‚ùå\x20Please\x20reply\x20to\x20an\x20image.'});const _0x54dedd=getContentType(_0x7a0e24);if(_0x54dedd!=='imageMessage')return _0x5dcca9[_0x4fd272(0x13f)](_0x2201b1,{'text':_0x4fd272(0x13d)});try{const _0x275e8b=a0_0x26c725[_0x4fd272(0x14b)](__dirname,'..','temp',_0x4fd272(0x14e));if(!a0_0x18e235[_0x4fd272(0x138)](_0x275e8b))a0_0x18e235['mkdirSync'](_0x275e8b,{'recursive':!![]});const _0x47775e=_0x4fd272(0x148)+Date[_0x4fd272(0x14a)]()+_0x4fd272(0x128),_0x242cc8=a0_0x26c725[_0x4fd272(0x14b)](_0x275e8b,_0x47775e),_0x5127e6=await downloadMediaMessage({'message':_0x7a0e24},_0x4fd272(0x133),{},{'logger':console,'reuploadRequest':_0x5dcca9[_0x4fd272(0x132)]});await new Promise((_0x2ac513,_0x48abdd)=>{const _0x16a748=_0x4fd272,_0xa15abe=a0_0x18e235[_0x16a748(0x135)](_0x242cc8);_0x5127e6['pipe'](_0xa15abe),_0x5127e6['on']('end',_0x2ac513),_0x5127e6['on'](_0x16a748(0x137),_0x48abdd);});const _0xdd487f=a0_0x18e235[_0x4fd272(0x146)](_0x242cc8,{'encoding':'base64'}),_0x5293bb=await model[_0x4fd272(0x151)]({'contents':[{'role':_0x4fd272(0x12d),'parts':[{'inlineData':{'mimeType':_0x4fd272(0x130),'data':_0xdd487f}},{'text':_0x4fd272(0x153)}]}]});console[_0x4fd272(0x14f)](_0x5293bb);const _0x506f7f=await _0x5293bb['response'][_0x4fd272(0x13b)]();await _0x5dcca9['sendMessage'](_0x2201b1,{'text':_0x4fd272(0x12c)+_0x506f7f}),a0_0x18e235[_0x4fd272(0x127)](_0x242cc8);}catch(_0x2766df){console['error'](_0x4fd272(0x144),_0x2766df),await _0x5dcca9['sendMessage'](_0x2201b1,{'text':'‚ùå\x20Failed\x20to\x20analyze\x20the\x20image.\x20Make\x20sure\x20it‚Äôs\x20a\x20valid\x20photo\x20and\x20try\x20again.'});}}