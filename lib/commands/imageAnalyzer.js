const a0_0x24f646=a0_0x302e;(function(_0x224a43,_0x50410b){const _0x5939e0=a0_0x302e,_0x53e9ac=_0x224a43();while(!![]){try{const _0x403921=parseInt(_0x5939e0(0xca))/0x1*(-parseInt(_0x5939e0(0xb0))/0x2)+parseInt(_0x5939e0(0xc1))/0x3*(-parseInt(_0x5939e0(0xcb))/0x4)+parseInt(_0x5939e0(0xbf))/0x5+parseInt(_0x5939e0(0xd4))/0x6*(parseInt(_0x5939e0(0xb9))/0x7)+-parseInt(_0x5939e0(0xd3))/0x8*(parseInt(_0x5939e0(0xb8))/0x9)+parseInt(_0x5939e0(0xbd))/0xa*(-parseInt(_0x5939e0(0xb4))/0xb)+parseInt(_0x5939e0(0xb3))/0xc;if(_0x403921===_0x50410b)break;else _0x53e9ac['push'](_0x53e9ac['shift']());}catch(_0x291066){_0x53e9ac['push'](_0x53e9ac['shift']());}}}(a0_0x4c66,0x2d02d));function a0_0x302e(_0x9ec13e,_0xc2469d){const _0x4c6683=a0_0x4c66();return a0_0x302e=function(_0x302e6f,_0x1adc32){_0x302e6f=_0x302e6f-0xad;let _0x385cfa=_0x4c6683[_0x302e6f];return _0x385cfa;},a0_0x302e(_0x9ec13e,_0xc2469d);}import a0_0x2eede7 from'fs';import a0_0x25ef81 from'path';import{fileURLToPath}from'url';import{downloadMediaMessage,getContentType}from'baileys-pro';function a0_0x4c66(){const _0x309ddd=['stream','existsSync','quotedMessage','Analyze\x20a\x20replied\x20image\x20and\x20describe\x20it\x20using\x20AI','sendMessage','7ZaogcY','552fEMJcm','❌\x20Failed\x20to\x20analyze\x20the\x20image.\x20Make\x20sure\x20it’s\x20a\x20valid\x20photo\x20and\x20try\x20again.','apiKeys.txt\x20not\x20found','image/jpeg','Describe\x20this\x20image\x20in\x20detail.','base64','pipe','imageMessage','220496sAyZrt','64374RtRuoO','end','readFileSync','.jpg','secrets','message','image_','unlinkSync','user','❌\x20IcatchAnalysis\x20Error:','join','now','createWriteStream','contextInfo','filter','❌\x20That’s\x20not\x20an\x20image.','11788EDaNKR','split','error','8272596hdaAXN','1265297teejFA','remoteJid','utf8','getGenerativeModel','36Xduazr','7jbYsvk','temp','response','.analyzeimage\x20(reply\x20to\x20an\x20image)','30bHXEbU','apiKeys.txt','834320GhypKm','log','4044ldMmNI','generateContent','📸\x20*Image\x20Analysis:*\x0a\x0a','❌\x20Please\x20reply\x20to\x20an\x20image.'];a0_0x4c66=function(){return _0x309ddd;};return a0_0x4c66();}import{GoogleGenerativeAI}from'@google/generative-ai';const __filename=fileURLToPath(import.meta['url']),__dirname=a0_0x25ef81['dirname'](__filename),apiKeysFile=a0_0x25ef81[a0_0x24f646(0xde)](__dirname,'..','..',a0_0x24f646(0xd8),a0_0x24f646(0xbe));if(!a0_0x2eede7[a0_0x24f646(0xc6)](apiKeysFile))throw new Error(a0_0x24f646(0xcd));const apiKeys=a0_0x2eede7[a0_0x24f646(0xd6)](apiKeysFile,a0_0x24f646(0xb6))[a0_0x24f646(0xb1)](/\r?\n/)[a0_0x24f646(0xae)](Boolean),genAI=new GoogleGenerativeAI(apiKeys[0x0]),model=genAI[a0_0x24f646(0xb7)]({'model':'gemini-2.5-flash'});export const meta={'name':'analyzeimage','description':a0_0x24f646(0xc8),'usage':a0_0x24f646(0xbc),'category':'AI'};export async function run({m:_0x4c2452,sock:_0x255c0e}){const _0x408a79=a0_0x24f646,_0x111aad=_0x4c2452['key'][_0x408a79(0xb5)],_0xb69ced=_0x4c2452[_0x408a79(0xd9)]?.['extendedTextMessage']?.[_0x408a79(0xad)]?.[_0x408a79(0xc7)];console[_0x408a79(0xc0)]('Reply:\x20',_0xb69ced);if(!_0xb69ced)return _0x255c0e[_0x408a79(0xc9)](_0x111aad,{'text':_0x408a79(0xc4)});const _0x4610d5=getContentType(_0xb69ced);if(_0x4610d5!==_0x408a79(0xd2))return _0x255c0e[_0x408a79(0xc9)](_0x111aad,{'text':_0x408a79(0xaf)});try{const _0x436999=a0_0x25ef81['join'](__dirname,'..',_0x408a79(0xba),'images');if(!a0_0x2eede7[_0x408a79(0xc6)](_0x436999))a0_0x2eede7['mkdirSync'](_0x436999,{'recursive':!![]});const _0x445e94=_0x408a79(0xda)+Date[_0x408a79(0xdf)]()+_0x408a79(0xd7),_0x2ca9f9=a0_0x25ef81[_0x408a79(0xde)](_0x436999,_0x445e94),_0x696817=await downloadMediaMessage({'message':_0xb69ced},_0x408a79(0xc5),{},{'logger':console,'reuploadRequest':_0x255c0e['updateMediaMessage']});await new Promise((_0x27005e,_0x3859ca)=>{const _0x408421=_0x408a79,_0x3cec0d=a0_0x2eede7[_0x408421(0xe0)](_0x2ca9f9);_0x696817[_0x408421(0xd1)](_0x3cec0d),_0x696817['on'](_0x408421(0xd5),_0x27005e),_0x696817['on'](_0x408421(0xb2),_0x3859ca);});const _0x44f7b4=a0_0x2eede7[_0x408a79(0xd6)](_0x2ca9f9,{'encoding':_0x408a79(0xd0)}),_0x30b5b5=await model[_0x408a79(0xc2)]({'contents':[{'role':_0x408a79(0xdc),'parts':[{'inlineData':{'mimeType':_0x408a79(0xce),'data':_0x44f7b4}},{'text':_0x408a79(0xcf)}]}]});console[_0x408a79(0xc0)](_0x30b5b5);const _0x28cd55=await _0x30b5b5[_0x408a79(0xbb)]['text']();await _0x255c0e['sendMessage'](_0x111aad,{'text':_0x408a79(0xc3)+_0x28cd55}),a0_0x2eede7[_0x408a79(0xdb)](_0x2ca9f9);}catch(_0x21d33d){console[_0x408a79(0xb2)](_0x408a79(0xdd),_0x21d33d),await _0x255c0e[_0x408a79(0xc9)](_0x111aad,{'text':_0x408a79(0xcc)});}}