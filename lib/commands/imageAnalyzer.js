const a0_0x230cb5=a0_0xb530;(function(_0x3a1d75,_0x4f4b51){const _0xbcf34=a0_0xb530,_0x1f6512=_0x3a1d75();while(!![]){try{const _0x37f351=parseInt(_0xbcf34(0xfb))/0x1+-parseInt(_0xbcf34(0x112))/0x2+parseInt(_0xbcf34(0x111))/0x3+parseInt(_0xbcf34(0x11a))/0x4+parseInt(_0xbcf34(0x110))/0x5*(-parseInt(_0xbcf34(0x116))/0x6)+-parseInt(_0xbcf34(0x11b))/0x7*(-parseInt(_0xbcf34(0x10c))/0x8)+-parseInt(_0xbcf34(0xfd))/0x9*(-parseInt(_0xbcf34(0x11e))/0xa);if(_0x37f351===_0x4f4b51)break;else _0x1f6512['push'](_0x1f6512['shift']());}catch(_0x1d2310){_0x1f6512['push'](_0x1f6512['shift']());}}}(a0_0x154c,0x571b9));import a0_0x528ab3 from'fs';import a0_0x85da5a from'path';import{fileURLToPath}from'url';import{downloadMediaMessage,getContentType}from'baileys-pro';import{GoogleGenerativeAI}from'@google/generative-ai';function a0_0x154c(){const _0x4331ee=['158664lwdQOc','contextInfo','72279hXXIYq','text','message','response','images','filter','error','analyzeimage','Reply:\x20','apiKeys.txt\x20not\x20found','image/jpeg','sendMessage','log','existsSync','dirname','1089568siDLzW','pipe','‚ùå\x20Please\x20reply\x20to\x20an\x20image.','apiKeys.txt','2665mgMoOs','163497JKaAqq','1146236epgTCt','.jpg','stream','gemini-2.5-flash','5334Mtyifa','secrets','split','unlinkSync','1936752DMZJFI','7nZDTLj','createWriteStream','readFileSync','710NUYHKE','image_','‚ùå\x20That‚Äôs\x20not\x20an\x20image.','.analyzeimage\x20(reply\x20to\x20an\x20image)','base64','mkdirSync','utf8','getGenerativeModel'];a0_0x154c=function(){return _0x4331ee;};return a0_0x154c();}const __filename=fileURLToPath(import.meta['url']),__dirname=a0_0x85da5a[a0_0x230cb5(0x10b)](__filename),apiKeysFile=a0_0x85da5a['join'](__dirname,'..','..',a0_0x230cb5(0x117),a0_0x230cb5(0x10f));if(!a0_0x528ab3[a0_0x230cb5(0x10a)](apiKeysFile))throw new Error(a0_0x230cb5(0x106));const apiKeys=a0_0x528ab3[a0_0x230cb5(0x11d)](apiKeysFile,a0_0x230cb5(0xf9))[a0_0x230cb5(0x118)](/\r?\n/)[a0_0x230cb5(0x102)](Boolean),genAI=new GoogleGenerativeAI(apiKeys[0x0]),model=genAI[a0_0x230cb5(0xfa)]({'model':a0_0x230cb5(0x115)});export const meta={'name':a0_0x230cb5(0x104),'description':'Analyze\x20a\x20replied\x20image\x20and\x20describe\x20it\x20using\x20AI','usage':a0_0x230cb5(0xf6),'category':'AI'};function a0_0xb530(_0x5b9ab8,_0x5d9fef){const _0x154c0d=a0_0x154c();return a0_0xb530=function(_0xb530c3,_0x306d73){_0xb530c3=_0xb530c3-0xf5;let _0x30bd50=_0x154c0d[_0xb530c3];return _0x30bd50;},a0_0xb530(_0x5b9ab8,_0x5d9fef);}export async function run({m:_0x2bc098,sock:_0x5c18b2}){const _0x47d7b4=a0_0x230cb5,_0x4c6704=_0x2bc098['key']['remoteJid'],_0x3325b6=_0x2bc098[_0x47d7b4(0xff)]?.['extendedTextMessage']?.[_0x47d7b4(0xfc)]?.['quotedMessage'];console[_0x47d7b4(0x109)](_0x47d7b4(0x105),_0x3325b6);if(!_0x3325b6)return _0x5c18b2[_0x47d7b4(0x108)](_0x4c6704,{'text':_0x47d7b4(0x10e)});const _0x1ce5f9=getContentType(_0x3325b6);if(_0x1ce5f9!=='imageMessage')return _0x5c18b2[_0x47d7b4(0x108)](_0x4c6704,{'text':_0x47d7b4(0xf5)});try{const _0x475007=a0_0x85da5a['join'](__dirname,'..','temp',_0x47d7b4(0x101));if(!a0_0x528ab3['existsSync'](_0x475007))a0_0x528ab3[_0x47d7b4(0xf8)](_0x475007,{'recursive':!![]});const _0x3fa7b0=_0x47d7b4(0x11f)+Date['now']()+_0x47d7b4(0x113),_0x5b2882=a0_0x85da5a['join'](_0x475007,_0x3fa7b0),_0x1b8f82=await downloadMediaMessage({'message':_0x3325b6},_0x47d7b4(0x114),{},{'logger':console,'reuploadRequest':_0x5c18b2['updateMediaMessage']});await new Promise((_0x19f2d2,_0x305d72)=>{const _0x7a2e32=_0x47d7b4,_0x1c5f1f=a0_0x528ab3[_0x7a2e32(0x11c)](_0x5b2882);_0x1b8f82[_0x7a2e32(0x10d)](_0x1c5f1f),_0x1b8f82['on']('end',_0x19f2d2),_0x1b8f82['on']('error',_0x305d72);});const _0x97243f=a0_0x528ab3[_0x47d7b4(0x11d)](_0x5b2882,{'encoding':_0x47d7b4(0xf7)}),_0x39617b=await model['generateContent']({'contents':[{'role':'user','parts':[{'inlineData':{'mimeType':_0x47d7b4(0x107),'data':_0x97243f}},{'text':'Describe\x20this\x20image\x20in\x20detail.'}]}]});console[_0x47d7b4(0x109)](_0x39617b);const _0x41fd8b=await _0x39617b[_0x47d7b4(0x100)][_0x47d7b4(0xfe)]();await _0x5c18b2[_0x47d7b4(0x108)](_0x4c6704,{'text':'üì∏\x20*Image\x20Analysis:*\x0a\x0a'+_0x41fd8b}),a0_0x528ab3[_0x47d7b4(0x119)](_0x5b2882);}catch(_0x25d1ed){console[_0x47d7b4(0x103)]('‚ùå\x20IcatchAnalysis\x20Error:',_0x25d1ed),await _0x5c18b2[_0x47d7b4(0x108)](_0x4c6704,{'text':'‚ùå\x20Failed\x20to\x20analyze\x20the\x20image.\x20Make\x20sure\x20it‚Äôs\x20a\x20valid\x20photo\x20and\x20try\x20again.'});}}