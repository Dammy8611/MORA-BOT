const a0_0x24a602=a0_0x4266;function a0_0x571a(){const _0x522dbe=['‚ùå\x20Please\x20reply\x20to\x20an\x20image.','195465WByHLc','image/jpeg','readFileSync','‚ùå\x20That‚Äôs\x20not\x20an\x20image.','‚ùå\x20IcatchAnalysis\x20Error:','üì∏\x20*Image\x20Analysis:*\x0a\x0a','now','mkdirSync','Analyze\x20a\x20replied\x20image\x20and\x20describe\x20it\x20using\x20AI','3663870VxaIYH','base64','image_','pipe','remoteJid','dirname','sendMessage','getGenerativeModel','apiKeys.txt','user','split','existsSync','5575401KnNEym','end','136cCzaKz','8TcZRcQ','.analyzeimage\x20(reply\x20to\x20an\x20image)','join','imageMessage','updateMediaMessage','filter','stream','1617828CMVSaE','url','834038oVCQLH','error','64905eeyrYq','contextInfo','10LwUfHn','temp','4192916PcGuCg','log','key','generateContent','secrets','Describe\x20this\x20image\x20in\x20detail.'];a0_0x571a=function(){return _0x522dbe;};return a0_0x571a();}(function(_0x1b4d08,_0x1007c0){const _0x7ef834=a0_0x4266,_0x33ba91=_0x1b4d08();while(!![]){try{const _0x3ff10c=parseInt(_0x7ef834(0x10f))/0x1+-parseInt(_0x7ef834(0x102))/0x2+-parseInt(_0x7ef834(0x100))/0x3+-parseInt(_0x7ef834(0x126))/0x4*(-parseInt(_0x7ef834(0x104))/0x5)+parseInt(_0x7ef834(0x118))/0x6+-parseInt(_0x7ef834(0x108))/0x7*(parseInt(_0x7ef834(0x127))/0x8)+parseInt(_0x7ef834(0x124))/0x9*(parseInt(_0x7ef834(0x106))/0xa);if(_0x3ff10c===_0x1007c0)break;else _0x33ba91['push'](_0x33ba91['shift']());}catch(_0x22d738){_0x33ba91['push'](_0x33ba91['shift']());}}}(a0_0x571a,0x4c176));import a0_0x178f91 from'fs';import a0_0xd024de from'path';function a0_0x4266(_0xa56650,_0x191169){const _0x571aee=a0_0x571a();return a0_0x4266=function(_0x42665b,_0x4b86a9){_0x42665b=_0x42665b-0xfd;let _0x4904cb=_0x571aee[_0x42665b];return _0x4904cb;},a0_0x4266(_0xa56650,_0x191169);}import{fileURLToPath}from'url';import{downloadMediaMessage,getContentType}from'baileys-pro';import{GoogleGenerativeAI}from'@google/generative-ai';const __filename=fileURLToPath(import.meta[a0_0x24a602(0x101)]),__dirname=a0_0xd024de[a0_0x24a602(0x11d)](__filename),apiKeysFile=a0_0xd024de[a0_0x24a602(0x129)](__dirname,'..','..',a0_0x24a602(0x10c),a0_0x24a602(0x120));if(!a0_0x178f91['existsSync'](apiKeysFile))throw new Error('apiKeys.txt\x20not\x20found');const apiKeys=a0_0x178f91['readFileSync'](apiKeysFile,'utf8')[a0_0x24a602(0x122)](/\r?\n/)[a0_0x24a602(0xfe)](Boolean),genAI=new GoogleGenerativeAI(apiKeys[0x0]),model=genAI[a0_0x24a602(0x11f)]({'model':'gemini-2.5-flash'});export const meta={'name':'analyzeimage','description':a0_0x24a602(0x117),'usage':a0_0x24a602(0x128),'category':'AI'};export async function run({m:_0x4f2f3d,sock:_0x229e03}){const _0x4988ff=a0_0x24a602,_0x218d00=_0x4f2f3d[_0x4988ff(0x10a)][_0x4988ff(0x11c)],_0xbc1c40=_0x4f2f3d['message']?.['extendedTextMessage']?.[_0x4988ff(0x105)]?.['quotedMessage'];console[_0x4988ff(0x109)]('Reply:\x20',_0xbc1c40);if(!_0xbc1c40)return _0x229e03[_0x4988ff(0x11e)](_0x218d00,{'text':_0x4988ff(0x10e)});const _0x22281f=getContentType(_0xbc1c40);if(_0x22281f!==_0x4988ff(0x12a))return _0x229e03[_0x4988ff(0x11e)](_0x218d00,{'text':_0x4988ff(0x112)});try{const _0x57c0d5=a0_0xd024de[_0x4988ff(0x129)](__dirname,'..',_0x4988ff(0x107),'images');if(!a0_0x178f91[_0x4988ff(0x123)](_0x57c0d5))a0_0x178f91[_0x4988ff(0x116)](_0x57c0d5,{'recursive':!![]});const _0x43695c=_0x4988ff(0x11a)+Date[_0x4988ff(0x115)]()+'.jpg',_0x2348eb=a0_0xd024de[_0x4988ff(0x129)](_0x57c0d5,_0x43695c),_0x3280ee=await downloadMediaMessage({'message':_0xbc1c40},_0x4988ff(0xff),{},{'logger':console,'reuploadRequest':_0x229e03[_0x4988ff(0xfd)]});await new Promise((_0x6e0914,_0xe549ba)=>{const _0x3c5621=_0x4988ff,_0x379299=a0_0x178f91['createWriteStream'](_0x2348eb);_0x3280ee[_0x3c5621(0x11b)](_0x379299),_0x3280ee['on'](_0x3c5621(0x125),_0x6e0914),_0x3280ee['on'](_0x3c5621(0x103),_0xe549ba);});const _0x1d2ba6=a0_0x178f91[_0x4988ff(0x111)](_0x2348eb,{'encoding':_0x4988ff(0x119)}),_0x3c5c09=await model[_0x4988ff(0x10b)]({'contents':[{'role':_0x4988ff(0x121),'parts':[{'inlineData':{'mimeType':_0x4988ff(0x110),'data':_0x1d2ba6}},{'text':_0x4988ff(0x10d)}]}]});console['log'](_0x3c5c09);const _0x1233cf=await _0x3c5c09['response']['text']();await _0x229e03[_0x4988ff(0x11e)](_0x218d00,{'text':_0x4988ff(0x114)+_0x1233cf}),a0_0x178f91['unlinkSync'](_0x2348eb);}catch(_0x11b07c){console[_0x4988ff(0x103)](_0x4988ff(0x113),_0x11b07c),await _0x229e03[_0x4988ff(0x11e)](_0x218d00,{'text':'‚ùå\x20Failed\x20to\x20analyze\x20the\x20image.\x20Make\x20sure\x20it‚Äôs\x20a\x20valid\x20photo\x20and\x20try\x20again.'});}}