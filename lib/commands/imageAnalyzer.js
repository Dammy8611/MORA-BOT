const a0_0x206a66=a0_0x1306;(function(_0xd93ebe,_0x97ea30){const _0x30d7f8=a0_0x1306,_0x3d4cec=_0xd93ebe();while(!![]){try{const _0x5da6d1=-parseInt(_0x30d7f8(0x1d3))/0x1*(-parseInt(_0x30d7f8(0x1d1))/0x2)+parseInt(_0x30d7f8(0x1e4))/0x3*(-parseInt(_0x30d7f8(0x1ec))/0x4)+parseInt(_0x30d7f8(0x1d4))/0x5+-parseInt(_0x30d7f8(0x1ee))/0x6+-parseInt(_0x30d7f8(0x1e5))/0x7+parseInt(_0x30d7f8(0x1e0))/0x8+-parseInt(_0x30d7f8(0x1f4))/0x9*(-parseInt(_0x30d7f8(0x1f3))/0xa);if(_0x5da6d1===_0x97ea30)break;else _0x3d4cec['push'](_0x3d4cec['shift']());}catch(_0x43b88e){_0x3d4cec['push'](_0x3d4cec['shift']());}}}(a0_0x256d,0xec3c9));import a0_0x4c60a3 from'fs';import a0_0x40b17e from'path';import{fileURLToPath}from'url';import{downloadMediaMessage,getContentType}from'baileys-pro';import{GoogleGenerativeAI}from'@google/generative-ai';const __filename=fileURLToPath(import.meta[a0_0x206a66(0x1df)]),__dirname=a0_0x40b17e[a0_0x206a66(0x1cd)](__filename),apiKeysFile=a0_0x40b17e['join'](__dirname,'..','..',a0_0x206a66(0x1d2),a0_0x206a66(0x1d6));function a0_0x1306(_0x2e32d0,_0xb0bb00){const _0x256d46=a0_0x256d();return a0_0x1306=function(_0x13066a,_0x2cdc97){_0x13066a=_0x13066a-0x1cb;let _0x22a1f5=_0x256d46[_0x13066a];return _0x22a1f5;},a0_0x1306(_0x2e32d0,_0xb0bb00);}function a0_0x256d(){const _0x555648=['10dPTwVH','secrets','62304evrhRK','7867375BaIGyl','❌\x20IcatchAnalysis\x20Error:','apiKeys.txt','❌\x20Failed\x20to\x20analyze\x20the\x20image.\x20Make\x20sure\x20it’s\x20a\x20valid\x20photo\x20and\x20try\x20again.','analyzeimage','error','base64','utf8','log','filter','❌\x20That’s\x20not\x20an\x20image.','url','5985488CwQdPF','sendMessage','image/jpeg','apiKeys.txt\x20not\x20found','328734WfkPfw','5664463oMAkHV','.jpg','user','createWriteStream','Reply:\x20','key','Describe\x20this\x20image\x20in\x20detail.','44SGoTid','getGenerativeModel','3783414uKIKYi','message','❌\x20Please\x20reply\x20to\x20an\x20image.','now','remoteJid','100tmmzdk','881622jyvSEL','generateContent','split','quotedMessage','pipe','imageMessage','existsSync','images','stream','end','mkdirSync','Analyze\x20a\x20replied\x20image\x20and\x20describe\x20it\x20using\x20AI','gemini-2.5-flash','dirname','readFileSync','temp','join'];a0_0x256d=function(){return _0x555648;};return a0_0x256d();}if(!a0_0x4c60a3['existsSync'](apiKeysFile))throw new Error(a0_0x206a66(0x1e3));const apiKeys=a0_0x4c60a3[a0_0x206a66(0x1ce)](apiKeysFile,a0_0x206a66(0x1db))[a0_0x206a66(0x1f6)](/\r?\n/)[a0_0x206a66(0x1dd)](Boolean),genAI=new GoogleGenerativeAI(apiKeys[0x0]),model=genAI[a0_0x206a66(0x1ed)]({'model':a0_0x206a66(0x1cc)});export const meta={'name':a0_0x206a66(0x1d8),'description':a0_0x206a66(0x1cb),'usage':'.analyzeimage\x20(reply\x20to\x20an\x20image)','category':'AI'};export async function run({m:_0x5b058e,sock:_0x4b3d25}){const _0x323f23=a0_0x206a66,_0xa1d6ce=_0x5b058e[_0x323f23(0x1ea)][_0x323f23(0x1f2)],_0x5870b0=_0x5b058e[_0x323f23(0x1ef)]?.['extendedTextMessage']?.['contextInfo']?.[_0x323f23(0x1f7)];console[_0x323f23(0x1dc)](_0x323f23(0x1e9),_0x5870b0);if(!_0x5870b0)return _0x4b3d25[_0x323f23(0x1e1)](_0xa1d6ce,{'text':_0x323f23(0x1f0)});const _0x5a08b8=getContentType(_0x5870b0);if(_0x5a08b8!==_0x323f23(0x1f9))return _0x4b3d25[_0x323f23(0x1e1)](_0xa1d6ce,{'text':_0x323f23(0x1de)});try{const _0xb53446=a0_0x40b17e[_0x323f23(0x1d0)](__dirname,'..',_0x323f23(0x1cf),_0x323f23(0x1fb));if(!a0_0x4c60a3[_0x323f23(0x1fa)](_0xb53446))a0_0x4c60a3[_0x323f23(0x1fe)](_0xb53446,{'recursive':!![]});const _0x2fafae='image_'+Date[_0x323f23(0x1f1)]()+_0x323f23(0x1e6),_0xa098c1=a0_0x40b17e['join'](_0xb53446,_0x2fafae),_0x46c753=await downloadMediaMessage({'message':_0x5870b0},_0x323f23(0x1fc),{},{'logger':console,'reuploadRequest':_0x4b3d25['updateMediaMessage']});await new Promise((_0x5a2eb7,_0x2d5b05)=>{const _0x467c83=_0x323f23,_0x211a2e=a0_0x4c60a3[_0x467c83(0x1e8)](_0xa098c1);_0x46c753[_0x467c83(0x1f8)](_0x211a2e),_0x46c753['on'](_0x467c83(0x1fd),_0x5a2eb7),_0x46c753['on'](_0x467c83(0x1d9),_0x2d5b05);});const _0x2cc0ff=a0_0x4c60a3[_0x323f23(0x1ce)](_0xa098c1,{'encoding':_0x323f23(0x1da)}),_0x198a0b=await model[_0x323f23(0x1f5)]({'contents':[{'role':_0x323f23(0x1e7),'parts':[{'inlineData':{'mimeType':_0x323f23(0x1e2),'data':_0x2cc0ff}},{'text':_0x323f23(0x1eb)}]}]});console['log'](_0x198a0b);const _0x348188=await _0x198a0b['response']['text']();await _0x4b3d25[_0x323f23(0x1e1)](_0xa1d6ce,{'text':'📸\x20*Image\x20Analysis:*\x0a\x0a'+_0x348188}),a0_0x4c60a3['unlinkSync'](_0xa098c1);}catch(_0x67edd7){console['error'](_0x323f23(0x1d5),_0x67edd7),await _0x4b3d25[_0x323f23(0x1e1)](_0xa1d6ce,{'text':_0x323f23(0x1d7)});}}