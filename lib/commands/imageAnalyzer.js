const a0_0x33d05f=a0_0x4480;(function(_0x39d1d6,_0x41f397){const _0x54c9d8=a0_0x4480,_0x4cd5f8=_0x39d1d6();while(!![]){try{const _0xadb41f=-parseInt(_0x54c9d8(0x115))/0x1*(parseInt(_0x54c9d8(0x10e))/0x2)+-parseInt(_0x54c9d8(0x108))/0x3+-parseInt(_0x54c9d8(0x112))/0x4+-parseInt(_0x54c9d8(0x10c))/0x5+-parseInt(_0x54c9d8(0x10a))/0x6*(-parseInt(_0x54c9d8(0x117))/0x7)+parseInt(_0x54c9d8(0x111))/0x8+parseInt(_0x54c9d8(0x101))/0x9;if(_0xadb41f===_0x41f397)break;else _0x4cd5f8['push'](_0x4cd5f8['shift']());}catch(_0x403d6a){_0x4cd5f8['push'](_0x4cd5f8['shift']());}}}(a0_0x3509,0x4aa68));import a0_0x3c53ee from'fs';function a0_0x4480(_0xc845c8,_0xd8802d){const _0x350995=a0_0x3509();return a0_0x4480=function(_0x4480b5,_0x3a84b7){_0x4480b5=_0x4480b5-0xf5;let _0x4bea8b=_0x350995[_0x4480b5];return _0x4bea8b;},a0_0x4480(_0xc845c8,_0xd8802d);}import a0_0x2680ef from'path';import{fileURLToPath}from'url';import{downloadMediaMessage,getContentType}from'baileys-pro';import{GoogleGenerativeAI}from'@google/generative-ai';const __filename=fileURLToPath(import.meta[a0_0x33d05f(0x10d)]),__dirname=a0_0x2680ef[a0_0x33d05f(0x127)](__filename),apiKeysFile=a0_0x2680ef[a0_0x33d05f(0x11f)](__dirname,'..','..',a0_0x33d05f(0x11d),a0_0x33d05f(0x123));if(!a0_0x3c53ee[a0_0x33d05f(0x104)](apiKeysFile))throw new Error('apiKeys.txt\x20not\x20found');const apiKeys=a0_0x3c53ee[a0_0x33d05f(0x103)](apiKeysFile,'utf8')[a0_0x33d05f(0x107)](/\r?\n/)[a0_0x33d05f(0xfb)](Boolean),genAI=new GoogleGenerativeAI(apiKeys[0x0]),model=genAI[a0_0x33d05f(0x126)]({'model':a0_0x33d05f(0xff)});export const meta={'name':a0_0x33d05f(0x119),'description':a0_0x33d05f(0x105),'usage':'.analyzeimage\x20(reply\x20to\x20an\x20image)','category':'AI'};function a0_0x3509(){const _0x461795=['apiKeys.txt','now','üì∏\x20*Image\x20Analysis:*\x0a\x0a','getGenerativeModel','dirname','image/jpeg','base64','error','key','response','image_','filter','generateContent','stream','extendedTextMessage','gemini-2.5-flash','pipe','1024947WuzSPX','remoteJid','readFileSync','existsSync','Analyze\x20a\x20replied\x20image\x20and\x20describe\x20it\x20using\x20AI','log','split','779010jowwNT','Describe\x20this\x20image\x20in\x20detail.','888108xtPQiu','.jpg','1107125NEKzqN','url','202rBZjnU','sendMessage','imageMessage','3523096CVCFSE','1304192SaCvWB','mkdirSync','‚ùå\x20IcatchAnalysis\x20Error:','331qZDIaz','message','28SkVwMB','end','analyzeimage','‚ùå\x20That‚Äôs\x20not\x20an\x20image.','user','text','secrets','contextInfo','join','unlinkSync','Reply:\x20','temp'];a0_0x3509=function(){return _0x461795;};return a0_0x3509();}export async function run({m:_0x5a8ae9,sock:_0x9d95dc}){const _0x7ae075=a0_0x33d05f,_0x502eeb=_0x5a8ae9[_0x7ae075(0xf8)][_0x7ae075(0x102)],_0x2dd57a=_0x5a8ae9[_0x7ae075(0x116)]?.[_0x7ae075(0xfe)]?.[_0x7ae075(0x11e)]?.['quotedMessage'];console[_0x7ae075(0x106)](_0x7ae075(0x121),_0x2dd57a);if(!_0x2dd57a)return _0x9d95dc[_0x7ae075(0x10f)](_0x502eeb,{'text':'‚ùå\x20Please\x20reply\x20to\x20an\x20image.'});const _0x199ea7=getContentType(_0x2dd57a);if(_0x199ea7!==_0x7ae075(0x110))return _0x9d95dc[_0x7ae075(0x10f)](_0x502eeb,{'text':_0x7ae075(0x11a)});try{const _0x1412e6=a0_0x2680ef[_0x7ae075(0x11f)](__dirname,'..',_0x7ae075(0x122),'images');if(!a0_0x3c53ee[_0x7ae075(0x104)](_0x1412e6))a0_0x3c53ee[_0x7ae075(0x113)](_0x1412e6,{'recursive':!![]});const _0x471b50=_0x7ae075(0xfa)+Date[_0x7ae075(0x124)]()+_0x7ae075(0x10b),_0x133dd0=a0_0x2680ef[_0x7ae075(0x11f)](_0x1412e6,_0x471b50),_0x350cf7=await downloadMediaMessage({'message':_0x2dd57a},_0x7ae075(0xfd),{},{'logger':console,'reuploadRequest':_0x9d95dc['updateMediaMessage']});await new Promise((_0x403949,_0x77afe6)=>{const _0xafef49=_0x7ae075,_0x1fb67a=a0_0x3c53ee['createWriteStream'](_0x133dd0);_0x350cf7[_0xafef49(0x100)](_0x1fb67a),_0x350cf7['on'](_0xafef49(0x118),_0x403949),_0x350cf7['on'](_0xafef49(0xf7),_0x77afe6);});const _0x28b852=a0_0x3c53ee[_0x7ae075(0x103)](_0x133dd0,{'encoding':_0x7ae075(0xf6)}),_0xb66320=await model[_0x7ae075(0xfc)]({'contents':[{'role':_0x7ae075(0x11b),'parts':[{'inlineData':{'mimeType':_0x7ae075(0xf5),'data':_0x28b852}},{'text':_0x7ae075(0x109)}]}]});console[_0x7ae075(0x106)](_0xb66320);const _0xa3e7a7=await _0xb66320[_0x7ae075(0xf9)][_0x7ae075(0x11c)]();await _0x9d95dc[_0x7ae075(0x10f)](_0x502eeb,{'text':_0x7ae075(0x125)+_0xa3e7a7}),a0_0x3c53ee[_0x7ae075(0x120)](_0x133dd0);}catch(_0x271d85){console[_0x7ae075(0xf7)](_0x7ae075(0x114),_0x271d85),await _0x9d95dc[_0x7ae075(0x10f)](_0x502eeb,{'text':'‚ùå\x20Failed\x20to\x20analyze\x20the\x20image.\x20Make\x20sure\x20it‚Äôs\x20a\x20valid\x20photo\x20and\x20try\x20again.'});}}