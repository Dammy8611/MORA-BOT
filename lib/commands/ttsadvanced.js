const a0_0x3efdc1=a0_0x4604;(function(_0x246c48,_0x27679a){const _0x5edd6f=a0_0x4604,_0x4891c9=_0x246c48();while(!![]){try{const _0x12be00=parseInt(_0x5edd6f(0x98))/0x1*(parseInt(_0x5edd6f(0xab))/0x2)+-parseInt(_0x5edd6f(0x94))/0x3*(-parseInt(_0x5edd6f(0xa5))/0x4)+parseInt(_0x5edd6f(0x9e))/0x5*(parseInt(_0x5edd6f(0x9d))/0x6)+parseInt(_0x5edd6f(0xa2))/0x7+-parseInt(_0x5edd6f(0xc3))/0x8+-parseInt(_0x5edd6f(0xbb))/0x9*(-parseInt(_0x5edd6f(0xc7))/0xa)+-parseInt(_0x5edd6f(0xa7))/0xb;if(_0x12be00===_0x27679a)break;else _0x4891c9['push'](_0x4891c9['shift']());}catch(_0x24fbc3){_0x4891c9['push'](_0x4891c9['shift']());}}}(a0_0x2bb7,0x92db0));function a0_0x2bb7(){const _0x26cf30=['utf8','find','keys','text','sendMessage','@google/generative-ai','data','generateContent','path','apiKeys.txt','message','getGenerativeModel','‚ùå\x20Please\x20provide\x20text\x20to\x20speak.','writeFileSync','5239989lWjkyy','utility','‚ùå\x20All\x20TTS\x20API\x20keys\x20failed\x20or\x20rate\x20limited.','startsWith','remoteJid','üîÅ\x20Rotated\x20to\x20key\x20','join','string','1637376OMAWQc','code','trim','temp','20NxhrPU','69APVXRr','voice-','mkdirSync','.ogg','833702CMgUzF','from','Voice:\x20','Generate\x20speech\x20using\x20Gemini\x20native\x20TTS\x20(no\x20ffmpeg)','length','3325962BmQreO','5yKAUmn','split','uuid','apiKeys.txt\x20not\x20found','7900984crPFQe','audio','TTS\x20failed:\x20','80408HqlMNF','error','36710707McUDuM','filter','tts-advanced','quota','2atbKjm','unlinkSync'];a0_0x2bb7=function(){return _0x26cf30;};return a0_0x2bb7();}function a0_0x4604(_0x48cd30,_0x3ce68b){const _0x2bb7d0=a0_0x2bb7();return a0_0x4604=function(_0x460408,_0xb1d82d){_0x460408=_0x460408-0x94;let _0x5d2bfc=_0x2bb7d0[_0x460408];return _0x5d2bfc;},a0_0x4604(_0x48cd30,_0x3ce68b);}const fs=require('fs'),path=require(a0_0x3efdc1(0xb5)),{v4:uuidv4}=require(a0_0x3efdc1(0xa0)),{GoogleGenerativeAI}=require(a0_0x3efdc1(0xb2)),API_KEYS_FILE=path[a0_0x3efdc1(0xc1)](__dirname,'..','..','secrets',a0_0x3efdc1(0xb6));function loadApiKeys(){const _0x461c71=a0_0x3efdc1;if(!fs['existsSync'](API_KEYS_FILE))throw new Error(_0x461c71(0xa1));return fs['readFileSync'](API_KEYS_FILE,_0x461c71(0xad))[_0x461c71(0x9f)](/\r?\n/)[_0x461c71(0xa8)](Boolean);}const apiKeys=loadApiKeys();let currentKeyIndex=0x0;function createModel(){const _0x53e83e=a0_0x3efdc1,_0x2fbb35=apiKeys[currentKeyIndex],_0x3bcaba=new GoogleGenerativeAI(_0x2fbb35);return _0x3bcaba[_0x53e83e(0xb8)]({'model':'gemini-2.5-pro-preview-tts'});}let model=createModel();function rotateKey(){const _0x2f09c3=a0_0x3efdc1;currentKeyIndex=(currentKeyIndex+0x1)%apiKeys['length'],model=createModel(),console['log'](_0x2f09c3(0xc0)+(currentKeyIndex+0x1)+'/'+apiKeys[_0x2f09c3(0x9c)]);}module['exports']={'meta':{'name':a0_0x3efdc1(0xa9),'description':a0_0x3efdc1(0x9b),'usage':'.tts-advanced\x20[--voice-VoiceName]\x20<text>','category':a0_0x3efdc1(0xbc),'args':[{'name':a0_0x3efdc1(0xb0),'type':a0_0x3efdc1(0xc2),'greedy':!![],'required':!![]}]},'run':async({m:_0x330690,sock:_0x5e0d42,args:_0x58d8c5,flags:_0x2bdb6d})=>{const _0xb5a4ce=a0_0x3efdc1,_0x26250f=_0x330690['key'][_0xb5a4ce(0xbf)];let _0x5b659f=_0x58d8c5[_0xb5a4ce(0xb0)]?.[_0xb5a4ce(0xc5)]();const _0x2a8018=Object[_0xb5a4ce(0xaf)](_0x2bdb6d)[_0xb5a4ce(0xae)](_0x19af57=>_0x19af57[_0xb5a4ce(0xbe)]('voice-'))?.['replace'](_0xb5a4ce(0x95),'')||'Kore';if(!_0x5b659f)return _0x5e0d42[_0xb5a4ce(0xb1)](_0x26250f,{'text':_0xb5a4ce(0xb9)});const _0x3d308a=uuidv4(),_0x15213f=path[_0xb5a4ce(0xc1)](_0xb5a4ce(0xc6),_0x3d308a+_0xb5a4ce(0x97));if(!fs['existsSync']('temp'))fs[_0xb5a4ce(0x96)](_0xb5a4ce(0xc6));const _0xd7a9f7={'contents':[{'text':_0xb5a4ce(0x9a)+_0x2a8018+'.\x20'+_0x5b659f}],'generationConfig':{'responseMimeType':'audio/ogg;\x20codecs=opus'}};let _0x1fc02f;const _0x9e6e89=apiKeys['length'];let _0x2099df=0x0;while(_0x2099df<_0x9e6e89){try{const _0x47c7c4=await model[_0xb5a4ce(0xb4)](_0xd7a9f7),_0x773205=_0x47c7c4[_0xb5a4ce(0xa3)][_0xb5a4ce(0xb3)];_0x1fc02f=Buffer[_0xb5a4ce(0x99)](_0x773205,'base64');break;}catch(_0x2d3693){if(_0x2d3693[_0xb5a4ce(0xc4)]===0x1ad||_0x2d3693[_0xb5a4ce(0xb7)]['includes'](_0xb5a4ce(0xaa))){rotateKey(),_0x2099df++;continue;}else return console[_0xb5a4ce(0xa6)]('‚ùå\x20TTS\x20error:',_0x2d3693),_0x5e0d42['sendMessage'](_0x26250f,{'text':_0xb5a4ce(0xa4)+_0x2d3693[_0xb5a4ce(0xb7)]});}}if(!_0x1fc02f)return _0x5e0d42[_0xb5a4ce(0xb1)](_0x26250f,{'text':_0xb5a4ce(0xbd)});fs[_0xb5a4ce(0xba)](_0x15213f,_0x1fc02f),await _0x5e0d42[_0xb5a4ce(0xb1)](_0x26250f,{'audio':_0x1fc02f,'mimetype':'audio/ogg','ptt':!![]}),fs[_0xb5a4ce(0xac)](_0x15213f);}};