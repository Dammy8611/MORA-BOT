const a0_0x5546fc=a0_0x4085;(function(_0x2f6119,_0x460a30){const _0x5b466f=a0_0x4085,_0x39cf4e=_0x2f6119();while(!![]){try{const _0x58ccf7=parseInt(_0x5b466f(0xf3))/0x1*(parseInt(_0x5b466f(0xeb))/0x2)+-parseInt(_0x5b466f(0xf2))/0x3*(-parseInt(_0x5b466f(0x103))/0x4)+parseInt(_0x5b466f(0x107))/0x5+-parseInt(_0x5b466f(0x11e))/0x6+parseInt(_0x5b466f(0x117))/0x7*(-parseInt(_0x5b466f(0x108))/0x8)+-parseInt(_0x5b466f(0xff))/0x9*(parseInt(_0x5b466f(0xef))/0xa)+-parseInt(_0x5b466f(0xf9))/0xb*(-parseInt(_0x5b466f(0x113))/0xc);if(_0x58ccf7===_0x460a30)break;else _0x39cf4e['push'](_0x39cf4e['shift']());}catch(_0x152ac9){_0x39cf4e['push'](_0x39cf4e['shift']());}}}(a0_0x2171,0xba49e));const fs=require('fs'),path=require(a0_0x5546fc(0x100)),{v4:uuidv4}=require(a0_0x5546fc(0x106)),{GoogleGenerativeAI}=require('@google/generative-ai'),API_KEYS_FILE=path['join'](__dirname,'..','..',a0_0x5546fc(0x11a),a0_0x5546fc(0x102));function loadApiKeys(){const _0x5d0705=a0_0x5546fc;if(!fs[_0x5d0705(0xf5)](API_KEYS_FILE))throw new Error('apiKeys.txt\x20not\x20found');return fs[_0x5d0705(0x101)](API_KEYS_FILE,'utf8')['split'](/\r?\n/)[_0x5d0705(0xfc)](Boolean);}const apiKeys=loadApiKeys();let currentKeyIndex=0x0;function a0_0x4085(_0x5399e5,_0xb4d8c7){const _0x2171db=a0_0x2171();return a0_0x4085=function(_0x408521,_0x4ce3ec){_0x408521=_0x408521-0xeb;let _0x34267a=_0x2171db[_0x408521];return _0x34267a;},a0_0x4085(_0x5399e5,_0xb4d8c7);}function createModel(){const _0x1e7095=a0_0x5546fc,_0xe3637b=apiKeys[currentKeyIndex],_0x4ded74=new GoogleGenerativeAI(_0xe3637b);return _0x4ded74[_0x1e7095(0xfa)]({'model':_0x1e7095(0xf0)});}let model=createModel();function rotateKey(){const _0x16453b=a0_0x5546fc;currentKeyIndex=(currentKeyIndex+0x1)%apiKeys['length'],model=createModel(),console[_0x16453b(0x10a)]('üîÅ\x20Rotated\x20to\x20key\x20'+(currentKeyIndex+0x1)+'/'+apiKeys[_0x16453b(0x10b)]);}function a0_0x2171(){const _0x448444=['gemini-2.5-pro-preview-tts','message','3wFwUql','6sxsVgl','audio/ogg','existsSync','writeFileSync','code','key','30679bAwwEB','getGenerativeModel','tts-advanced','filter','trim','voice-','13527rpQTcB','path','readFileSync','apiKeys.txt','3726308KYxBbZ','unlinkSync','exports','uuid','879155MtWGqJ','88OZRLtx','data','log','length','remoteJid','join','Voice:\x20','from','mkdirSync','text','quota','3732cPdbgJ','utility','error','includes','593985SeegYs','TTS\x20failed:\x20','temp','secrets','‚ùå\x20Please\x20provide\x20text\x20to\x20speak.','Generate\x20speech\x20using\x20Gemini\x20native\x20TTS\x20(no\x20ffmpeg)','audio/ogg;\x20codecs=opus','2308794OKToxn','sendMessage','Kore','370654bEbKtI','audio','string','generateContent','6690rTZZby'];a0_0x2171=function(){return _0x448444;};return a0_0x2171();}module[a0_0x5546fc(0x105)]={'meta':{'name':a0_0x5546fc(0xfb),'description':a0_0x5546fc(0x11c),'usage':'.tts-advanced\x20[--voice-VoiceName]\x20<text>','category':a0_0x5546fc(0x114),'args':[{'name':a0_0x5546fc(0x111),'type':a0_0x5546fc(0xed),'greedy':!![],'required':!![]}]},'run':async({m:_0x2df8cf,sock:_0x5266e9,args:_0x4c2b34,flags:_0x51f515})=>{const _0x4bae9e=a0_0x5546fc,_0x192e5e=_0x2df8cf[_0x4bae9e(0xf8)][_0x4bae9e(0x10c)];let _0x141219=_0x4c2b34[_0x4bae9e(0x111)]?.[_0x4bae9e(0xfd)]();const _0x2e9a76=Object['keys'](_0x51f515)['find'](_0x48c167=>_0x48c167['startsWith'](_0x4bae9e(0xfe)))?.['replace'](_0x4bae9e(0xfe),'')||_0x4bae9e(0x120);if(!_0x141219)return _0x5266e9[_0x4bae9e(0x11f)](_0x192e5e,{'text':_0x4bae9e(0x11b)});const _0x4aa26b=uuidv4(),_0x5de67c=path[_0x4bae9e(0x10d)](_0x4bae9e(0x119),_0x4aa26b+'.ogg');if(!fs['existsSync'](_0x4bae9e(0x119)))fs[_0x4bae9e(0x110)](_0x4bae9e(0x119));const _0x3d72a6={'contents':[{'text':_0x4bae9e(0x10e)+_0x2e9a76+'.\x20'+_0x141219}],'generationConfig':{'responseMimeType':_0x4bae9e(0x11d)}};let _0x50231c;const _0x14ec4c=apiKeys[_0x4bae9e(0x10b)];let _0x5092d7=0x0;while(_0x5092d7<_0x14ec4c){try{const _0x45b1e2=await model[_0x4bae9e(0xee)](_0x3d72a6),_0x355b0b=_0x45b1e2[_0x4bae9e(0xec)][_0x4bae9e(0x109)];_0x50231c=Buffer[_0x4bae9e(0x10f)](_0x355b0b,'base64');break;}catch(_0x1a9a25){if(_0x1a9a25[_0x4bae9e(0xf7)]===0x1ad||_0x1a9a25[_0x4bae9e(0xf1)][_0x4bae9e(0x116)](_0x4bae9e(0x112))){rotateKey(),_0x5092d7++;continue;}else return console[_0x4bae9e(0x115)]('‚ùå\x20TTS\x20error:',_0x1a9a25),_0x5266e9['sendMessage'](_0x192e5e,{'text':_0x4bae9e(0x118)+_0x1a9a25[_0x4bae9e(0xf1)]});}}if(!_0x50231c)return _0x5266e9[_0x4bae9e(0x11f)](_0x192e5e,{'text':'‚ùå\x20All\x20TTS\x20API\x20keys\x20failed\x20or\x20rate\x20limited.'});fs[_0x4bae9e(0xf6)](_0x5de67c,_0x50231c),await _0x5266e9['sendMessage'](_0x192e5e,{'audio':_0x50231c,'mimetype':_0x4bae9e(0xf4),'ptt':!![]}),fs[_0x4bae9e(0x104)](_0x5de67c);}};