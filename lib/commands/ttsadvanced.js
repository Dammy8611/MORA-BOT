const a0_0x31d74a=a0_0x4f3b;(function(_0xca18a3,_0x53b40e){const _0x475c2b=a0_0x4f3b,_0x5dd269=_0xca18a3();while(!![]){try{const _0x184496=parseInt(_0x475c2b(0x1de))/0x1+-parseInt(_0x475c2b(0x1ee))/0x2*(parseInt(_0x475c2b(0x1fa))/0x3)+-parseInt(_0x475c2b(0x1f4))/0x4+parseInt(_0x475c2b(0x1e8))/0x5*(parseInt(_0x475c2b(0x1da))/0x6)+parseInt(_0x475c2b(0x1f0))/0x7+parseInt(_0x475c2b(0x1fe))/0x8+-parseInt(_0x475c2b(0x204))/0x9;if(_0x184496===_0x53b40e)break;else _0x5dd269['push'](_0x5dd269['shift']());}catch(_0x2825b3){_0x5dd269['push'](_0x5dd269['shift']());}}}(a0_0x3ed9,0x82967));const fs=require('fs'),path=require(a0_0x31d74a(0x1ec)),{v4:uuidv4}=require(a0_0x31d74a(0x1db)),{GoogleGenerativeAI}=require(a0_0x31d74a(0x1fd)),API_KEYS_FILE=path[a0_0x31d74a(0x1ea)](__dirname,'..','..',a0_0x31d74a(0x1fc),a0_0x31d74a(0x1f2));function loadApiKeys(){const _0x212e4b=a0_0x31d74a;if(!fs['existsSync'](API_KEYS_FILE))throw new Error(_0x212e4b(0x202));return fs[_0x212e4b(0x1ef)](API_KEYS_FILE,'utf8')['split'](/\r?\n/)[_0x212e4b(0x200)](Boolean);}function a0_0x3ed9(){const _0xfeb5f4=['tts-advanced','message','‚ùå\x20TTS\x20error:','length','sendMessage','unlinkSync','84SaBoGl','uuid','error','.tts-advanced\x20[--voice-VoiceName]\x20<text>','522417nAALpy','existsSync','‚ùå\x20Please\x20provide\x20text\x20to\x20speak.','key','exports','voice-','code','generateContent','from','quota','67225WKfqIX','temp','join','data','path','üîÅ\x20Rotated\x20to\x20key\x20','286048HQcqQW','readFileSync','2276267wKCEwv','writeFileSync','apiKeys.txt','Voice:\x20','3455728LJgDsW','‚ùå\x20All\x20TTS\x20API\x20keys\x20failed\x20or\x20rate\x20limited.','audio','keys','getGenerativeModel','text','6RldMpq','gemini-2.5-pro-preview-tts','secrets','@google/generative-ai','7920648yRIHeQ','includes','filter','find','apiKeys.txt\x20not\x20found','audio/ogg','3069378LTvpWH','log'];a0_0x3ed9=function(){return _0xfeb5f4;};return a0_0x3ed9();}const apiKeys=loadApiKeys();let currentKeyIndex=0x0;function createModel(){const _0x5c3721=a0_0x31d74a,_0x1ccd00=apiKeys[currentKeyIndex],_0x28687a=new GoogleGenerativeAI(_0x1ccd00);return _0x28687a[_0x5c3721(0x1f8)]({'model':_0x5c3721(0x1fb)});}let model=createModel();function rotateKey(){const _0x4aa3a8=a0_0x31d74a;currentKeyIndex=(currentKeyIndex+0x1)%apiKeys[_0x4aa3a8(0x209)],model=createModel(),console[_0x4aa3a8(0x205)](_0x4aa3a8(0x1ed)+(currentKeyIndex+0x1)+'/'+apiKeys[_0x4aa3a8(0x209)]);}function a0_0x4f3b(_0x14565e,_0xa22b96){const _0x3ed936=a0_0x3ed9();return a0_0x4f3b=function(_0x4f3b5f,_0x49ff76){_0x4f3b5f=_0x4f3b5f-0x1d8;let _0x281055=_0x3ed936[_0x4f3b5f];return _0x281055;},a0_0x4f3b(_0x14565e,_0xa22b96);}module[a0_0x31d74a(0x1e2)]={'meta':{'name':a0_0x31d74a(0x206),'description':'Generate\x20speech\x20using\x20Gemini\x20native\x20TTS\x20(no\x20ffmpeg)','usage':a0_0x31d74a(0x1dd),'category':'utility','args':[{'name':'text','type':'string','greedy':!![],'required':!![]}]},'run':async({m:_0x5bdb20,sock:_0x5282b1,args:_0x5a0d37,flags:_0x30a49e})=>{const _0x1dcdc8=a0_0x31d74a,_0x4f3c19=_0x5bdb20[_0x1dcdc8(0x1e1)]['remoteJid'];let _0x5d3be7=_0x5a0d37[_0x1dcdc8(0x1f9)]?.['trim']();const _0x474088=Object[_0x1dcdc8(0x1f7)](_0x30a49e)[_0x1dcdc8(0x201)](_0x2af09c=>_0x2af09c['startsWith'](_0x1dcdc8(0x1e3)))?.['replace'](_0x1dcdc8(0x1e3),'')||'Kore';if(!_0x5d3be7)return _0x5282b1[_0x1dcdc8(0x1d8)](_0x4f3c19,{'text':_0x1dcdc8(0x1e0)});const _0x5dd0c0=uuidv4(),_0x2dee6d=path['join'](_0x1dcdc8(0x1e9),_0x5dd0c0+'.ogg');if(!fs[_0x1dcdc8(0x1df)](_0x1dcdc8(0x1e9)))fs['mkdirSync'](_0x1dcdc8(0x1e9));const _0xbc4bd6={'contents':[{'text':_0x1dcdc8(0x1f3)+_0x474088+'.\x20'+_0x5d3be7}],'generationConfig':{'responseMimeType':'audio/ogg;\x20codecs=opus'}};let _0x15d603;const _0x5cbc0c=apiKeys[_0x1dcdc8(0x209)];let _0x10a9fe=0x0;while(_0x10a9fe<_0x5cbc0c){try{const _0x247bf2=await model[_0x1dcdc8(0x1e5)](_0xbc4bd6),_0x35a645=_0x247bf2[_0x1dcdc8(0x1f6)][_0x1dcdc8(0x1eb)];_0x15d603=Buffer[_0x1dcdc8(0x1e6)](_0x35a645,'base64');break;}catch(_0x11f8a7){if(_0x11f8a7[_0x1dcdc8(0x1e4)]===0x1ad||_0x11f8a7[_0x1dcdc8(0x207)][_0x1dcdc8(0x1ff)](_0x1dcdc8(0x1e7))){rotateKey(),_0x10a9fe++;continue;}else return console[_0x1dcdc8(0x1dc)](_0x1dcdc8(0x208),_0x11f8a7),_0x5282b1['sendMessage'](_0x4f3c19,{'text':'TTS\x20failed:\x20'+_0x11f8a7[_0x1dcdc8(0x207)]});}}if(!_0x15d603)return _0x5282b1[_0x1dcdc8(0x1d8)](_0x4f3c19,{'text':_0x1dcdc8(0x1f5)});fs[_0x1dcdc8(0x1f1)](_0x2dee6d,_0x15d603),await _0x5282b1[_0x1dcdc8(0x1d8)](_0x4f3c19,{'audio':_0x15d603,'mimetype':_0x1dcdc8(0x203),'ptt':!![]}),fs[_0x1dcdc8(0x1d9)](_0x2dee6d);}};