const a0_0x238d3e=a0_0x37b8;function a0_0x1d19(){const _0x577ad9=['34121LNWFHs','now','pipe','364554ZvzgmH','.jpg','readFileSync','base64','existsSync','apiKeys.txt','error','analyzeimage','text','180GVwgpJ','image/jpeg','14RwlXvR','url','99PgWwcr','utf8','split','âŒ\x20Please\x20reply\x20to\x20an\x20image.','extendedTextMessage','filter','unlink','contextInfo','Reply:\x20','apiKeys.txt\x20not\x20found','Describe\x20this\x20image\x20in\x20detail.','imageMessage','message','7cCcBRc','940572GYHXcz','end','sendMessage','Analyze\x20a\x20replied\x20image\x20and\x20describe\x20it\x20using\x20AI','remoteJid','generateContent','temp','1164200mJUyAu','user','2010zbrUOA','createWriteStream','getGenerativeModel','809361gVPvmJ','ðŸ“¸\x20*Image\x20Analysis:*\x0a\x0a','âŒ\x20IcatchAnalysis\x20Error:','âŒ\x20Thatâ€™s\x20not\x20an\x20image.','âŒ\x20Failed\x20to\x20analyze\x20the\x20image.\x20Make\x20sure\x20itâ€™s\x20a\x20valid\x20photo\x20and\x20try\x20again.','623110nyJTIS','join','key'];a0_0x1d19=function(){return _0x577ad9;};return a0_0x1d19();}(function(_0xe58792,_0x487f98){const _0x58ff41=a0_0x37b8,_0xb9210d=_0xe58792();while(!![]){try{const _0x3660c7=-parseInt(_0x58ff41(0x1f8))/0x1*(parseInt(_0x58ff41(0x206))/0x2)+parseInt(_0x58ff41(0x1fb))/0x3+-parseInt(_0x58ff41(0x1e4))/0x4+-parseInt(_0x58ff41(0x204))/0x5*(-parseInt(_0x58ff41(0x1ed))/0x6)+parseInt(_0x58ff41(0x1e3))/0x7*(-parseInt(_0x58ff41(0x1eb))/0x8)+parseInt(_0x58ff41(0x1f0))/0x9+parseInt(_0x58ff41(0x1f5))/0xa*(parseInt(_0x58ff41(0x1d6))/0xb);if(_0x3660c7===_0x487f98)break;else _0xb9210d['push'](_0xb9210d['shift']());}catch(_0x4c2fb9){_0xb9210d['push'](_0xb9210d['shift']());}}}(a0_0x1d19,0x283b7));import a0_0x41df67 from'fs';import a0_0x5128e5 from'path';import{fileURLToPath}from'url';import{downloadMediaMessage,getContentType}from'baileys-pro';import{GoogleGenerativeAI}from'@google/generative-ai';const __filename=fileURLToPath(import.meta[a0_0x238d3e(0x1d5)]),__dirname=a0_0x5128e5['dirname'](__filename),apiKeysFile=a0_0x5128e5[a0_0x238d3e(0x1f6)](__dirname,'..',a0_0x238d3e(0x200));function a0_0x37b8(_0x160bb2,_0x4628c7){const _0x1d1966=a0_0x1d19();return a0_0x37b8=function(_0x37b86e,_0xb22822){_0x37b86e=_0x37b86e-0x1d5;let _0x182604=_0x1d1966[_0x37b86e];return _0x182604;},a0_0x37b8(_0x160bb2,_0x4628c7);}if(!a0_0x41df67[a0_0x238d3e(0x1ff)](apiKeysFile))throw new Error(a0_0x238d3e(0x1df));const apiKeys=a0_0x41df67[a0_0x238d3e(0x1fd)](apiKeysFile,a0_0x238d3e(0x1d7))[a0_0x238d3e(0x1d8)](/\r?\n/)[a0_0x238d3e(0x1db)](Boolean),genAI=new GoogleGenerativeAI(apiKeys[0x0]),model=genAI[a0_0x238d3e(0x1ef)]({'model':'gemini-2.5-flash'});export const meta={'name':a0_0x238d3e(0x202),'description':a0_0x238d3e(0x1e7),'usage':'.analyzeimage\x20(reply\x20to\x20an\x20image)'};export async function run({m:_0x1e1920,sock:_0x285b3f}){const _0x168b7f=a0_0x238d3e,_0xbc5800=_0x1e1920[_0x168b7f(0x1f7)][_0x168b7f(0x1e8)],_0x419e31=_0x1e1920[_0x168b7f(0x1e2)]?.[_0x168b7f(0x1da)]?.[_0x168b7f(0x1dd)]?.['quotedMessage'];console['log'](_0x168b7f(0x1de),_0x419e31);if(!_0x419e31)return _0x285b3f[_0x168b7f(0x1e6)](_0xbc5800,{'text':_0x168b7f(0x1d9)});const _0x3561ac=getContentType(_0x419e31);if(_0x3561ac!==_0x168b7f(0x1e1))return _0x285b3f[_0x168b7f(0x1e6)](_0xbc5800,{'text':_0x168b7f(0x1f3)});try{const _0x5e9408=a0_0x5128e5[_0x168b7f(0x1f6)](__dirname,'..',_0x168b7f(0x1ea),'images');if(!a0_0x41df67[_0x168b7f(0x1ff)](_0x5e9408))a0_0x41df67['mkdirSync'](_0x5e9408,{'recursive':!![]});const _0x1c0eda='image_'+Date[_0x168b7f(0x1f9)]()+_0x168b7f(0x1fc),_0x6810ff=a0_0x5128e5['join'](_0x5e9408,_0x1c0eda),_0x6f2118=await downloadMediaMessage({'message':_0x419e31},'stream',{},{'logger':console,'reuploadRequest':_0x285b3f['updateMediaMessage']});await new Promise((_0x4eea08,_0x3c016c)=>{const _0x4f5a75=_0x168b7f,_0xf35dc4=a0_0x41df67[_0x4f5a75(0x1ee)](_0x6810ff);_0x6f2118[_0x4f5a75(0x1fa)](_0xf35dc4),_0x6f2118['on'](_0x4f5a75(0x1e5),_0x4eea08),_0x6f2118['on'](_0x4f5a75(0x201),_0x3c016c);});const _0x193812=a0_0x41df67[_0x168b7f(0x1fd)](_0x6810ff,{'encoding':_0x168b7f(0x1fe)}),_0x5985d1=await model[_0x168b7f(0x1e9)]({'contents':[{'role':_0x168b7f(0x1ec),'parts':[{'inlineData':{'mimeType':_0x168b7f(0x205),'data':_0x193812}},{'text':_0x168b7f(0x1e0)}]}]});console['log'](_0x5985d1);const _0x548123=await _0x5985d1['response'][_0x168b7f(0x203)]();await _0x285b3f[_0x168b7f(0x1e6)](_0xbc5800,{'text':_0x168b7f(0x1f1)+_0x548123}),a0_0x41df67[_0x168b7f(0x1dc)](_0x6810ff);}catch(_0x1517aa){console[_0x168b7f(0x201)](_0x168b7f(0x1f2),_0x1517aa),await _0x285b3f[_0x168b7f(0x1e6)](_0xbc5800,{'text':_0x168b7f(0x1f4)});}}