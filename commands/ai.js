function a0_0xfda0(_0x2883f8,_0x1fc337){const _0x1958ad=a0_0x1958();return a0_0xfda0=function(_0xfda0b6,_0x5e1eab){_0xfda0b6=_0xfda0b6-0x18e;let _0x665e1d=_0x1958ad[_0xfda0b6];return _0x665e1d;},a0_0xfda0(_0x2883f8,_0x1fc337);}const a0_0xcbd540=a0_0xfda0;(function(_0x19f1c2,_0x1c273a){const _0x38fecb=a0_0xfda0,_0x17759f=_0x19f1c2();while(!![]){try{const _0x538982=-parseInt(_0x38fecb(0x1d0))/0x1*(-parseInt(_0x38fecb(0x1e9))/0x2)+-parseInt(_0x38fecb(0x1e3))/0x3*(-parseInt(_0x38fecb(0x1a3))/0x4)+parseInt(_0x38fecb(0x1b6))/0x5*(-parseInt(_0x38fecb(0x1a0))/0x6)+-parseInt(_0x38fecb(0x1b9))/0x7*(-parseInt(_0x38fecb(0x18f))/0x8)+-parseInt(_0x38fecb(0x1ce))/0x9*(parseInt(_0x38fecb(0x1ca))/0xa)+-parseInt(_0x38fecb(0x1bc))/0xb+parseInt(_0x38fecb(0x19d))/0xc;if(_0x538982===_0x1c273a)break;else _0x17759f['push'](_0x17759f['shift']());}catch(_0x312a6d){_0x17759f['push'](_0x17759f['shift']());}}}(a0_0x1958,0x473ad));const fs=require('fs'),path=require('path'),{GoogleGenerativeAI}=require(a0_0xcbd540(0x1be)),{parseArgs}=require('../utils/parseArgs'),{resolveCommand}=require('../commands'),{settings:botSettings}=require(a0_0xcbd540(0x198)),{StatusUpdater}=require(a0_0xcbd540(0x194)),API_KEYS_FILE=path[a0_0xcbd540(0x1e2)](__dirname,'..',a0_0xcbd540(0x1a7));function loadApiKeys(){const _0x3f3dfa=a0_0xcbd540;if(!fs[_0x3f3dfa(0x1d1)](API_KEYSreply))throw new Error(_0x3f3dfa(0x191));return fs[_0x3f3dfa(0x19f)](API_KEYS_FILE,_0x3f3dfa(0x1b0))[_0x3f3dfa(0x18e)](/\r?\n/)[_0x3f3dfa(0x1ba)](Boolean);}const apiKeys=loadApiKeys();let currentKeyIndex=0x0;function a0_0x1958(){const _0x462e6c=['participant','remoteJid','\x22\x0aCommand\x20output:\x0a','key','stringify','602515PUdily','assistant','trim','36841DikLOV','filter','args','1865842CNByuU','ownerName','@google/generative-ai','ðŸ¤–\x20Thinking...','now','role','map','Talk\x20to\x20MORA-AI','gemini-2.5-flash','string','\x0a\x0aYou\x20are\x20','shift','Sorry,\x20I\x27m\x20having\x20trouble\x20processing\x20your\x20request\x20right\x20now.','update','5493610mKrvgo','replace','slice','name','9ASHCmu','Rate\x20limit\x20error:','13FXRCnl','existsSync','\x0a\x0aUser:\x20','command','run','message','.ai\x20<prompt>','log','push','isArray','Command\x20used\x20direct:true\x20â€”\x20skipping\x20summary\x20AI\x20reply','quotedMessage','You\x27re\x20a\x20smart,\x20witty,\x20Gen-Z\x20chatbot\x20with\x20a\x20chill,\x20upbeat\x20tone.\x0aYou\x20use\x20modern\x20slang\x20casually\x20(e.g.,\x20\x22bet\x22,\x20\x22vibe\x22,\x20\x22real\x20talk\x22,\x20\x22fr\x22,\x20\x22no\x20cap\x22\x20etc.\x20Use\x20sensibly).\x0aYou\x27re\x20still\x20helpful\x20and\x20concise\x20â€”\x20keep\x20replies\x20short\x20and\x20energetic.\x20ðŸŽ§ðŸ”¥','response','User:\x20','extractCommands:\x20Expected\x20array,\x20got:','Failed\x20to\x20extract\x20commands\x20from\x20prompt:','\x0aCommands\x20used:\x20','join','5376DAvvVj','toLocaleString','\x22\x0a\x0aMatch\x20it\x20to\x20one\x20or\x20more\x20commands\x20from\x20this\x20list:\x0a','\x20of\x20','exports','(command\x20ran\x20but\x20gave\x20no\x20output)','73366vQnDQa','user','\x0aDo\x20you\x20want\x20to\x20store\x20anything?\x20Respond\x20with\x20JSON\x20{\x22user\x22:\x20\x22\x22,\x20\x22global\x22:\x20\x22\x22}','ðŸ§ \x20Remixing\x20with\x20AI...','\x0aReply\x20with\x20Gen-Z\x20style\x20in\x201â€“2\x20lines.','split','712ubUgSN','ai_remember.json','apiKeys.txt\x20not\x20found','Error\x20extracting\x20commands:','keys','../utils/statusUpdater.js','\x0aYou\x20are\x20a\x20command\x20interpreter\x20for\x20a\x20chatbot.\x0a\x0aFrom\x20the\x20user\x27s\x20message:\x20\x22','users','error','../settings','...','\x0a\x0aFor\x20each\x20command,\x20generate\x20useful\x20arguments\x20based\x20on\x20what\x20the\x20user\x20is\x20asking.\x20Expand\x20short\x20or\x20vague\x20requests\x20into\x20rich,\x20descriptive\x20arguments.\x0aFor\x20example,\x20if\x20a\x20user\x20says:\x0a\x22make\x20a\x20detailed\x20image\x20of\x20a\x20cat\x22\x0a\x0aYou\x20should\x20return:\x0a[\x0a\x20\x20{\x0a\x20\x20\x20\x20\x22name\x22:\x20\x22image\x22,\x0a\x20\x20\x20\x20\x22args\x22:\x20\x22a\x20highly\x20detailed\x20digital\x20painting\x20of\x20a\x20cat\x20sitting\x20on\x20a\x20glowing\x20throne,\x20intricate\x20lighting\x20and\x20dramatic\x20shadows\x22\x0a\x20\x20}\x0a]\x0a\x0aAvoid\x20returning\x20\x22ai\x22\x20as\x20a\x20command\x20unless\x20the\x20user\x20explicitly\x20asks\x20to\x20chat\x20or\x20talk\x20with\x20the\x20bot.\x0a\x0aRespond\x20ONLY\x20with\x20raw\x20JSON\x20like:\x0a[\x0a\x20\x20{\x20\x22name\x22:\x20\x22commandName\x22,\x20\x22args\x22:\x20\x22argument\x20string\x22\x20}\x0a]\x0a\x0aNo\x20explanations,\x20no\x20markdown,\x20no\x20code\x20blocks.\x0a','done','botName','2881872YgJOlZ','meta','readFileSync','12PaSUID','sendMessage','parse','148zDPlyk','text','âŒ\x20not\x20found','Error\x20with\x20current\x20API\x20key:','apiKeys.txt','contextInfo','length','generateContent','.\x0aUser\x20said:\x20\x22','âœ…\x20Command(s)\x20completed','global','Failed\x20to\x20process\x20your\x20request.','writeFileSync','utf8'];a0_0x1958=function(){return _0x462e6c;};return a0_0x1958();}function setupGenAI(){const _0x20ff5a=a0_0xcbd540,_0x4f3d36=apiKeys[currentKeyIndex],_0x4d25cf=new GoogleGenerativeAI(_0x4f3d36);return _0x4d25cf['getGenerativeModel']({'model':_0x20ff5a(0x1c4)});}let model=setupGenAI();function rotateKey(){const _0x4c5630=a0_0xcbd540;currentKeyIndex=(currentKeyIndex+0x1)%apiKeys[_0x4c5630(0x1a9)],model=setupGenAI(),console[_0x4c5630(0x1d7)]('Switched\x20to\x20key\x20'+(currentKeyIndex+0x1)+_0x4c5630(0x1e6)+apiKeys[_0x4c5630(0x1a9)]);}const persona=a0_0xcbd540(0x1dc),MEM_FILE=path[a0_0xcbd540(0x1e2)](__dirname,'..','ai_memory.json'),REM_FILE=path[a0_0xcbd540(0x1e2)](__dirname,'..',a0_0xcbd540(0x190)),loadJson=(_0x116628,_0x58de73={})=>fs['existsSync'](_0x116628)?JSON[a0_0xcbd540(0x1a2)](fs['readFileSync'](_0x116628,a0_0xcbd540(0x1b0))):_0x58de73,saveJson=(_0x48d78d,_0x1c04b0)=>fs[a0_0xcbd540(0x1af)](_0x48d78d,JSON[a0_0xcbd540(0x1b5)](_0x1c04b0,null,0x2)),MEMORY=loadJson(MEM_FILE,{}),REMEMBER=loadJson(REM_FILE,{'users':{},'global':''}),MAX_MEMORY=0xf,addMemory=(_0x4f17f8,_0x132ae6,_0x17fe98)=>{const _0x54be0a=a0_0xcbd540;if(!MEMORY[_0x4f17f8])MEMORY[_0x4f17f8]=[];MEMORY[_0x4f17f8][_0x54be0a(0x1d8)]({'role':_0x132ae6,'msg':_0x17fe98,'ts':Date[_0x54be0a(0x1c0)]()});if(MEMORY[_0x4f17f8][_0x54be0a(0x1a9)]>MAX_MEMORY)MEMORY[_0x4f17f8][_0x54be0a(0x1c7)]();saveJson(MEM_FILE,MEMORY);},getMemory=_0x5d4b50=>(MEMORY[_0x5d4b50]||[])[a0_0xcbd540(0x1cc)](-MAX_MEMORY)[a0_0xcbd540(0x1c2)](_0x1d6385=>_0x1d6385[a0_0xcbd540(0x1c1)]+':\x20'+_0x1d6385['msg'])[a0_0xcbd540(0x1e2)]('\x0a');async function runCommand(_0x126740,_0x58e9ea,_0x243188,_0x25afd5,_0x9bf854){const _0x5d2bfc=a0_0xcbd540;console['log']('[runCommand]\x20Trying\x20to\x20resolve:',_0x126740);const _0x3899c5=resolveCommand(_0x126740);console[_0x5d2bfc(0x1d7)]('[runCommand]\x20Resolved\x20to:',_0x3899c5?.[_0x5d2bfc(0x1d3)]?.[_0x5d2bfc(0x19e)]?.['name']||_0x5d2bfc(0x1a5));if(!_0x3899c5)return{'output':null,'directUsed':![]};const {command:_0x5bbea5}=_0x3899c5,_0x58db1d=_0x58e9ea[_0x5d2bfc(0x1b8)]()[_0x5d2bfc(0x18e)](/\s+/),{args:_0x3f8ee6,flags:_0x4f1232}=parseArgs(_0x58db1d,_0x5bbea5[_0x5d2bfc(0x19e)][_0x5d2bfc(0x1bb)]||[]);let _0x2a55ad='',_0x10c59c=![];const _0x44c2af={'sendMessage':async(_0x19a3cf,_0x1034c5)=>{const _0xee8bfc=_0x5d2bfc,_0x5be1f5=typeof _0x1034c5==='string'?_0x1034c5:_0x1034c5[_0xee8bfc(0x1a4)]||'';_0x2a55ad+=_0x5be1f5,_0x5bbea5[_0xee8bfc(0x19e)]['direct']===!![]&&(await _0x25afd5[_0xee8bfc(0x1a1)](_0x243188,_0x1034c5),_0x10c59c=!![]);}};try{await _0x5bbea5[_0x5d2bfc(0x1d4)]({'m':{'key':{'remoteJid':_0x243188},'message':{'extendedTextMessage':{'contextInfo':{'quotedMessage':_0x9bf854}}}},'sock':_0x44c2af,'args':_0x3f8ee6,'flags':_0x4f1232,'executeCommand':()=>{}});if(!_0x2a55ad[_0x5d2bfc(0x1b8)]())_0x2a55ad=_0x5d2bfc(0x1e8);}catch(_0x5a4287){_0x2a55ad='âŒ\x20'+(_0x5a4287[_0x5d2bfc(0x1d5)]||'Command\x20failed');}return{'output':_0x2a55ad[_0x5d2bfc(0x1b8)](),'directUsed':_0x10c59c};}async function extractCommands(_0x161647){const _0x549bf3=a0_0xcbd540,{commandMap:_0x34052d,aliasMap:_0x4eb853}=require('../commands'),_0x5a42a2=[...new Set([..._0x34052d[_0x549bf3(0x193)](),..._0x4eb853['keys']()])],_0x150ad4=_0x549bf3(0x195)+_0x161647+_0x549bf3(0x1e5)+_0x5a42a2[_0x549bf3(0x1e2)](',\x20')+_0x549bf3(0x19a);try{const _0x271a79=await model[_0x549bf3(0x1aa)](_0x150ad4);let _0x36a84b=_0x271a79[_0x549bf3(0x1dd)][_0x549bf3(0x1a4)]()['trim']();_0x36a84b=_0x36a84b[_0x549bf3(0x1cb)](/`/g,'')[_0x549bf3(0x1cb)](/```json/g,'')['replace'](/```/g,''),console[_0x549bf3(0x1d7)]('[extractCommands]\x20Gemini\x20raw\x20output:\x0a',_0x36a84b);const _0x5d268f=JSON['parse'](_0x36a84b);if(!Array['isArray'](_0x5d268f))return console[_0x549bf3(0x197)](_0x549bf3(0x1df),_0x5d268f),[];return _0x5d268f;}catch(_0x3057f5){return console[_0x549bf3(0x197)](_0x549bf3(0x1e0),_0x3057f5),[];}}module[a0_0xcbd540(0x1e7)]={'meta':{'name':'ai','description':a0_0xcbd540(0x1c3),'usage':a0_0xcbd540(0x1d6),'args':[{'name':a0_0xcbd540(0x1a4),'type':a0_0xcbd540(0x1c5),'greedy':!![],'required':!![]}]},'run':async({m:_0x5079a7,sock:_0xe33dbd,args:_0x5b372c})=>{const _0x17ec14=a0_0xcbd540,_0x57961f=_0x5079a7['key'][_0x17ec14(0x1b2)],_0x4eef23=_0x5079a7[_0x17ec14(0x1b4)][_0x17ec14(0x1b1)]||_0x57961f,_0x49cf52=_0x5b372c['text'],_0x3c7110=_0x5079a7[_0x17ec14(0x1d5)]?.['extendedTextMessage']?.[_0x17ec14(0x1a8)]?.[_0x17ec14(0x1db)],_0x4aaed6=new StatusUpdater(_0xe33dbd,_0x57961f);await _0x4aaed6['start'](),await _0x4aaed6['update'](_0x17ec14(0x1bf)),addMemory(_0x4eef23,_0x17ec14(0x1ea),_0x49cf52);let _0x5bca18;try{await _0x4aaed6[_0x17ec14(0x1c9)]('ðŸ”\x20Extracting\x20commands...'),_0x5bca18=await extractCommands(_0x49cf52);}catch(_0x144431){return console[_0x17ec14(0x197)](_0x17ec14(0x192),_0x144431),_0xe33dbd[_0x17ec14(0x1a1)](_0x57961f,{'text':_0x17ec14(0x1ae)});}if(!Array[_0x17ec14(0x1d9)](_0x5bca18))return console['error']('commandsToRun\x20is\x20not\x20an\x20array:',_0x5bca18),_0xe33dbd[_0x17ec14(0x1a1)](_0x57961f,{'text':_0x17ec14(0x1ae)});const _0x11fa74=[];let _0x3c900b=![];for(const {name:_0x2f6520,args:_0xc135fc}of _0x5bca18){await _0x4aaed6[_0x17ec14(0x1c9)]('âš™ï¸\x20Running\x20/'+_0x2f6520+_0x17ec14(0x199));const {output:_0x37a6e4,directUsed:_0x1f2f28}=await runCommand(_0x2f6520,_0xc135fc,_0x57961f,_0xe33dbd,_0x3c7110);if(_0x37a6e4)_0x11fa74[_0x17ec14(0x1d8)]({'name':_0x2f6520,'raw':_0x37a6e4});if(_0x1f2f28)_0x3c900b=!![];}const _0x41f29a=_0x11fa74[_0x17ec14(0x1c2)](_0x4f7687=>_0x4f7687[_0x17ec14(0x1cd)]+':\x20'+_0x4f7687['raw'])[_0x17ec14(0x1e2)]('\x0a');if(_0x3c900b){console[_0x17ec14(0x1d7)](_0x17ec14(0x1da)),await _0x4aaed6[_0x17ec14(0x19b)](_0x17ec14(0x1ac));return;}const _0x548706=persona+_0x17ec14(0x1c6)+botSettings[_0x17ec14(0x19c)]+',\x20owned\x20by\x20'+botSettings[_0x17ec14(0x1bd)]+'.\x0aTime\x20now:\x20'+new Date()[_0x17ec14(0x1e4)]()+_0x17ec14(0x1ab)+_0x49cf52+_0x17ec14(0x1b3)+_0x41f29a+_0x17ec14(0x1ed);let _0x128cf5='';const _0x27235c=0x3;let _0x4263c6=0x0;while(_0x4263c6<_0x27235c){try{await _0x4aaed6[_0x17ec14(0x1c9)](_0x17ec14(0x1ec));const _0x29e546=await model['generateContent'](_0x548706);_0x128cf5=_0x29e546[_0x17ec14(0x1dd)]['text']()[_0x17ec14(0x1b8)]();break;}catch(_0x34d779){if(_0x34d779['data']===0x1ad){console['error'](_0x17ec14(0x1cf),_0x34d779),_0x4263c6++;const _0x137829=Math['pow'](0x2,_0x4263c6)*0x3e8;await new Promise(_0x416032=>setTimeout(_0x416032,_0x137829)),rotateKey();}else{console['error'](_0x17ec14(0x1a6),_0x34d779),_0x128cf5='Sorry,\x20I\x27m\x20having\x20trouble\x20processing\x20your\x20request\x20right\x20now.';break;}}}if(!_0x11fa74[_0x17ec14(0x1a9)]){const _0xf8066e=persona+_0x17ec14(0x1d2)+_0x49cf52+'\x0aRespond\x20casually\x20and\x20helpfully:';try{const _0x21fde1=await model[_0x17ec14(0x1aa)](_0xf8066e);_0x128cf5=_0x21fde1['response'][_0x17ec14(0x1a4)]()[_0x17ec14(0x1b8)]();}catch(_0x84bb4d){console[_0x17ec14(0x197)](_0x17ec14(0x1a6),_0x84bb4d),_0x128cf5=_0x17ec14(0x1c8);}}addMemory(_0x4eef23,_0x17ec14(0x1b7),_0x128cf5);const _0x51ca5e=_0x17ec14(0x1de)+_0x49cf52+_0x17ec14(0x1e1)+_0x11fa74[_0x17ec14(0x1c2)](_0x233836=>_0x233836[_0x17ec14(0x1cd)])[_0x17ec14(0x1e2)](',')+_0x17ec14(0x1eb);try{const _0x54a6ca=await model[_0x17ec14(0x1aa)](_0x51ca5e),_0x2853eb=JSON['parse'](_0x54a6ca['response']['text']());if(_0x2853eb[_0x17ec14(0x1ea)])REMEMBER[_0x17ec14(0x196)][_0x4eef23]=_0x2853eb[_0x17ec14(0x1ea)];if(_0x2853eb['global'])REMEMBER[_0x17ec14(0x1ad)]=_0x2853eb[_0x17ec14(0x1ad)];saveJson(REM_FILE,REMEMBER);}catch{}const _0x3f22ba=_0x128cf5+'\x20\x0a\x0a\x20>\x20MORA\x20AI.\x20Generated\x20by\x20AI.\x20Don\x27t\x20take\x20responses\x20too\x20seriously';await _0x4aaed6[_0x17ec14(0x19b)](_0x3f22ba);}};