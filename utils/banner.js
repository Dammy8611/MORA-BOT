const a0_0x1a024b=a0_0x4895;(function(_0x44b32a,_0x39663a){const _0x166887=a0_0x4895,_0x1b2510=_0x44b32a();while(!![]){try{const _0x5c03d3=parseInt(_0x166887(0xe3))/0x1*(-parseInt(_0x166887(0xd3))/0x2)+parseInt(_0x166887(0xcf))/0x3*(parseInt(_0x166887(0xe7))/0x4)+parseInt(_0x166887(0xef))/0x5*(parseInt(_0x166887(0xf1))/0x6)+-parseInt(_0x166887(0xda))/0x7+-parseInt(_0x166887(0xe9))/0x8+-parseInt(_0x166887(0xe1))/0x9+parseInt(_0x166887(0xf8))/0xa;if(_0x5c03d3===_0x39663a)break;else _0x1b2510['push'](_0x1b2510['shift']());}catch(_0x5c2055){_0x1b2510['push'](_0x1b2510['shift']());}}}(a0_0x52e0,0xbbf01));function a0_0x52e0(){const _0x200f91=['path','.png','log','forEach','4045EvlHLn','User','1602inkzgs','exports','textAlign','fillStyle','floor','extname','clip','36917660qAUgmT','bold\x20','rgba(255,\x20255,\x20255,\x200.43)','Generated\x20by\x20MORA.','lineWidth','getContext','bottom','measureText','existsSync','image/png','th\x20member','white','px\x20','center','toLowerCase','ai.png','rgba(0,\x200,\x200,\x200.6)','height','fillText','toBuffer','1307406jAPyfA','canvas','Welcome\x20to\x20the\x20group!','black','303588fIdFum','.jpeg','px\x20Sans-serif','restore','drawImage','width','push','9254287XMBDuF','textBaseline','strokeText','length','beginPath','image.png','Sans-serif','7031943ndsiei','font','9yEbNKr','arc','split','.jpg','4pRLvDc','Group\x20Name','834112BlzqLF','strokeStyle'];a0_0x52e0=function(){return _0x200f91;};return a0_0x52e0();}const {createCanvas,loadImage}=require(a0_0x1a024b(0xd0)),fs=require('fs'),path=require(a0_0x1a024b(0xeb)),backgroundPath=path['join'](__dirname,a0_0x1a024b(0xca)),defaultAvatarPath=path['join'](__dirname,a0_0x1a024b(0xdf));function fitTextAndSplit(_0x38ae4f,_0x202384,_0x5dd8d4,_0x5bca7f,_0x435b3f,_0x385a53){const _0x3c42f1=a0_0x1a024b;let _0x41734b=_0x5bca7f;_0x38ae4f['font']=_0x3c42f1(0xf9)+_0x41734b+_0x3c42f1(0xc7)+_0x385a53;while(_0x38ae4f['measureText'](_0x202384)['width']>_0x5dd8d4&&_0x41734b>_0x435b3f){_0x41734b-=0x1,_0x38ae4f[_0x3c42f1(0xe2)]='bold\x20'+_0x41734b+_0x3c42f1(0xc7)+_0x385a53;}if(_0x38ae4f[_0x3c42f1(0xff)](_0x202384)[_0x3c42f1(0xd8)]>_0x5dd8d4){const _0x1aea16=_0x202384[_0x3c42f1(0xe5)]('\x20');let _0x577e05=[],_0x38d75f=_0x1aea16[0x0];for(let _0x28d2c1=0x1;_0x28d2c1<_0x1aea16[_0x3c42f1(0xdd)];_0x28d2c1++){const _0x466f33=_0x38d75f+'\x20'+_0x1aea16[_0x28d2c1];_0x38ae4f['measureText'](_0x466f33)[_0x3c42f1(0xd8)]<=_0x5dd8d4?_0x38d75f=_0x466f33:(_0x577e05[_0x3c42f1(0xd9)](_0x38d75f),_0x38d75f=_0x1aea16[_0x28d2c1]);}return _0x577e05[_0x3c42f1(0xd9)](_0x38d75f),{'fontSize':_0x41734b,'lines':_0x577e05};}return{'fontSize':_0x41734b,'lines':[_0x202384]};}async function createWelcomeBanner({avatarUrl:avatarUrl=defaultAvatarPath,userName:userName=a0_0x1a024b(0xf0),groupName:groupName=a0_0x1a024b(0xe8),memberNumber:memberNumber=0x1}){const _0x521ca9=a0_0x1a024b;console[_0x521ca9(0xed)]('Background\x20exists?',fs['existsSync'](backgroundPath)),console[_0x521ca9(0xed)]('Avatar\x20exists?',fs[_0x521ca9(0x100)](avatarUrl));const _0x4a2b27=[_0x521ca9(0xec),_0x521ca9(0xe6),_0x521ca9(0xd4)];if(!_0x4a2b27['includes'](path[_0x521ca9(0xf6)](backgroundPath)[_0x521ca9(0xc9)]()))throw new Error('Background\x20image\x20must\x20be\x20PNG\x20or\x20JPG.\x20Got:\x20'+backgroundPath);if(!_0x4a2b27['includes'](path[_0x521ca9(0xf6)](avatarUrl)[_0x521ca9(0xc9)]()))throw new Error('Avatar\x20image\x20must\x20be\x20PNG\x20or\x20JPG.\x20Got:\x20'+avatarUrl);const _0x4c55b2=await loadImage(backgroundPath),_0x2b8c32=await loadImage(avatarUrl),_0x39219c=createCanvas(_0x4c55b2['width'],_0x4c55b2[_0x521ca9(0xcc)]),_0x1e502b=_0x39219c[_0x521ca9(0xfd)]('2d');_0x1e502b[_0x521ca9(0xd7)](_0x4c55b2,0x0,0x0);const _0x56d6f6=_0x4c55b2[_0x521ca9(0xcc)]*0.4,_0x40349a=_0x56d6f6,_0x1c299b=_0x4c55b2[_0x521ca9(0xd8)]*0.05,_0x25b1b8=(_0x4c55b2['height']-_0x56d6f6)/0x2;_0x1e502b['save'](),_0x1e502b[_0x521ca9(0xde)](),_0x1e502b[_0x521ca9(0xe4)](_0x1c299b+_0x40349a/0x2,_0x25b1b8+_0x56d6f6/0x2,_0x40349a/0x2,0x0,Math['PI']*0x2),_0x1e502b['closePath'](),_0x1e502b[_0x521ca9(0xf7)](),_0x1e502b['drawImage'](_0x2b8c32,_0x1c299b,_0x25b1b8,_0x40349a,_0x56d6f6),_0x1e502b[_0x521ca9(0xd6)]();const _0x19a696=_0x40349a*1.5,{fontSize:_0x50b878,lines:_0x1b4240}=fitTextAndSplit(_0x1e502b,userName||_0x521ca9(0xf0),_0x19a696,Math[_0x521ca9(0xf5)](_0x4c55b2['height']*0.07),Math[_0x521ca9(0xf5)](_0x4c55b2[_0x521ca9(0xcc)]*0.04),_0x521ca9(0xe0));_0x1e502b[_0x521ca9(0xe2)]=_0x521ca9(0xf9)+_0x50b878+'px\x20Sans-serif',_0x1e502b['fillStyle']=_0x521ca9(0xc6),_0x1e502b['textAlign']=_0x521ca9(0xc8),_0x1e502b['textBaseline']='top',_0x1e502b[_0x521ca9(0xea)]='black',_0x1e502b[_0x521ca9(0xfc)]=0x4;const _0xe57033=_0x1c299b+_0x40349a/0x2;let _0x212087=_0x25b1b8+_0x56d6f6+0x14;_0x1b4240['forEach'](_0x35255e=>{const _0x339882=_0x521ca9;_0x1e502b[_0x339882(0xdc)](_0x35255e,_0xe57033,_0x212087),_0x1e502b[_0x339882(0xcd)](_0x35255e,_0xe57033,_0x212087),_0x212087+=_0x50b878+0x5;}),_0x1e502b['font']='bold\x20'+Math[_0x521ca9(0xf5)](_0x4c55b2[_0x521ca9(0xcc)]*0.09)+_0x521ca9(0xd5),_0x1e502b[_0x521ca9(0xf4)]=_0x521ca9(0xc6),_0x1e502b[_0x521ca9(0xf3)]=_0x521ca9(0xc8),_0x1e502b[_0x521ca9(0xdb)]='middle',_0x1e502b[_0x521ca9(0xea)]=_0x521ca9(0xd2),_0x1e502b[_0x521ca9(0xfc)]=0x4;const _0x2f222=_0x4c55b2[_0x521ca9(0xd8)]*0.65,_0x1a804e=_0x4c55b2[_0x521ca9(0xcc)]*0.42;_0x1e502b[_0x521ca9(0xdc)](_0x521ca9(0xd1),_0x2f222,_0x1a804e),_0x1e502b[_0x521ca9(0xcd)](_0x521ca9(0xd1),_0x2f222,_0x1a804e);const _0x55c287=_0x4c55b2[_0x521ca9(0xd8)]*0.5,{fontSize:_0x31e495,lines:_0x219733}=fitTextAndSplit(_0x1e502b,groupName||_0x521ca9(0xe8),_0x55c287,Math[_0x521ca9(0xf5)](_0x4c55b2[_0x521ca9(0xcc)]*0.08),Math[_0x521ca9(0xf5)](_0x4c55b2['height']*0.06),_0x521ca9(0xe0));_0x1e502b[_0x521ca9(0xe2)]=_0x521ca9(0xf9)+_0x31e495+_0x521ca9(0xd5);let _0x2b88f1=_0x1a804e+_0x4c55b2[_0x521ca9(0xcc)]*0.12;_0x219733[_0x521ca9(0xee)](_0xdaa910=>{const _0x475d42=_0x521ca9,_0xa89f7a=0x14,_0x524948=0xa,_0xc71d0e=_0x1e502b[_0x475d42(0xff)](_0xdaa910)[_0x475d42(0xd8)];_0x1e502b['save'](),_0x1e502b[_0x475d42(0xf4)]=_0x475d42(0xcb),_0x1e502b['fillRect'](_0x2f222-_0xc71d0e/0x2-_0xa89f7a,_0x2b88f1-_0x31e495+0x17,_0xc71d0e+_0xa89f7a*0x2,_0x31e495+_0x524948),_0x1e502b['restore'](),_0x1e502b[_0x475d42(0xdc)](_0xdaa910,_0x2f222,_0x2b88f1),_0x1e502b[_0x475d42(0xf4)]=_0x475d42(0xc6),_0x1e502b[_0x475d42(0xcd)](_0xdaa910,_0x2f222,_0x2b88f1),_0x2b88f1+=_0x31e495+0x5;}),_0x1e502b[_0x521ca9(0xe2)]=_0x521ca9(0xf9)+Math['floor'](_0x4c55b2[_0x521ca9(0xcc)]*0.05)+'px\x20Sans-serif';const _0x3dc781='You\x20are\x20the\x20'+memberNumber+_0x521ca9(0xc5);return _0x1e502b[_0x521ca9(0xdc)](_0x3dc781,_0x2f222,_0x2b88f1+0xa),_0x1e502b[_0x521ca9(0xcd)](_0x3dc781,_0x2f222,_0x2b88f1+0xa),_0x1e502b[_0x521ca9(0xe2)]=Math[_0x521ca9(0xf5)](_0x4c55b2[_0x521ca9(0xcc)]*0.04)+'px\x20Sans-serif',_0x1e502b['textAlign']='right',_0x1e502b[_0x521ca9(0xdb)]=_0x521ca9(0xfe),_0x1e502b[_0x521ca9(0xf4)]=_0x521ca9(0xfa),_0x1e502b['fillText'](_0x521ca9(0xfb),_0x4c55b2[_0x521ca9(0xd8)]-0xa,_0x4c55b2['height']-0xa),_0x39219c[_0x521ca9(0xce)](_0x521ca9(0xc4));}function a0_0x4895(_0x173ac6,_0x23070e){const _0x52e078=a0_0x52e0();return a0_0x4895=function(_0x489575,_0x2b5e55){_0x489575=_0x489575-0xc4;let _0x5498dd=_0x52e078[_0x489575];return _0x5498dd;},a0_0x4895(_0x173ac6,_0x23070e);}module[a0_0x1a024b(0xf2)]=createWelcomeBanner;