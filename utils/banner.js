const a0_0x2f8e7a=a0_0x2b62;(function(_0x945c99,_0x2b6bd6){const _0x53eb40=a0_0x2b62,_0x4a80aa=_0x945c99();while(!![]){try{const _0x285905=parseInt(_0x53eb40(0xcc))/0x1+parseInt(_0x53eb40(0xba))/0x2+parseInt(_0x53eb40(0xc1))/0x3+parseInt(_0x53eb40(0xbf))/0x4*(-parseInt(_0x53eb40(0xc7))/0x5)+-parseInt(_0x53eb40(0xd1))/0x6+-parseInt(_0x53eb40(0xdc))/0x7*(parseInt(_0x53eb40(0xd9))/0x8)+parseInt(_0x53eb40(0xcb))/0x9;if(_0x285905===_0x2b6bd6)break;else _0x4a80aa['push'](_0x4a80aa['shift']());}catch(_0xfe8833){_0x4a80aa['push'](_0x4a80aa['shift']());}}}(a0_0xb91d,0x3d2d8));function a0_0xb91d(){const _0x5c074f=['Welcome\x20to\x20the\x20group!','You\x20are\x20the\x20','Generated\x20by\x20MORA.','482224mtkpyb','Background\x20exists?','canvas','49JRjRJJ','white','right','measureText','restore','textAlign','push','strokeText','log','floor','save','existsSync','drawImage','width','length','bold\x20','97204cLemJP','height','Group\x20Name','beginPath','px\x20','4EAsZVW','Sans-serif','619530ocSmIG','textBaseline','closePath','px\x20Sans-serif','getContext','image.png','703295EFZcOx','image/png','toBuffer','strokeStyle','4328496dLrGYN','240076RvhKpT','clip','rgba(255,\x20255,\x20255,\x200.43)','fillText','font','977658ViaVbC','lineWidth','arc','fillStyle','middle'];a0_0xb91d=function(){return _0x5c074f;};return a0_0xb91d();}const {createCanvas,loadImage}=require(a0_0x2f8e7a(0xdb)),fs=require('fs'),path=require('path'),backgroundPath=path['join'](__dirname,'ai.png'),defaultAvatarPath=path['join'](__dirname,a0_0x2f8e7a(0xc6));function fitTextAndSplit(_0x2dd32d,_0x5af7c4,_0x29d16b,_0x2db20c,_0x278070,_0x595b3c){const _0x2ac30a=a0_0x2f8e7a;let _0x5af931=_0x2db20c;_0x2dd32d[_0x2ac30a(0xd0)]='bold\x20'+_0x5af931+_0x2ac30a(0xbe)+_0x595b3c;while(_0x2dd32d[_0x2ac30a(0xdf)](_0x5af7c4)[_0x2ac30a(0xe9)]>_0x29d16b&&_0x5af931>_0x278070){_0x5af931-=0x1,_0x2dd32d[_0x2ac30a(0xd0)]='bold\x20'+_0x5af931+_0x2ac30a(0xbe)+_0x595b3c;}if(_0x2dd32d[_0x2ac30a(0xdf)](_0x5af7c4)['width']>_0x29d16b){const _0x322d90=_0x5af7c4['split']('\x20');let _0x19e906=[],_0x2414db=_0x322d90[0x0];for(let _0x946f5b=0x1;_0x946f5b<_0x322d90[_0x2ac30a(0xea)];_0x946f5b++){const _0x14eba9=_0x2414db+'\x20'+_0x322d90[_0x946f5b];_0x2dd32d[_0x2ac30a(0xdf)](_0x14eba9)[_0x2ac30a(0xe9)]<=_0x29d16b?_0x2414db=_0x14eba9:(_0x19e906['push'](_0x2414db),_0x2414db=_0x322d90[_0x946f5b]);}return _0x19e906[_0x2ac30a(0xe2)](_0x2414db),{'fontSize':_0x5af931,'lines':_0x19e906};}return{'fontSize':_0x5af931,'lines':[_0x5af7c4]};}function a0_0x2b62(_0x44fe83,_0x56235f){const _0xb91d47=a0_0xb91d();return a0_0x2b62=function(_0x2b62ea,_0x3e9811){_0x2b62ea=_0x2b62ea-0xba;let _0x4e7683=_0xb91d47[_0x2b62ea];return _0x4e7683;},a0_0x2b62(_0x44fe83,_0x56235f);}async function createWelcomeBanner({avatarUrl:avatarUrl=defaultAvatarPath,groupName:groupName=a0_0x2f8e7a(0xbc),memberNumber:memberNumber=0x1}){const _0x4b6f48=a0_0x2f8e7a;console['log'](_0x4b6f48(0xda),fs[_0x4b6f48(0xe7)](backgroundPath)),console[_0x4b6f48(0xe4)]('Avatar\x20exists?',fs['existsSync'](avatarUrl));const _0x7e752=await loadImage(backgroundPath),_0x356578=await loadImage(avatarUrl),_0x4d2ba2=createCanvas(_0x7e752[_0x4b6f48(0xe9)],_0x7e752[_0x4b6f48(0xbb)]),_0x36c81f=_0x4d2ba2[_0x4b6f48(0xc5)]('2d');_0x36c81f[_0x4b6f48(0xe8)](_0x7e752,0x0,0x0);const _0x33f88d=_0x7e752[_0x4b6f48(0xbb)]*0.4,_0x5584b1=_0x33f88d,_0x203fa0=_0x7e752[_0x4b6f48(0xe9)]*0.05,_0x15555e=(_0x7e752['height']-_0x33f88d)/0x2;_0x36c81f[_0x4b6f48(0xe6)](),_0x36c81f[_0x4b6f48(0xbd)](),_0x36c81f[_0x4b6f48(0xd3)](_0x203fa0+_0x5584b1/0x2,_0x15555e+_0x33f88d/0x2,_0x5584b1/0x2,0x0,Math['PI']*0x2),_0x36c81f[_0x4b6f48(0xc3)](),_0x36c81f[_0x4b6f48(0xcd)](),_0x36c81f['drawImage'](_0x356578,_0x203fa0,_0x15555e,_0x5584b1,_0x33f88d),_0x36c81f[_0x4b6f48(0xe0)](),_0x36c81f[_0x4b6f48(0xbd)](),_0x36c81f['arc'](_0x203fa0+_0x5584b1/0x2,_0x15555e+_0x33f88d/0x2,_0x5584b1/0x2,0x0,Math['PI']*0x2),_0x36c81f[_0x4b6f48(0xd2)]=Math[_0x4b6f48(0xe5)](_0x7e752[_0x4b6f48(0xbb)]*0.015),_0x36c81f['strokeStyle']='white',_0x36c81f['stroke'](),_0x36c81f['font']=_0x4b6f48(0xeb)+Math[_0x4b6f48(0xe5)](_0x7e752[_0x4b6f48(0xbb)]*0.09)+_0x4b6f48(0xc4),_0x36c81f['fillStyle']='white',_0x36c81f[_0x4b6f48(0xe1)]='center',_0x36c81f[_0x4b6f48(0xc2)]=_0x4b6f48(0xd5),_0x36c81f[_0x4b6f48(0xca)]='black',_0x36c81f[_0x4b6f48(0xd2)]=0x4;const _0x24edc7=_0x7e752[_0x4b6f48(0xe9)]*0.65,_0x1382b2=_0x7e752[_0x4b6f48(0xbb)]*0.39;_0x36c81f['strokeText']('Welcome\x20to\x20the\x20group!',_0x24edc7,_0x1382b2),_0x36c81f['fillText'](_0x4b6f48(0xd6),_0x24edc7,_0x1382b2);const _0x4a6a9c=_0x7e752[_0x4b6f48(0xe9)]*0.5,{fontSize:_0x24f2b3,lines:_0x3a86d3}=fitTextAndSplit(_0x36c81f,groupName||_0x4b6f48(0xbc),_0x4a6a9c,Math[_0x4b6f48(0xe5)](_0x7e752['height']*0.08),Math[_0x4b6f48(0xe5)](_0x7e752['height']*0.06),_0x4b6f48(0xc0));_0x36c81f[_0x4b6f48(0xd0)]=_0x4b6f48(0xeb)+_0x24f2b3+_0x4b6f48(0xc4);let _0x2affde=_0x1382b2+_0x7e752[_0x4b6f48(0xbb)]*0.12;_0x3a86d3['forEach'](_0x2b5253=>{const _0x5d6473=_0x4b6f48,_0x1c96d2=0x14,_0x1d4287=0xa,_0x2fec5c=_0x36c81f[_0x5d6473(0xdf)](_0x2b5253)['width'];_0x36c81f[_0x5d6473(0xe6)](),_0x36c81f[_0x5d6473(0xd4)]='rgba(0,\x200,\x200,\x200.6)',_0x36c81f['fillRect'](_0x24edc7-_0x2fec5c/0x2-_0x1c96d2,_0x2affde-_0x24f2b3+0x17,_0x2fec5c+_0x1c96d2*0x2,_0x24f2b3+_0x1d4287),_0x36c81f[_0x5d6473(0xe0)](),_0x36c81f[_0x5d6473(0xe3)](_0x2b5253,_0x24edc7,_0x2affde),_0x36c81f[_0x5d6473(0xd4)]=_0x5d6473(0xdd),_0x36c81f[_0x5d6473(0xcf)](_0x2b5253,_0x24edc7,_0x2affde),_0x2affde+=_0x24f2b3+0x5;}),_0x36c81f[_0x4b6f48(0xd0)]='bold\x20'+Math[_0x4b6f48(0xe5)](_0x7e752[_0x4b6f48(0xbb)]*0.05)+_0x4b6f48(0xc4);const _0x53abf8=_0x4b6f48(0xd7)+memberNumber+'th\x20member';return _0x36c81f[_0x4b6f48(0xe3)](_0x53abf8,_0x24edc7,_0x2affde+0xa),_0x36c81f[_0x4b6f48(0xcf)](_0x53abf8,_0x24edc7,_0x2affde+0xa),_0x36c81f[_0x4b6f48(0xd0)]=Math[_0x4b6f48(0xe5)](_0x7e752['height']*0.04)+_0x4b6f48(0xc4),_0x36c81f[_0x4b6f48(0xe1)]=_0x4b6f48(0xde),_0x36c81f[_0x4b6f48(0xc2)]='bottom',_0x36c81f[_0x4b6f48(0xd4)]=_0x4b6f48(0xce),_0x36c81f['fillText'](_0x4b6f48(0xd8),_0x7e752[_0x4b6f48(0xe9)]-0xa,_0x7e752[_0x4b6f48(0xbb)]-0xa),_0x4d2ba2[_0x4b6f48(0xc9)](_0x4b6f48(0xc8));}module['exports']=createWelcomeBanner;