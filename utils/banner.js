const a0_0x377a29=a0_0x5c38;function a0_0x5c38(_0x32728e,_0x296299){const _0x26c6f8=a0_0x26c6();return a0_0x5c38=function(_0x5c380a,_0x21b4d4){_0x5c380a=_0x5c380a-0x1c3;let _0x1de635=_0x26c6f8[_0x5c380a];return _0x1de635;},a0_0x5c38(_0x32728e,_0x296299);}function a0_0x26c6(){const _0x19384e=['canvas','getContext','fillRect','.jpeg','Sans-serif','height','clip','1011246VZvJkK','759068UXLjmV','fillStyle','Background\x20exists?','drawImage','Welcome\x20to\x20the\x20group!','exports','px\x20','existsSync','split','black','You\x20are\x20the\x20','arc','Group\x20Name','px\x20Sans-serif','61412INNBVQ','187644XDGQse','width','includes','beginPath','Generated\x20by\x20MORA.','strokeText','floor','push','extname','textBaseline','forEach','font','middle','fillText','save','restore','join','textAlign','white','413285oDZBZX','Background\x20image\x20must\x20be\x20PNG\x20or\x20JPG.\x20Got:\x20','log','center','8pTKuaP','right','bold\x20','2098726hDLZWU','length','strokeStyle','lineWidth','image/png','Avatar\x20image\x20must\x20be\x20PNG\x20or\x20JPG.\x20Got:\x20','closePath','toLowerCase','.jpg','top','measureText','bottom','rgba(255,\x20255,\x20255,\x200.43)','6602136YSazOP'];a0_0x26c6=function(){return _0x19384e;};return a0_0x26c6();}(function(_0x182228,_0x49805d){const _0x458971=a0_0x5c38,_0x36691c=_0x182228();while(!![]){try{const _0x208e03=-parseInt(_0x458971(0x1f7))/0x1+parseInt(_0x458971(0x1d0))/0x2*(-parseInt(_0x458971(0x1f8))/0x3)+parseInt(_0x458971(0x1e9))/0x4+-parseInt(_0x458971(0x1cc))/0x5+-parseInt(_0x458971(0x1e8))/0x6+-parseInt(_0x458971(0x1d3))/0x7+parseInt(_0x458971(0x1e0))/0x8;if(_0x208e03===_0x49805d)break;else _0x36691c['push'](_0x36691c['shift']());}catch(_0x49caca){_0x36691c['push'](_0x36691c['shift']());}}}(a0_0x26c6,0x2535e));const {createCanvas,loadImage}=require(a0_0x377a29(0x1e1)),fs=require('fs'),path=require('path'),backgroundPath=path[a0_0x377a29(0x1c9)](__dirname,'ai.png'),defaultAvatarPath=path[a0_0x377a29(0x1c9)](__dirname,'image.png');function fitTextAndSplit(_0x54387a,_0x2032c5,_0x1500e4,_0x68a896,_0x439659,_0x4037e5){const _0x1268d2=a0_0x377a29;let _0x34890a=_0x68a896;_0x54387a[_0x1268d2(0x1c4)]=_0x1268d2(0x1d2)+_0x34890a+_0x1268d2(0x1ef)+_0x4037e5;while(_0x54387a[_0x1268d2(0x1dd)](_0x2032c5)[_0x1268d2(0x1f9)]>_0x1500e4&&_0x34890a>_0x439659){_0x34890a-=0x1,_0x54387a[_0x1268d2(0x1c4)]='bold\x20'+_0x34890a+_0x1268d2(0x1ef)+_0x4037e5;}if(_0x54387a['measureText'](_0x2032c5)[_0x1268d2(0x1f9)]>_0x1500e4){const _0x2e3b55=_0x2032c5[_0x1268d2(0x1f1)]('\x20');let _0x19d650=[],_0x3941e0=_0x2e3b55[0x0];for(let _0x327d8c=0x1;_0x327d8c<_0x2e3b55[_0x1268d2(0x1d4)];_0x327d8c++){const _0x5033e8=_0x3941e0+'\x20'+_0x2e3b55[_0x327d8c];_0x54387a[_0x1268d2(0x1dd)](_0x5033e8)[_0x1268d2(0x1f9)]<=_0x1500e4?_0x3941e0=_0x5033e8:(_0x19d650['push'](_0x3941e0),_0x3941e0=_0x2e3b55[_0x327d8c]);}return _0x19d650[_0x1268d2(0x1ff)](_0x3941e0),{'fontSize':_0x34890a,'lines':_0x19d650};}return{'fontSize':_0x34890a,'lines':[_0x2032c5]};}async function createWelcomeBanner({avatarUrl:avatarUrl=defaultAvatarPath,userName:userName='User',groupName:groupName=a0_0x377a29(0x1f5),memberNumber:memberNumber=0x1}){const _0x56620f=a0_0x377a29;console[_0x56620f(0x1ce)](_0x56620f(0x1eb),fs[_0x56620f(0x1f0)](backgroundPath)),console[_0x56620f(0x1ce)]('Avatar\x20exists?',fs[_0x56620f(0x1f0)](avatarUrl));const _0x3ff3dc=['.png',_0x56620f(0x1db),_0x56620f(0x1e4)];if(!_0x3ff3dc[_0x56620f(0x1fa)](path[_0x56620f(0x200)](backgroundPath)['toLowerCase']()))throw new Error(_0x56620f(0x1cd)+backgroundPath);if(!_0x3ff3dc[_0x56620f(0x1fa)](path[_0x56620f(0x200)](avatarUrl)[_0x56620f(0x1da)]()))throw new Error(_0x56620f(0x1d8)+avatarUrl);const _0x25ede7=await loadImage(backgroundPath),_0x377407=await loadImage(avatarUrl),_0x19425f=createCanvas(_0x25ede7['width'],_0x25ede7[_0x56620f(0x1e6)]),_0x12706b=_0x19425f[_0x56620f(0x1e2)]('2d');_0x12706b[_0x56620f(0x1ec)](_0x25ede7,0x0,0x0);const _0x43f36b=_0x25ede7[_0x56620f(0x1e6)]*0.4,_0x53d65d=_0x43f36b,_0x381332=_0x25ede7[_0x56620f(0x1f9)]*0.05,_0x149e38=(_0x25ede7['height']-_0x43f36b)/0x2;_0x12706b[_0x56620f(0x1c7)](),_0x12706b[_0x56620f(0x1fb)](),_0x12706b[_0x56620f(0x1f4)](_0x381332+_0x53d65d/0x2,_0x149e38+_0x43f36b/0x2,_0x53d65d/0x2,0x0,Math['PI']*0x2),_0x12706b[_0x56620f(0x1d9)](),_0x12706b[_0x56620f(0x1e7)](),_0x12706b[_0x56620f(0x1ec)](_0x377407,_0x381332,_0x149e38,_0x53d65d,_0x43f36b),_0x12706b[_0x56620f(0x1c8)]();const _0x2cefe9=_0x53d65d*1.5,{fontSize:_0x2e8813,lines:_0x2ba2f0}=fitTextAndSplit(_0x12706b,userName||'User',_0x2cefe9,Math[_0x56620f(0x1fe)](_0x25ede7['height']*0.07),Math[_0x56620f(0x1fe)](_0x25ede7[_0x56620f(0x1e6)]*0.04),_0x56620f(0x1e5));_0x12706b['font']=_0x56620f(0x1d2)+_0x2e8813+'px\x20Sans-serif',_0x12706b[_0x56620f(0x1ea)]=_0x56620f(0x1cb),_0x12706b['textAlign']=_0x56620f(0x1cf),_0x12706b[_0x56620f(0x201)]=_0x56620f(0x1dc),_0x12706b['strokeStyle']=_0x56620f(0x1f2),_0x12706b[_0x56620f(0x1d6)]=0x4;const _0xec0307=_0x381332+_0x53d65d/0x2;let _0x4c584=_0x149e38+_0x43f36b+0x14;_0x2ba2f0[_0x56620f(0x1c3)](_0x156b42=>{const _0x3529c1=_0x56620f;_0x12706b[_0x3529c1(0x1fd)](_0x156b42,_0xec0307,_0x4c584),_0x12706b['fillText'](_0x156b42,_0xec0307,_0x4c584),_0x4c584+=_0x2e8813+0x5;}),_0x12706b['font']=_0x56620f(0x1d2)+Math[_0x56620f(0x1fe)](_0x25ede7[_0x56620f(0x1e6)]*0.09)+_0x56620f(0x1f6),_0x12706b[_0x56620f(0x1ea)]=_0x56620f(0x1cb),_0x12706b[_0x56620f(0x1ca)]=_0x56620f(0x1cf),_0x12706b[_0x56620f(0x201)]=_0x56620f(0x1c5),_0x12706b[_0x56620f(0x1d5)]=_0x56620f(0x1f2),_0x12706b[_0x56620f(0x1d6)]=0x4;const _0x5fe95b=_0x25ede7[_0x56620f(0x1f9)]*0.65,_0x41f1ca=_0x25ede7[_0x56620f(0x1e6)]*0.42;_0x12706b[_0x56620f(0x1fd)](_0x56620f(0x1ed),_0x5fe95b,_0x41f1ca),_0x12706b[_0x56620f(0x1c6)]('Welcome\x20to\x20the\x20group!',_0x5fe95b,_0x41f1ca);const _0x10a852=_0x25ede7[_0x56620f(0x1f9)]*0.5,{fontSize:_0x473b49,lines:_0x435542}=fitTextAndSplit(_0x12706b,groupName||'Group\x20Name',_0x10a852,Math['floor'](_0x25ede7[_0x56620f(0x1e6)]*0.08),Math[_0x56620f(0x1fe)](_0x25ede7[_0x56620f(0x1e6)]*0.06),_0x56620f(0x1e5));_0x12706b[_0x56620f(0x1c4)]=_0x56620f(0x1d2)+_0x473b49+'px\x20Sans-serif';let _0x113c34=_0x41f1ca+_0x25ede7[_0x56620f(0x1e6)]*0.12;_0x435542[_0x56620f(0x1c3)](_0x3729af=>{const _0x4880f4=_0x56620f,_0x20f449=0x14,_0x268565=0xa,_0x17c078=_0x12706b['measureText'](_0x3729af)[_0x4880f4(0x1f9)];_0x12706b[_0x4880f4(0x1c7)](),_0x12706b[_0x4880f4(0x1ea)]='rgba(0,\x200,\x200,\x200.6)',_0x12706b[_0x4880f4(0x1e3)](_0x5fe95b-_0x17c078/0x2-_0x20f449,_0x113c34-_0x473b49+0x17,_0x17c078+_0x20f449*0x2,_0x473b49+_0x268565),_0x12706b[_0x4880f4(0x1c8)](),_0x12706b[_0x4880f4(0x1fd)](_0x3729af,_0x5fe95b,_0x113c34),_0x12706b['fillStyle']=_0x4880f4(0x1cb),_0x12706b[_0x4880f4(0x1c6)](_0x3729af,_0x5fe95b,_0x113c34),_0x113c34+=_0x473b49+0x5;}),_0x12706b[_0x56620f(0x1c4)]='bold\x20'+Math[_0x56620f(0x1fe)](_0x25ede7['height']*0.05)+'px\x20Sans-serif';const _0x34fb55=_0x56620f(0x1f3)+memberNumber+'th\x20member';return _0x12706b[_0x56620f(0x1fd)](_0x34fb55,_0x5fe95b,_0x113c34+0xa),_0x12706b[_0x56620f(0x1c6)](_0x34fb55,_0x5fe95b,_0x113c34+0xa),_0x12706b[_0x56620f(0x1c4)]=Math[_0x56620f(0x1fe)](_0x25ede7[_0x56620f(0x1e6)]*0.04)+_0x56620f(0x1f6),_0x12706b[_0x56620f(0x1ca)]=_0x56620f(0x1d1),_0x12706b[_0x56620f(0x201)]=_0x56620f(0x1de),_0x12706b[_0x56620f(0x1ea)]=_0x56620f(0x1df),_0x12706b[_0x56620f(0x1c6)](_0x56620f(0x1fc),_0x25ede7[_0x56620f(0x1f9)]-0xa,_0x25ede7[_0x56620f(0x1e6)]-0xa),_0x19425f['toBuffer'](_0x56620f(0x1d7));}module[a0_0x377a29(0x1ee)]=createWelcomeBanner;