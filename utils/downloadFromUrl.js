function a0_0x5474(){const _0x586337=['.png','pipe','mkdir','3895uuMukn','fs/promises','resolve','1710rAThVt','3zjSZxo','1680ugPecy','Fetch\x20failed\x20with\x20status\x20','.gif','content-type','1789128EmIMaW','filename','headers','join','path','2ZbuiGN','error','split','follow','content-disposition','undici','createWriteStream','2996848PebvCw','cwd','.zip','.jpg','338763RGnabx','9032CNrFKe','Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)','228294VaDWAr','1999780rpcYJI','now','body','.mp4','finish','.mp3','.bin','parameters','.pdf','get','../temp'];a0_0x5474=function(){return _0x586337;};return a0_0x5474();}const a0_0x107cc4=a0_0x5d87;function a0_0x5d87(_0x56e8d3,_0x186d6b){const _0x5474f6=a0_0x5474();return a0_0x5d87=function(_0x5d8784,_0x59b2ed){_0x5d8784=_0x5d8784-0x16c;let _0x450fef=_0x5474f6[_0x5d8784];return _0x450fef;},a0_0x5d87(_0x56e8d3,_0x186d6b);}(function(_0x1af5f3,_0x15e4d5){const _0x3c7b0f=a0_0x5d87,_0x2ea7a6=_0x1af5f3();while(!![]){try{const _0x4319e5=parseInt(_0x3c7b0f(0x16f))/0x1*(parseInt(_0x3c7b0f(0x18f))/0x2)+parseInt(_0x3c7b0f(0x185))/0x3*(parseInt(_0x3c7b0f(0x196))/0x4)+-parseInt(_0x3c7b0f(0x181))/0x5*(-parseInt(_0x3c7b0f(0x184))/0x6)+parseInt(_0x3c7b0f(0x186))/0x7*(-parseInt(_0x3c7b0f(0x170))/0x8)+-parseInt(_0x3c7b0f(0x18a))/0x9+-parseInt(_0x3c7b0f(0x173))/0xa+parseInt(_0x3c7b0f(0x172))/0xb;if(_0x4319e5===_0x15e4d5)break;else _0x2ea7a6['push'](_0x2ea7a6['shift']());}catch(_0x2a7474){_0x2ea7a6['push'](_0x2ea7a6['shift']());}}}(a0_0x5474,0xa1616));const fs=require('fs'),fsPromises=require(a0_0x107cc4(0x182)),path=require(a0_0x107cc4(0x18e)),os=require('os'),{parse:parseContentDisposition}=require('content-disposition'),{fetch}=require(a0_0x107cc4(0x194)),mimeToExt={'image/jpeg':a0_0x107cc4(0x16e),'image/png':a0_0x107cc4(0x17e),'image/gif':a0_0x107cc4(0x188),'video/mp4':a0_0x107cc4(0x176),'audio/mpeg':a0_0x107cc4(0x178),'application/pdf':a0_0x107cc4(0x17b),'application/zip':a0_0x107cc4(0x16d)},DEFAULT_TEMP_PATH=path['resolve'](__dirname,a0_0x107cc4(0x17d));async function downloadFile(_0xc4f520,_0x30e353=null,_0x58bc22=null){const _0x154fcf=a0_0x107cc4,_0x47e6e8=await fetch(_0xc4f520,{'method':'GET','redirect':_0x154fcf(0x192),'headers':{'User-Agent':_0x154fcf(0x171),'Accept':'*/*','Accept-Language':'en-US,en;q=0.9','Referer':_0xc4f520}});if(!_0x47e6e8['ok'])throw new Error(_0x154fcf(0x187)+_0x47e6e8['status']);if(!_0x30e353){const _0x284437=_0x47e6e8[_0x154fcf(0x18c)]['get'](_0x154fcf(0x193));if(_0x284437)try{const _0x5b3d8b=parseContentDisposition(_0x284437);_0x5b3d8b?.['parameters']?.[_0x154fcf(0x18b)]&&(_0x30e353=_0x5b3d8b[_0x154fcf(0x17a)][_0x154fcf(0x18b)]);}catch{}if(!_0x30e353){const _0xb24e2f=_0x47e6e8[_0x154fcf(0x18c)][_0x154fcf(0x17c)](_0x154fcf(0x189)),_0x4ba500=mimeToExt[_0xb24e2f?.[_0x154fcf(0x191)](';')[0x0]]||_0x154fcf(0x179);_0x30e353=''+Date[_0x154fcf(0x174)]()+_0x4ba500;}}const _0x41a8eb=_0x58bc22?path[_0x154fcf(0x183)](process[_0x154fcf(0x16c)](),_0x58bc22):DEFAULT_TEMP_PATH;await fsPromises[_0x154fcf(0x180)](_0x41a8eb,{'recursive':!![]});const _0x4ee230=path[_0x154fcf(0x18d)](_0x41a8eb,_0x30e353),_0x107103=fs[_0x154fcf(0x195)](_0x4ee230);return await new Promise((_0x508152,_0x4e15d9)=>{const _0x9d28bb=_0x154fcf;_0x47e6e8['body'][_0x9d28bb(0x17f)](_0x107103),_0x47e6e8[_0x9d28bb(0x175)]['on'](_0x9d28bb(0x190),_0x4e15d9),_0x107103['on'](_0x9d28bb(0x177),_0x508152);}),_0x4ee230;}module['exports']={'downloadFile':downloadFile};